/*! For license information please see index.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DiceGraph=e():t.DiceGraph=e()}(self,(function(){return(()=>{var t={12355:(t,e)=>{"use strict";e.Z=function(t,e,r){if(t){if("function"==typeof t.addEventListener)return t.addEventListener(e,r,!1),{remove:function(){t.removeEventListener(e,r,!1)}};if("function"==typeof t.attachEvent)return t.attachEvent("on"+e,r),{remove:function(){t.detachEvent("on"+e,r)}}}}},27566:(t,e)=>{"use strict";var r,n,i,o;e.Z=function(t){r||(r=document.createElement("table"),n=document.createElement("tr"),i=/^\s*<(\w+|!)[^>]*>/,o={tr:document.createElement("tbody"),tbody:r,thead:r,tfoot:r,td:n,th:n,"*":document.createElement("div")});var e=i.test(t)&&RegExp.$1;e&&e in o||(e="*");var a=o[e];t=t.replace(/(^\s*)|(\s*$)/g,""),a.innerHTML=""+t;var s=a.childNodes[0];return a.removeChild(s),s}},61586:(t,e)=>{"use strict";e.Z=function(t,e){if(t)for(var r in e)e.hasOwnProperty(r)&&(t.style[r]=e[r]);return t}},95472:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=function(){function t(){this._events={}}return t.prototype.on=function(t,e,r){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!r}),this},t.prototype.once=function(t,e){return this.on(t,e,!0),this},t.prototype.emit=function(t){for(var e=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this._events[t]||[],o=this._events["*"]||[],a=function(n){for(var i=n.length,o=0;o<i;o++)if(n[o]){var a=n[o],s=a.callback;a.once&&(n.splice(o,1),0===n.length&&delete e._events[t],i--,o--),s.apply(e,r)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var r=this._events[t]||[],n=r.length,i=0;i<n;i++)r[i].callback===e&&(r.splice(i,1),n--,i--);0===r.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}()},56642:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var n=r(40466),i=r(95472),o=r(49216);const a=function(t){function e(e){var r=t.call(this)||this;r.destroyed=!1;var n=r.getDefaultCfg();return r.cfg=(0,o.CD)(n,e),r}return(0,n.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(i.Z)},71651:(t,e,r)=>{"use strict";r.d(e,{Z:()=>fe});var n={};r.r(n),r.d(n,{easeBack:()=>rt,easeBackIn:()=>tt,easeBackInOut:()=>rt,easeBackOut:()=>et,easeBounce:()=>$,easeBounceIn:()=>K,easeBounceInOut:()=>Q,easeBounceOut:()=>$,easeCircle:()=>W,easeCircleIn:()=>H,easeCircleInOut:()=>W,easeCircleOut:()=>q,easeCubic:()=>T,easeCubicIn:()=>I,easeCubicInOut:()=>T,easeCubicOut:()=>O,easeElastic:()=>ot,easeElasticIn:()=>it,easeElasticInOut:()=>at,easeElasticOut:()=>ot,easeExp:()=>V,easeExpIn:()=>G,easeExpInOut:()=>V,easeExpOut:()=>X,easeLinear:()=>E,easePoly:()=>B,easePolyIn:()=>N,easePolyInOut:()=>B,easePolyOut:()=>D,easeQuad:()=>A,easeQuadIn:()=>C,easeQuadInOut:()=>A,easeQuadOut:()=>P,easeSin:()=>F,easeSinIn:()=>L,easeSinInOut:()=>F,easeSinOut:()=>z});var i,o,a=r(40466),s=r(23752),u=r(23692),h=r(49216),c=r(84677),l=0,f=0,d=0,p=0,g=0,v=0,y="object"==typeof performance&&performance.now?performance:Date,m="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function x(){return g||(m(b),g=y.now()+v)}function b(){g=0}function w(){this._call=this._time=this._next=null}function M(t,e,r){var n=new w;return n.restart(t,e,r),n}function S(){g=(p=y.now())+v,l=f=0;try{!function(){x(),++l;for(var t,e=i;e;)(t=g-e._time)>=0&&e._call.call(null,t),e=e._next;--l}()}finally{l=0,function(){var t,e,r=i,n=1/0;for(;r;)r._call?(n>r._time&&(n=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:i=e);o=t,k(n)}(),g=0}}function _(){var t=y.now(),e=t-p;e>1e3&&(v-=e,p=t)}function k(t){l||(f&&(f=clearTimeout(f)),t-g>24?(t<1/0&&(f=setTimeout(S,t-y.now()-v)),d&&(d=clearInterval(d))):(d||(p=y.now(),d=setInterval(_,1e3)),l=1,m(S)))}function E(t){return+t}function C(t){return t*t}function P(t){return t*(2-t)}function A(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function I(t){return t*t*t}function O(t){return--t*t*t+1}function T(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}w.prototype=M.prototype={constructor:w,restart:function(t,e,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?x():+r)+(null==e?0:+e),this._next||o===this||(o?o._next=this:i=this,o=this),this._call=t,this._time=r,k()},stop:function(){this._call&&(this._call=null,this._time=1/0,k())}};var N=function t(e){function r(t){return Math.pow(t,e)}return e=+e,r.exponent=t,r}(3),D=function t(e){function r(t){return 1-Math.pow(1-t,e)}return e=+e,r.exponent=t,r}(3),B=function t(e){function r(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,r.exponent=t,r}(3),j=Math.PI,R=j/2;function L(t){return 1==+t?1:1-Math.cos(t*R)}function z(t){return Math.sin(t*R)}function F(t){return(1-Math.cos(j*t))/2}function Y(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function G(t){return Y(1-+t)}function X(t){return 1-Y(t)}function V(t){return((t*=2)<=1?Y(1-t):2-Y(t-1))/2}function H(t){return 1-Math.sqrt(1-t*t)}function q(t){return Math.sqrt(1- --t*t)}function W(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var U=4/11,Z=7.5625;function K(t){return 1-$(1-t)}function $(t){return(t=+t)<U?Z*t*t:t<.7272727272727273?Z*(t-=.5454545454545454)*t+.75:t<.9090909090909091?Z*(t-=.8181818181818182)*t+.9375:Z*(t-=.9545454545454546)*t+.984375}function Q(t){return((t*=2)<=1?1-$(1-t):$(t-1)+1)/2}var J=1.70158,tt=function t(e){function r(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,r.overshoot=t,r}(J),et=function t(e){function r(t){return--t*t*((t+1)*e+t)+1}return e=+e,r.overshoot=t,r}(J),rt=function t(e){function r(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,r.overshoot=t,r}(J),nt=2*Math.PI,it=function t(e,r){var n=Math.asin(1/(e=Math.max(1,e)))*(r/=nt);function i(t){return e*Y(- --t)*Math.sin((n-t)/r)}return i.amplitude=function(e){return t(e,r*nt)},i.period=function(r){return t(e,r)},i}(1,.3),ot=function t(e,r){var n=Math.asin(1/(e=Math.max(1,e)))*(r/=nt);function i(t){return 1-e*Y(t=+t)*Math.sin((t+n)/r)}return i.amplitude=function(e){return t(e,r*nt)},i.period=function(r){return t(e,r)},i}(1,.3),at=function t(e,r){var n=Math.asin(1/(e=Math.max(1,e)))*(r/=nt);function i(t){return((t=2*t-1)<0?e*Y(-t)*Math.sin((n-t)/r):2-e*Y(t)*Math.sin((n+t)/r))/2}return i.amplitude=function(e){return t(e,r*nt)},i.period=function(r){return t(e,r)},i}(1,.3);function st(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function ut(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ht(){}var ct=.7,lt=1/ct,ft="\\s*([+-]?\\d+)\\s*",dt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",pt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gt=/^#([0-9a-f]{3,8})$/,vt=new RegExp("^rgb\\("+[ft,ft,ft]+"\\)$"),yt=new RegExp("^rgb\\("+[pt,pt,pt]+"\\)$"),mt=new RegExp("^rgba\\("+[ft,ft,ft,dt]+"\\)$"),xt=new RegExp("^rgba\\("+[pt,pt,pt,dt]+"\\)$"),bt=new RegExp("^hsl\\("+[dt,pt,pt]+"\\)$"),wt=new RegExp("^hsla\\("+[dt,pt,pt,dt]+"\\)$"),Mt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function St(){return this.rgb().formatHex()}function _t(){return this.rgb().formatRgb()}function kt(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=gt.exec(t))?(r=e[1].length,e=parseInt(e[1],16),6===r?Et(e):3===r?new It(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===r?Ct(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===r?Ct(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=vt.exec(t))?new It(e[1],e[2],e[3],1):(e=yt.exec(t))?new It(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=mt.exec(t))?Ct(e[1],e[2],e[3],e[4]):(e=xt.exec(t))?Ct(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=bt.exec(t))?Dt(e[1],e[2]/100,e[3]/100,1):(e=wt.exec(t))?Dt(e[1],e[2]/100,e[3]/100,e[4]):Mt.hasOwnProperty(t)?Et(Mt[t]):"transparent"===t?new It(NaN,NaN,NaN,0):null}function Et(t){return new It(t>>16&255,t>>8&255,255&t,1)}function Ct(t,e,r,n){return n<=0&&(t=e=r=NaN),new It(t,e,r,n)}function Pt(t){return t instanceof ht||(t=kt(t)),t?new It((t=t.rgb()).r,t.g,t.b,t.opacity):new It}function At(t,e,r,n){return 1===arguments.length?Pt(t):new It(t,e,r,null==n?1:n)}function It(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function Ot(){return"#"+Nt(this.r)+Nt(this.g)+Nt(this.b)}function Tt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Nt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Dt(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new jt(t,e,r,n)}function Bt(t){if(t instanceof jt)return new jt(t.h,t.s,t.l,t.opacity);if(t instanceof ht||(t=kt(t)),!t)return new jt;if(t instanceof jt)return t;var e=(t=t.rgb()).r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(r-n)/s+6*(r<n):r===o?(n-e)/s+2:(e-r)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new jt(a,s,u,t.opacity)}function jt(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function Rt(t,e,r){return 255*(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)}function Lt(t,e,r,n,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*r+(1+3*t+3*o-3*a)*n+a*i)/6}function zt(t){return function(){return t}}function Ft(t,e){return function(r){return t+r*e}}function Yt(t){return 1==(t=+t)?Gt:function(e,r){return r-e?function(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}(e,r,t):zt(isNaN(e)?r:e)}}function Gt(t,e){var r=e-t;return r?Ft(t,r):zt(isNaN(t)?e:t)}st(ht,kt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:St,formatHex:St,formatHsl:function(){return Bt(this).formatHsl()},formatRgb:_t,toString:_t}),st(It,At,ut(ht,{brighter:function(t){return t=null==t?lt:Math.pow(lt,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ct:Math.pow(ct,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ot,formatHex:Ot,formatRgb:Tt,toString:Tt})),st(jt,(function(t,e,r,n){return 1===arguments.length?Bt(t):new jt(t,e,r,null==n?1:n)}),ut(ht,{brighter:function(t){return t=null==t?lt:Math.pow(lt,t),new jt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ct:Math.pow(ct,t),new jt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new It(Rt(t>=240?t-240:t+120,i,n),Rt(t,i,n),Rt(t<120?t+240:t-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Xt=function t(e){var r=Yt(e);function n(t,e){var n=r((t=At(t)).r,(e=At(e)).r),i=r(t.g,e.g),o=r(t.b,e.b),a=Gt(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return n.gamma=t,n}(1);function Vt(t){return function(e){var r,n,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(r=0;r<i;++r)n=At(e[r]),o[r]=n.r||0,a[r]=n.g||0,s[r]=n.b||0;return o=t(o),a=t(a),s=t(s),n.opacity=1,function(t){return n.r=o(t),n.g=a(t),n.b=s(t),n+""}}}Vt((function(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),i=t[n],o=t[n+1],a=n>0?t[n-1]:2*i-o,s=n<e-1?t[n+2]:2*o-i;return Lt((r-n/e)*e,a,i,o,s)}})),Vt((function(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),i=t[(n+e-1)%e],o=t[n%e],a=t[(n+1)%e],s=t[(n+2)%e];return Lt((r-n/e)*e,i,o,a,s)}}));function Ht(t,e){e||(e=[]);var r,n=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(r=0;r<n;++r)i[r]=t[r]*(1-o)+e[r]*o;return i}}function qt(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Wt(t,e){var r,n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),a=new Array(n);for(r=0;r<i;++r)o[r]=te(t[r],e[r]);for(;r<n;++r)a[r]=e[r];return function(t){for(r=0;r<i;++r)a[r]=o[r](t);return a}}function Ut(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Zt(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Kt(t,e){var r,n={},i={};for(r in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)r in t?n[r]=te(t[r],e[r]):i[r]=e[r];return function(t){for(r in n)i[r]=n[r](t);return i}}var $t=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qt=new RegExp($t.source,"g");function Jt(t,e){var r,n,i,o=$t.lastIndex=Qt.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(r=$t.exec(t))&&(n=Qt.exec(e));)(i=n.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,u.push({i:a,x:Zt(r,n)})),o=Qt.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var r,n=0;n<e;++n)s[(r=u[n]).i]=r.x(t);return s.join("")})}function te(t,e){var r,n=typeof e;return null==e||"boolean"===n?zt(e):("number"===n?Zt:"string"===n?(r=kt(e))?(e=r,Xt):Jt:e instanceof kt?Xt:e instanceof Date?Ut:qt(e)?Ht:Array.isArray(e)?Wt:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Kt:Zt)(t,e)}var ee=r(20968),re=[1,0,0,0,1,0,0,0,1];function ne(t,e,r){var i,o=e.startTime;if(r<o+e.delay||e._paused)return!1;var a=e.duration,s=e.easing;if(r=r-o-e.delay,e.repeat)i=r%a/a,i=n[s](i);else{if(!((i=r/a)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;i=n[s](i)}if(e.onFrame){var u=e.onFrame(i);t.attr(u)}else!function(t,e,r){var n={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a,s,u,h;for(var l in o)if(!(0,c.isEqual)(i[l],o[l]))if("path"===l){var f=o[l],d=i[l];f.length>d.length?(f=ee.parsePathString(o[l]),d=ee.parsePathString(i[l]),d=ee.fillPathByDiff(d,f),d=ee.formatPath(d,f),e.fromAttrs.path=d,e.toAttrs.path=f):e.pathFormatted||(f=ee.parsePathString(o[l]),d=ee.parsePathString(i[l]),d=ee.formatPath(d,f),e.fromAttrs.path=d,e.toAttrs.path=f,e.pathFormatted=!0),n[l]=[];for(var p=0;p<f.length;p++){for(var g=f[p],v=d[p],y=[],m=0;m<g.length;m++)(0,c.isNumber)(g[m])&&v&&(0,c.isNumber)(v[m])?(a=te(v[m],g[m]),y.push(a(r))):y.push(g[m]);n[l].push(y)}}else if("matrix"===l){var x=(u=i[l]||re,(qt(h=o[l]||re)?Ht:Wt)(u,h))(r);n[l]=x}else["fill","stroke","fillStyle","strokeStyle"].includes(l)&&(s=o[l],/^[r,R,L,l]{1}[\s]*\(/.test(s))?n[l]=o[l]:(0,c.isFunction)(o[l])||(a=te(i[l],o[l]),n[l]=a(r));t.attr(n)}}(t,e,i);return!1}const ie=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,r,n=this;this.timer=M((function(i){if(n.current=i,n.animators.length>0){for(var o=n.animators.length-1;o>=0;o--)if((t=n.animators[o]).destroyed)n.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get("animations")).length-1;a>=0;a--)r=e[a],ne(t,r,i)&&(e.splice(a,1),!1,r.callback&&r.callback());0===e.length&&n.removeAnimator(o)}n.canvas.get("autoDraw")||n.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}();var oe=r(76840),ae=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function se(t,e,r){r.name=e,r.target=t,r.currentTarget=t,r.delegateTarget=t,t.emit(e,r)}function ue(t,e,r){if(r.bubbles){var n=void 0,i=!1;if("mouseenter"===e?(n=r.fromShape,i=!0):"mouseleave"===e&&(i=!0,n=r.toShape),t.isCanvas()&&i)return;if(n&&(0,h.UY)(t,n))return void(r.bubbles=!1);r.name=e,r.currentTarget=t,r.delegateTarget=t,t.emit(e,r)}}const he=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var r=t.type;e._triggerEvent(r,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var r=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,r,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var r=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,r,null),e._emitEvent("dragend",t,r,e.draggingShape),e._afterDrag(e.draggingShape,r,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");(0,h.S6)(ae,(function(r){e.addEventListener(r,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");(0,h.S6)(ae,(function(r){e.removeEventListener(r,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,r,n,i,o){var a=new oe.Z(t,e);return a.fromShape=i,a.toShape=o,a.x=r.x,a.y=r.y,a.clientX=r.clientX,a.clientY=r.clientY,a.propagationPath.push(n),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,r=e.getClientByEvent(t),n=e.getPointByEvent(t);return{x:n.x,y:n.y,clientX:r.x,clientY:r.y}},t.prototype._triggerEvent=function(t,e){var r=this._getPointInfo(e),n=this._getShape(r,e),i=this["_on"+t],o=!1;if(i)i.call(this,r,n,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,r,null,null,n),n&&this._emitEvent(t,e,r,n,null,n),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,r,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,r,a,a,null),this._emitEvent(t,e,r,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,r,null)):this._emitEvent(t,e,r,n,null,null)}if(o||(this.currentShape=n),n&&!n.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=n.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,r){0===r.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=r.timeStamp),this._emitEvent("mousedown",r,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,r,n){var i=this.canvas.get("el");r!==n&&(r&&(this._emitEvent("mouseout",t,e,r,r,n),this._emitEvent("mouseleave",t,e,r,r,n),n&&!n.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),n&&(this._emitEvent("mouseover",t,e,n,r,n),this._emitEvent("mouseenter",t,e,n,r,n)))},t.prototype._emitDragoverEvents=function(t,e,r,n,i){n?(n!==r&&(r&&this._emitEvent("dragleave",t,e,r,r,n),this._emitEvent("dragenter",t,e,n,r,n)),i||this._emitEvent("dragover",t,e,n)):r&&this._emitEvent("dragleave",t,e,r,r,n),i&&this._emitEvent("dragover",t,e,n)},t.prototype._afterDrag=function(t,e,r){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var n=this._getShape(e,r);n!==t&&this._emitMouseoverEvents(r,e,t,n),this.currentShape=n},t.prototype._onmouseup=function(t,e,r){if(0===r.button){var n=this.draggingShape;this.dragging?(n&&this._emitEvent("drop",r,t,e),this._emitEvent("dragend",r,t,n),this._afterDrag(n,t,r)):(this._emitEvent("mouseup",r,t,e),e===this.mousedownShape&&this._emitEvent("click",r,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,r){r.preventDefault();var n=this.currentShape;this._emitDragoverEvents(r,t,n,e,!0)},t.prototype._onmousemove=function(t,e,r){var n=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(r,t,i,e,!1),this._emitEvent("drag",r,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=r.timeStamp-this.mousedownTimeStamp,h=a.clientX-t.clientX,c=a.clientY-t.clientY;u>120||h*h+c*c>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",r,t,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&n.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",r,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(r,t,i,e),this._emitEvent("mousemove",r,t,e)):(this._emitMouseoverEvents(r,t,i,e),this._emitEvent("mousemove",r,t,e))}else this._emitMouseoverEvents(r,t,i,e),this._emitEvent("mousemove",r,t,e)}},t.prototype._emitEvent=function(t,e,r,n,i,o){var a=this._getEventObj(t,e,r,n,i,o);if(n){a.shape=n,se(n,t,a);for(var s=n.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||ue(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{se(this.canvas,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}();var ce=(0,s.detect)(),le=ce&&"firefox"===ce.name;const fe=function(t){function e(e){var r=t.call(this,e)||this;return r.initContainer(),r.initDom(),r.initEvents(),r.initTimeline(),r}return(0,a.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");(0,h.HD)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new he({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new ie(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var r=this.get("el");h.jU&&(r.style.width=t+"px",r.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");h.jU&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(le&&!(0,h.kK)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,h.kK)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),r=e.x,n=e.y;return this.getPointByClient(r,n)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var r=this.get("el").getBoundingClientRect();return{x:t-r.left,y:e-r.top}},e.prototype.getClientByPoint=function(t,e){var r=this.get("el").getBoundingClientRect();return{x:t+r.left,y:e+r.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(u.Z)},23692:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n=r(40466),i=r(86084),o=r(49216),a={};function s(t,e){if(t.set("canvas",e),t.isGroup()){var r=t.get("children");r.length&&r.forEach((function(t){s(t,e)}))}}function u(t,e){if(t.set("timeline",e),t.isGroup()){var r=t.get("children");r.length&&r.forEach((function(t){u(t,e)}))}}const h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,n.__extends)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,r=1/0,n=-1/0,i=[],a=[],s=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return s.length>0?((0,o.S6)(s,(function(t){var e=t.getBBox();i.push(e.minX,e.maxX),a.push(e.minY,e.maxY)})),t=Math.min.apply(null,i),e=Math.max.apply(null,i),r=Math.min.apply(null,a),n=Math.max.apply(null,a)):(t=0,e=0,r=0,n=0),{x:t,y:r,minX:t,minY:r,maxX:e,maxY:n,width:e-t,height:n-r}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,r=1/0,n=-1/0,i=[],a=[],s=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return s.length>0?((0,o.S6)(s,(function(t){var e=t.getCanvasBBox();i.push(e.minX,e.maxX),a.push(e.minY,e.maxY)})),t=Math.min.apply(null,i),e=Math.max.apply(null,i),r=Math.min.apply(null,a),n=Math.max.apply(null,a)):(t=0,e=0,r=0,n=0),{x:t,y:r,minX:t,minY:r,maxX:e,maxY:n,width:e-t,height:n-r}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,r,n){if(t.prototype.onAttrChange.call(this,e,r,n),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var r=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var n=this.getTotalMatrix();n!==r&&this._applyChildrenMarix(n)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();(0,o.S6)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],n=t[1];(0,o.Kn)(r)?n=r:n.type=r;var i=a[n.type];i||(i=(0,o.jC)(n.type),a[n.type]=i);var s=this.getShapeBase(),u=new s[i](n);return this.add(u),u},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r,n=t[0],i=t[1];if((0,o.mf)(n))r=new n(i||{parent:this});else{var a=n||{},s=this.getGroupBase();r=new s(a)}return this.add(r),r},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,r){if(!(0,o.pP)(this))return null;var n,i=this.getChildren();if(this.isCanvas())n=this._findShape(i,t,e,r);else{var a=[t,e,1];a=this.invertFromMatrix(a),this.isClipped(a[0],a[1])||(n=this._findShape(i,a[0],a[1],r))}return n},e.prototype._findShape=function(t,e,r,n){for(var i=null,a=t.length-1;a>=0;a--){var s=t[a];if((0,o.pP)(s)&&(s.isGroup()?i=s.getShape(e,r,n):s.isHit(e,r)&&(i=s)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),r=this.getChildren(),n=this.get("timeline"),i=t.getParent();i&&function(t,e,r){void 0===r&&(r=!0),r?e.destroy():(e.set("parent",null),e.set("canvas",null)),(0,o.As)(t.getChildren(),e)}(i,t,!1),t.set("parent",this),e&&s(t,e),n&&u(t,n),r.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();(0,o.S6)(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,r){var n=t(e,r);return 0===n?e._INDEX-r._INDEX:n})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],r=this.getChildren();return(0,o.S6)(r,(function(r){t(r)&&e.push(r),r.isGroup()&&(e=e.concat(r.findAll(t)))})),e},e.prototype.find=function(t){var e=null,r=this.getChildren();return(0,o.S6)(r,(function(r){if(t(r)?e=r:r.isGroup()&&(e=r.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(i.Z)},86084:(t,e,r)=>{"use strict";r.d(e,{Z:()=>v});var n=r(40466),i=r(84677),o=r(27881),a=r(49216),s=r(88019),u=r(56642),h=o.transform,c="matrix",l=["zIndex","capture","visible","type"],f=["repeat"];function d(t,e){var r={},n=e.attrs;for(var i in t)r[i]=n[i];return r}function p(t,e){var r={},n=e.attr();return(0,i.each)(t,(function(t,e){-1!==f.indexOf(e)||(0,i.isEqual)(n[e],t)||(r[e]=t)})),r}function g(t,e){if(e.onFrame)return t;var r=e.startTime,n=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return(0,i.each)(t,(function(t){r+n<t.startTime+t.delay+t.duration&&o>t.delay&&(0,i.each)(e.toAttrs,(function(e,r){a.call(t.toAttrs,r)&&(delete t.toAttrs[r],delete t.fromAttrs[r])}))})),t}const v=function(t){function e(e){var r=t.call(this,e)||this;r.attrs={};var n=r.getDefaultAttrs();return(0,i.mix)(n,e.attrs),r.attrs=n,r.initAttrs(n),r.initAnimate(),r}return(0,n.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],o=e[1];if(!n)return this.attrs;if((0,i.isObject)(n)){for(var a in n)this.setAttr(a,n[a]);return this.afterAttrsChange(n),this}return 2===e.length?(this.setAttr(n,o),this.afterAttrsChange(((t={})[n]=o,t)),this):this.attrs[n]},e.prototype.isClipped=function(t,e){var r=this.getClip();return r&&!r.isHit(t,e)},e.prototype.setAttr=function(t,e){var r=this.attrs[t];r!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,r))},e.prototype.onAttrChange=function(t,e,r){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),r=(this.get("el"),e.indexOf(this));e.splice(r,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),r=(this.get("el"),e.indexOf(this));e.splice(r,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?((0,a.As)(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(c,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(c)},e.prototype.setMatrix=function(t){this.attr(c,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),r=this.cfg.parentMatrix;t=r&&e?(0,s.xq)(r,e):e||r,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),r=null;r=t&&e?(0,s.xq)(t,e):e||t,this.set("totalMatrix",r),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?(0,s.rG)(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var r=(0,s.U_)(e);if(r)return(0,s.rG)(r,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),r=null;if(t){var n=this.getShapeBase()[(0,i.upperFirst)(t.type)];n&&(r=new n({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",r),this.onCanvasChange("clip"),r},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,r={};(0,i.each)(e,(function(t,n){(0,i.isArray)(e[n])?r[n]=function(t){for(var e=[],r=0;r<t.length;r++)(0,i.isArray)(t[r])?e.push([].concat(t[r])):e.push(t[r]);return e}(e[n]):r[n]=e[n]}));var n=new(0,this.constructor)({attrs:r});return(0,i.each)(l,(function(e){n.set(e,t.get(e))})),n},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.set("animating",!0);var r=this.get("timeline");r||(r=this.get("canvas").get("timeline"),this.set("timeline",r));var n=this.get("animations")||[];r.timer||r.initTimer();var o,a,s,u,h,c=t[0],l=t[1],f=t[2],v=void 0===f?"easeLinear":f,y=t[3],m=void 0===y?i.noop:y,x=t[4],b=void 0===x?0:x;(0,i.isFunction)(c)?(o=c,c={}):(0,i.isObject)(c)&&c.onFrame&&(o=c.onFrame,a=c.repeat),(0,i.isObject)(l)?(l=(h=l).duration,v=h.easing||"easeLinear",b=h.delay||0,a=h.repeat||a||!1,m=h.callback||i.noop,s=h.pauseCallback||i.noop,u=h.resumeCallback||i.noop):((0,i.isNumber)(m)&&(b=m,m=null),(0,i.isFunction)(v)?(m=v,v="easeLinear"):v=v||"easeLinear");var w=p(c,this),M={fromAttrs:d(w,this),toAttrs:w,duration:l,easing:v,repeat:a,callback:m,pauseCallback:s,resumeCallback:u,delay:b,startTime:r.getTime(),id:(0,i.uniqueId)(),onFrame:o,pathFormatted:!1};n.length>0?n=g(n,M):r.addAnimator(this),n.push(M),this.set("animations",n),this.set("_pause",{isPaused:!1})},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var r=this.get("animations");(0,i.each)(r,(function(r){t&&(r.onFrame?e.attr(r.onFrame(1)):e.attr(r.toAttrs)),r.callback&&r.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),r=t.getTime();return(0,i.each)(e,(function(t){t._paused=!0,t._pauseTime=r,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:r}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),r=this.get("_pause").pauseTime;return(0,i.each)(e,(function(e){e.startTime=e.startTime+(t-r),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var r,n=this,o=e.propagationPath;this.getEvents();"mouseenter"===t?r=e.fromShape:"mouseleave"===t&&(r=e.toShape);for(var s=function(t){var s=o[t],h=s.get("name");if(h){if((s.isGroup()||s.isCanvas&&s.isCanvas())&&r&&(0,a.UY)(s,r))return"break";(0,i.isArray)(h)?(0,i.each)(h,(function(t){n.emitDelegateEvent(s,t,e)})):u.emitDelegateEvent(s,h,e)}},u=this,h=0;h<o.length;h++){if("break"===s(h))break}},e.prototype.emitDelegateEvent=function(t,e,r){var n=this.getEvents(),i=e+":"+r.type;(n[i]||n["*"])&&(r.name=i,r.currentTarget=t,r.delegateTarget=this,r.delegateObject=t.get("delegateObject"),this.emit(i,r))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var r=this.getMatrix(),n=h(r,[["t",t,e]]);return this.setMatrix(n),this},e.prototype.move=function(t,e){var r=this.attr("x")||0,n=this.attr("y")||0;return this.translate(t-r,e-n),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var r=this.getMatrix(),n=h(r,[["s",t,e||t]]);return this.setMatrix(n),this},e.prototype.rotate=function(t){var e=this.getMatrix(),r=h(e,[["r",t]]);return this.setMatrix(r),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),r=e.x,n=e.y,i=this.getMatrix(),o=h(i,[["t",-r,-n],["r",t],["t",r,n]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,r){var n=this.getMatrix(),i=h(n,[["t",-t,-e],["r",r],["t",t,e]]);return this.setMatrix(i),this},e}(u.Z)},12238:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(40466);const i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,n.__extends)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),r=this.getChildren(),n=0;n<r.length;n++){var i=r[n];e.add(i.clone())}return e},e}(r(23692).Z)},79126:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var n=r(40466),i=r(86084),o=r(88019);const a=function(t){function e(e){return t.call(this,e)||this}return(0,n.__extends)(e,t),e.prototype._isInBBox=function(t,e){var r=this.getBBox();return r.minX<=t&&r.maxX>=t&&r.minY<=e&&r.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),r=t.minX,n=t.minY,i=t.maxX,a=t.maxY;if(e){var s=(0,o.rG)(e,[t.minX,t.minY]),u=(0,o.rG)(e,[t.maxX,t.minY]),h=(0,o.rG)(e,[t.minX,t.maxY]),c=(0,o.rG)(e,[t.maxX,t.maxY]);r=Math.min(s[0],u[0],h[0],c[0]),i=Math.max(s[0],u[0],h[0],c[0]),n=Math.min(s[1],u[1],h[1],c[1]),a=Math.max(s[1],u[1],h[1],c[1])}var l=this.attrs;if(l.shadowColor){var f=l.shadowBlur,d=void 0===f?0:f,p=l.shadowOffsetX,g=void 0===p?0:p,v=l.shadowOffsetY,y=void 0===v?0:v,m=r-d+g,x=i+d+g,b=n-d+y,w=a+d+y;r=Math.min(r,m),i=Math.max(i,x),n=Math.min(n,b),a=Math.max(a,w)}return{x:r,y:n,minX:r,minY:n,maxX:i,maxY:a,width:i-r,height:a-n}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var r=this.get("startArrowShape"),n=this.get("endArrowShape"),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(r&&r.isHit(o,a))return!0;if(n&&n.isHit(o,a))return!0}return!1},e}(i.Z)},76840:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}()},61468:(t,e,r)=>{"use strict";r.r(e),r.d(e,{version:()=>f,Event:()=>s.Z,Base:()=>u.Z,AbstractCanvas:()=>h.Z,AbstractGroup:()=>c.Z,AbstractShape:()=>l.Z,PathUtil:()=>n});var n=r(20968),i=r(26519),o={};for(const t in i)["default","version","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil"].indexOf(t)<0&&(o[t]=()=>i[t]);r.d(e,o);var a=r(3838);o={};for(const t in a)["default","version","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil"].indexOf(t)<0&&(o[t]=()=>a[t]);r.d(e,o);var s=r(76840),u=r(56642),h=r(71651),c=r(12238),l=r(79126),f=r(5198).version},3838:()=>{},26519:()=>{},88019:(t,e,r)=>{"use strict";function n(t,e){var r=[],n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],h=t[6],c=t[7],l=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],x=e[7],b=e[8];return r[0]=f*n+d*a+p*h,r[1]=f*i+d*s+p*c,r[2]=f*o+d*u+p*l,r[3]=g*n+v*a+y*h,r[4]=g*i+v*s+y*c,r[5]=g*o+v*u+y*l,r[6]=m*n+x*a+b*h,r[7]=m*i+x*s+b*c,r[8]=m*o+x*u+b*l,r}function i(t,e){var r=[],n=e[0],i=e[1];return r[0]=t[0]*n+t[3]*i+t[6],r[1]=t[1]*n+t[4]*i+t[7],r}function o(t){var e=[],r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],h=t[7],c=t[8],l=c*a-s*h,f=-c*o+s*u,d=h*o-a*u,p=r*l+n*f+i*d;return p?(p=1/p,e[0]=l*p,e[1]=(-c*n+i*h)*p,e[2]=(s*n-i*a)*p,e[3]=f*p,e[4]=(c*r-i*u)*p,e[5]=(-s*r+i*o)*p,e[6]=d*p,e[7]=(-h*r+n*u)*p,e[8]=(a*r-n*o)*p,e):null}r.d(e,{xq:()=>n,rG:()=>i,U_:()=>o})},20968:(t,e,r)=>{"use strict";r.r(e),r.d(e,{catmullRomToBezier:()=>u,fillPath:()=>I,fillPathByDiff:()=>N,formatPath:()=>j,intersection:()=>C,parsePathArray:()=>v,parsePathString:()=>s,pathToAbsolute:()=>c,pathToCurve:()=>p,rectPath:()=>M});var n=r(84677),i="\t\n\v\f\r   ᠎             　\u2028\u2029",o=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),s=function(t){if(!t)return null;if((0,n.isArray)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(t).replace(o,(function(n,i,o){var s=[],u=i.toLowerCase();if(o.replace(a,(function(t,e){e&&s.push(+e)})),"m"===u&&s.length>2&&(r.push([i].concat(s.splice(0,2))),u="l",i="m"===i?"l":"L"),"o"===u&&1===s.length&&r.push([i,s[0]]),"r"===u)r.push([i].concat(s));else for(;s.length>=e[u]&&(r.push([i].concat(s.splice(0,e[u]))),e[u]););return t})),r},u=function(t,e){for(var r=[],n=0,i=t.length;i-2*!e>n;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?i-4===n?o[3]={x:+t[0],y:+t[1]}:i-2===n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),r.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return r},h=function(t,e,r,n,i){var o=[];if(null===i&&null===n&&(n=r),t=+t,e=+e,r=+r,n=+n,null!==i){var a=Math.PI/180,s=t+r*Math.cos(-n*a),u=t+r*Math.cos(-i*a);o=[["M",s,e+r*Math.sin(-n*a)],["A",r,r,0,+(i-n>180),0,u,e+r*Math.sin(-i*a)]]}else o=[["M",t,e],["m",0,-n],["a",r,n,0,1,1,0,2*n],["a",r,n,0,1,1,0,-2*n],["z"]];return o},c=function(t){if(!(t=s(t))||!t.length)return[["M",0,0]];var e,r,n=[],i=0,o=0,a=0,c=0,l=0;"M"===t[0][0]&&(a=i=+t[0][1],c=o=+t[0][2],l++,n[0]=["M",i,o]);for(var f=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),d=void 0,p=void 0,g=l,v=t.length;g<v;g++){if(n.push(d=[]),(e=(p=t[g])[0])!==e.toUpperCase())switch(d[0]=e.toUpperCase(),d[0]){case"A":d[1]=p[1],d[2]=p[2],d[3]=p[3],d[4]=p[4],d[5]=p[5],d[6]=+p[6]+i,d[7]=+p[7]+o;break;case"V":d[1]=+p[1]+o;break;case"H":d[1]=+p[1]+i;break;case"R":for(var y=2,m=(r=[i,o].concat(p.slice(1))).length;y<m;y++)r[y]=+r[y]+i,r[++y]=+r[y]+o;n.pop(),n=n.concat(u(r,f));break;case"O":n.pop(),(r=h(i,o,p[1],p[2])).push(r[0]),n=n.concat(r);break;case"U":n.pop(),n=n.concat(h(i,o,p[1],p[2],p[3])),d=["U"].concat(n[n.length-1].slice(-2));break;case"M":a=+p[1]+i,c=+p[2]+o;break;default:for(y=1,m=p.length;y<m;y++)d[y]=+p[y]+(y%2?i:o)}else if("R"===e)r=[i,o].concat(p.slice(1)),n.pop(),n=n.concat(u(r,f)),d=["R"].concat(p.slice(-2));else if("O"===e)n.pop(),(r=h(i,o,p[1],p[2])).push(r[0]),n=n.concat(r);else if("U"===e)n.pop(),n=n.concat(h(i,o,p[1],p[2],p[3])),d=["U"].concat(n[n.length-1].slice(-2));else for(var x=0,b=p.length;x<b;x++)d[x]=p[x];if("O"!==(e=e.toUpperCase()))switch(d[0]){case"Z":i=+a,o=+c;break;case"H":i=d[1];break;case"V":o=d[1];break;case"M":a=d[d.length-2],c=d[d.length-1];break;default:i=d[d.length-2],o=d[d.length-1]}}return n},l=function(t,e,r,n){return[t,e,r,n,r,n]},f=function(t,e,r,n,i,o){var a=1/3,s=2/3;return[a*t+s*r,a*e+s*n,a*i+s*r,a*o+s*n,i,o]},d=function(t,e,r,n,i,o,a,s,u,h){r===n&&(r+=1);var c,l,f,p,g,v=120*Math.PI/180,y=Math.PI/180*(+i||0),m=[],x=function(t,e,r){return{x:t*Math.cos(r)-e*Math.sin(r),y:t*Math.sin(r)+e*Math.cos(r)}};if(h)l=h[0],f=h[1],p=h[2],g=h[3];else{t=(c=x(t,e,-y)).x,e=c.y,s=(c=x(s,u,-y)).x,u=c.y,t===s&&e===u&&(s+=1,u+=1);var b=(t-s)/2,w=(e-u)/2,M=b*b/(r*r)+w*w/(n*n);M>1&&(r*=M=Math.sqrt(M),n*=M);var S=r*r,_=n*n,k=(o===a?-1:1)*Math.sqrt(Math.abs((S*_-S*w*w-_*b*b)/(S*w*w+_*b*b)));p=k*r*w/n+(t+s)/2,g=k*-n*b/r+(e+u)/2,l=Math.asin(((e-g)/n).toFixed(9)),f=Math.asin(((u-g)/n).toFixed(9)),l=t<p?Math.PI-l:l,f=s<p?Math.PI-f:f,l<0&&(l=2*Math.PI+l),f<0&&(f=2*Math.PI+f),a&&l>f&&(l-=2*Math.PI),!a&&f>l&&(f-=2*Math.PI)}var E=f-l;if(Math.abs(E)>v){var C=f,P=s,A=u;f=l+v*(a&&f>l?1:-1),s=p+r*Math.cos(f),u=g+n*Math.sin(f),m=d(s,u,r,n,i,0,a,P,A,[f,C,p,g])}E=f-l;var I=Math.cos(l),O=Math.sin(l),T=Math.cos(f),N=Math.sin(f),D=Math.tan(E/4),B=4/3*r*D,j=4/3*n*D,R=[t,e],L=[t+B*O,e-j*I],z=[s+B*N,u-j*T],F=[s,u];if(L[0]=2*R[0]-L[0],L[1]=2*R[1]-L[1],h)return[L,z,F].concat(m);for(var Y=[],G=0,X=(m=[L,z,F].concat(m).join().split(",")).length;G<X;G++)Y[G]=G%2?x(m[G-1],m[G],y).y:x(m[G],m[G+1],y).x;return Y},p=function(t,e){var r,n=c(t),i=e&&c(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],h="",p="",g=function(t,e,r){var n,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(d.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===r||"S"===r?(n=2*e.x-e.bx,i=2*e.y-e.by):(n=e.x,i=e.y),t=["C",n,i].concat(t.slice(1));break;case"T":"Q"===r||"T"===r?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(f(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(f(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(l(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(l(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(l(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(l(e.x,e.y,e.X,e.Y))}return t},v=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)s[e]="A",i&&(u[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),r=Math.max(n.length,i&&i.length||0)}},y=function(t,e,o,a,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],r=Math.max(n.length,i&&i.length||0))};r=Math.max(n.length,i&&i.length||0);for(var m=0;m<r;m++){n[m]&&(h=n[m][0]),"C"!==h&&(s[m]=h,m&&(p=s[m-1])),n[m]=g(n[m],o,p),"A"!==s[m]&&"C"===h&&(s[m]="C"),v(n,m),i&&(i[m]&&(h=i[m][0]),"C"!==h&&(u[m]=h,m&&(p=u[m-1])),i[m]=g(i[m],a,p),"A"!==u[m]&&"C"===h&&(u[m]="C"),v(i,m)),y(n,i,o,a,m),y(i,n,a,o,m);var x=n[m],b=i&&i[m],w=x.length,M=i&&b.length;o.x=x[w-2],o.y=x[w-1],o.bx=parseFloat(x[w-4])||o.x,o.by=parseFloat(x[w-3])||o.y,a.bx=i&&(parseFloat(b[M-4])||a.x),a.by=i&&(parseFloat(b[M-3])||a.y),a.x=i&&b[M-2],a.y=i&&b[M-1]}return i?[n,i]:n},g=/,?([a-z]),?/gi,v=function(t){return t.join(",").replace(g,"$1")},y=function(t,e,r,n,i){return t*(t*(-3*e+9*r-9*n+3*i)+6*e-12*r+6*n)-3*e+3*r},m=function(t,e,r,n,i,o,a,s,u){null===u&&(u=1);for(var h=(u=u>1?1:u<0?0:u)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,d=0;d<12;d++){var p=h*c[d]+h,g=y(p,t,r,i,a),v=y(p,e,n,o,s),m=g*g+v*v;f+=l[d]*Math.sqrt(m)}return h*f},x=function(t,e,r,n,i,o,a,s){for(var u,h,c,l,f=[],d=[[],[]],p=0;p<2;++p)if(0===p?(h=6*t-12*r+6*i,u=-3*t+9*r-9*i+3*a,c=3*r-3*t):(h=6*e-12*n+6*o,u=-3*e+9*n-9*o+3*s,c=3*n-3*e),Math.abs(u)<1e-12){if(Math.abs(h)<1e-12)continue;(l=-c/h)>0&&l<1&&f.push(l)}else{var g=h*h-4*c*u,v=Math.sqrt(g);if(!(g<0)){var y=(-h+v)/(2*u);y>0&&y<1&&f.push(y);var m=(-h-v)/(2*u);m>0&&m<1&&f.push(m)}}for(var x,b=f.length,w=b;b--;)x=1-(l=f[b]),d[0][b]=x*x*x*t+3*x*x*l*r+3*x*l*l*i+l*l*l*a,d[1][b]=x*x*x*e+3*x*x*l*n+3*x*l*l*o+l*l*l*s;return d[0][w]=t,d[1][w]=e,d[0][w+1]=a,d[1][w+1]=s,d[0].length=d[1].length=w+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}},b=function(t,e,r,n,i,o,a,s){if(!(Math.max(t,r)<Math.min(i,a)||Math.min(t,r)>Math.max(i,a)||Math.max(e,n)<Math.min(o,s)||Math.min(e,n)>Math.max(o,s))){var u=(t-r)*(o-s)-(e-n)*(i-a);if(u){var h=((t*n-e*r)*(i-a)-(t-r)*(i*s-o*a))/u,c=((t*n-e*r)*(o-s)-(e-n)*(i*s-o*a))/u,l=+h.toFixed(2),f=+c.toFixed(2);if(!(l<+Math.min(t,r).toFixed(2)||l>+Math.max(t,r).toFixed(2)||l<+Math.min(i,a).toFixed(2)||l>+Math.max(i,a).toFixed(2)||f<+Math.min(e,n).toFixed(2)||f>+Math.max(e,n).toFixed(2)||f<+Math.min(o,s).toFixed(2)||f>+Math.max(o,s).toFixed(2)))return{x:h,y:c}}}},w=function(t,e,r){return e>=t.x&&e<=t.x+t.width&&r>=t.y&&r<=t.y+t.height},M=function(t,e,r,n,i){if(i)return[["M",+t+ +i,e],["l",r-2*i,0],["a",i,i,0,0,1,i,i],["l",0,n-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-r,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-n],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",r,0],["l",0,n],["l",-r,0],["z"]];return o.parsePathArray=v,o},S=function(t,e,r,n){return null===t&&(t=e=r=n=0),null===e&&(e=t.y,r=t.width,n=t.height,t=t.x),{x:t,y:e,width:r,w:r,height:n,h:n,x2:t+r,y2:e+n,cx:t+r/2,cy:e+n/2,r1:Math.min(r,n)/2,r2:Math.max(r,n)/2,r0:Math.sqrt(r*r+n*n)/2,path:M(t,e,r,n),vb:[t,e,r,n].join(" ")}},_=function(t,e,r,i,o,a,s,u){(0,n.isArray)(t)||(t=[t,e,r,i,o,a,s,u]);var h=x.apply(null,t);return S(h.min.x,h.min.y,h.max.x-h.min.x,h.max.y-h.min.y)},k=function(t,e,r,n,i,o,a,s,u){var h=1-u,c=Math.pow(h,3),l=Math.pow(h,2),f=u*u,d=f*u,p=t+2*u*(r-t)+f*(i-2*r+t),g=e+2*u*(n-e)+f*(o-2*n+e),v=r+2*u*(i-r)+f*(a-2*i+r),y=n+2*u*(o-n)+f*(s-2*o+n);return{x:c*t+3*l*u*r+3*h*u*u*i+d*a,y:c*e+3*l*u*n+3*h*u*u*o+d*s,m:{x:p,y:g},n:{x:v,y},start:{x:h*t+u*r,y:h*e+u*n},end:{x:h*i+u*a,y:h*o+u*s},alpha:90-180*Math.atan2(p-v,g-y)/Math.PI}},E=function(t,e,r){if(!function(t,e){return t=S(t),e=S(e),w(e,t.x,t.y)||w(e,t.x2,t.y)||w(e,t.x,t.y2)||w(e,t.x2,t.y2)||w(t,e.x,e.y)||w(t,e.x2,e.y)||w(t,e.x,e.y2)||w(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(_(t),_(e)))return r?0:[];for(var n=~~(m.apply(0,t)/8),i=~~(m.apply(0,e)/8),o=[],a=[],s={},u=r?0:[],h=0;h<n+1;h++){var c=k.apply(0,t.concat(h/n));o.push({x:c.x,y:c.y,t:h/n})}for(h=0;h<i+1;h++){c=k.apply(0,e.concat(h/i));a.push({x:c.x,y:c.y,t:h/i})}for(h=0;h<n;h++)for(var l=0;l<i;l++){var f=o[h],d=o[h+1],p=a[l],g=a[l+1],v=Math.abs(d.x-f.x)<.001?"y":"x",y=Math.abs(g.x-p.x)<.001?"y":"x",x=b(f.x,f.y,d.x,d.y,p.x,p.y,g.x,g.y);if(x){if(s[x.x.toFixed(4)]===x.y.toFixed(4))continue;s[x.x.toFixed(4)]=x.y.toFixed(4);var M=f.t+Math.abs((x[v]-f[v])/(d[v]-f[v]))*(d.t-f.t),E=p.t+Math.abs((x[y]-p[y])/(g[y]-p[y]))*(g.t-p.t);M>=0&&M<=1&&E>=0&&E<=1&&(r?u+=1:u.push({x:x.x,y:x.y,t1:M,t2:E}))}}return u},C=function(t,e){return function(t,e,r){var n,i,o,a,s,u,h,c,l,f;t=p(t),e=p(e);for(var d=r?0:[],g=0,v=t.length;g<v;g++){var y=t[g];if("M"===y[0])n=s=y[1],i=u=y[2];else{"C"===y[0]?(l=[n,i].concat(y.slice(1)),n=l[6],i=l[7]):(l=[n,i,n,i,s,u,s,u],n=s,i=u);for(var m=0,x=e.length;m<x;m++){var b=e[m];if("M"===b[0])o=h=b[1],a=c=b[2];else{"C"===b[0]?(f=[o,a].concat(b.slice(1)),o=f[6],a=f[7]):(f=[o,a,o,a,h,c,h,c],o=h,a=c);var w=E(l,f,r);if(r)d+=w;else{for(var M=0,S=w.length;M<S;M++)w[M].segment1=g,w[M].segment2=m,w[M].bez1=l,w[M].bez2=f;d=d.concat(w)}}}}}return d}(t,e)};function P(t,e){var r=[],n=[];return t.length&&function t(e,i){if(1===e.length)r.push(e[0]),n.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&r.push(e[0]),a===e.length-2&&n.push(e[a+1]),o[a]=[(1-i)*e[a][0]+i*e[a+1][0],(1-i)*e[a][1]+i*e[a+1][1]];t(o,i)}}(t,e),{left:r,right:n.reverse()}}var A=function(t,e,r){if(1===r)return[[].concat(t)];var n=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])n=n.concat(function(t,e,r){var n=[[t[1],t[2]]];r=r||2;var i=[];"A"===e[0]?(n.push(e[6]),n.push(e[7])):"C"===e[0]?(n.push([e[1],e[2]]),n.push([e[3],e[4]]),n.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(n.push([e[1],e[2]]),n.push([e[3],e[4]])):n.push([e[1],e[2]]);for(var o=n,a=1/r,s=0;s<r-1;s++){var u=P(o,a/(1-a*s));i.push(u.left),o=u.right}return i.push(o),i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])}))}(t,e,r));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=r-1;o++)n.push(i)}return n},I=function(t,e){if(1===t.length)return t;var r=t.length-1,n=e.length-1,i=r/n,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<n-r;a++)t.push(t[0]);return t}for(a=0;a<n;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var u=o.reduce((function(e,n,i){return i===r?e.concat(t[r]):e.concat(A(t[i],t[i+1],n))}),[]);return u.unshift(t[0]),"Z"!==e[n]&&"z"!==e[n]||u.push("Z"),u},O=function(t,e){if(t.length!==e.length)return!1;var r=!0;return(0,n.each)(t,(function(t,n){if(t!==e[n])return r=!1,!1})),r};function T(t,e,r){var n=null,i=r;return e<i&&(i=e,n="add"),t<i&&(i=t,n="del"),{type:n,min:i}}var N=function(t,e){var r=function(t,e){var r,n,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var s=[],u=0;u<=i;u++)s[u]=[],s[u][0]={min:u};for(var h=0;h<=o;h++)s[0][h]={min:h};for(u=1;u<=i;u++)for(r=t[u-1],h=1;h<=o;h++){n=e[h-1],a=O(r,n)?0:1;var c=s[u-1][h].min+1,l=s[u][h-1].min+1,f=s[u-1][h-1].min+a;s[u][h]=T(c,l,f)}return s}(t,e),n=t.length,i=e.length,o=[],a=1,s=1;if(r[n][i].min!==n){for(var u=1;u<=n;u++){var h=r[u][u].min;s=u;for(var c=a;c<=i;c++)r[u][c].min<h&&(h=r[u][c].min,s=c);a=s,r[u][a].type&&o.push({index:u-1,type:r[u][a].type})}for(u=o.length-1;u>=0;u--)a=o[u].index,"add"===o[u].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var l=i-(n=t.length);if(n<i)for(u=0;u<l;u++)"z"===t[n-1][0]||"Z"===t[n-1][0]?t.splice(n-2,0,t[n-2]):t.push(t[n-1]),n+=1;return t};function D(t,e,r){for(var n,i=[].concat(t),o=1/(r+1),a=B(e)[0],s=1;s<=r;s++)o*=s,0===(n=Math.floor(t.length*o))?i.unshift([a[0]*o+t[n][0]*(1-o),a[1]*o+t[n][1]*(1-o)]):i.splice(n,0,[a[0]*o+t[n][0]*(1-o),a[1]*o+t[n][1]*(1-o)]);return i}function B(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var j=function(t,e){if(t.length<=1)return t;for(var r,n=0;n<e.length;n++)if(t[n][0]!==e[n][0])switch(r=B(t[n]),e[n][0]){case"M":t[n]=["M"].concat(r[0]);break;case"L":t[n]=["L"].concat(r[0]);break;case"A":t[n]=[].concat(e[n]),t[n][6]=r[0][0],t[n][7]=r[0][1];break;case"Q":if(r.length<2){if(!(n>0)){t[n]=e[n];break}r=D(r,t[n-1],1)}t[n]=["Q"].concat(r.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[n]=["T"].concat(r[0]);break;case"C":if(r.length<3){if(!(n>0)){t[n]=e[n];break}r=D(r,t[n-1],2)}t[n]=["C"].concat(r.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(r.length<2){if(!(n>0)){t[n]=e[n];break}r=D(r,t[n-1],1)}t[n]=["S"].concat(r.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[n]=e[n]}return t}},49216:(t,e,r)=>{"use strict";r.d(e,{As:()=>c,jU:()=>l,kK:()=>n.default,mf:()=>i.default,HD:()=>o.default,Kn:()=>a.default,CD:()=>s.default,S6:()=>u.default,jC:()=>h.default,UY:()=>f,pP:()=>d});var n=r(95877),i=r(91933),o=r(41581),a=r(55671),s=(r(25007),r(15760)),u=r(85053),h=r(38601);function c(t,e){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}var l="undefined"!=typeof window&&void 0!==window.document;function f(t,e){if(t.isCanvas())return!0;for(var r=e.getParent(),n=!1;r;){if(r===t){n=!0;break}r=r.getParent()}return n}function d(t){return t.cfg.visible&&t.cfg.capture}},32318:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),r=e.x,n=e.y,i=e.r;return{x:r-i,y:n-i,width:2*i,height:2*i}}},47618:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),r=e.x,n=e.y,i=e.rx,o=e.ry;return{x:r-i,y:n-o,width:2*i,height:2*o}}},45533:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBBoxMethod=void 0;var n=r(53378);Object.defineProperty(e,"getBBoxMethod",{enumerable:!0,get:function(){return n.getMethod}});var i=r(96514),o=r(32318),a=r(58179),s=r(37464),u=r(65045),h=r(86335),c=r(92727),l=r(47618);n.register("rect",i.default),n.register("image",i.default),n.register("circle",o.default),n.register("marker",o.default),n.register("polyline",a.default),n.register("polygon",s.default),n.register("text",u.default),n.register("path",h.default),n.register("line",c.default),n.register("ellipse",l.default)},92727:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54786);e.default=function(t){var e=t.attr(),r=e.x1,i=e.y1,o=e.x2,a=e.y2,s={minX:Math.min(r,o),maxX:Math.max(r,o),minY:Math.min(i,a),maxY:Math.max(i,a)};return{x:(s=n.mergeArrowBBox(t,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}}},86335:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(82135),i=r(88688),o=r(73441),a=r(94104),s=r(30791),u=r(54786);function h(t,e){var r=t.prePoint,n=t.currentPoint,i=t.nextPoint,o=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2),a=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),u=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),h=Math.acos((o+a-u)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!h||0===Math.sin(h)||s.default(h,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-n[1],i[0]-n[0])),l=Math.abs(Math.atan2(i[0]-n[0],i[1]-n[1]));return c=c>Math.PI/2?Math.PI-c:c,l=l>Math.PI/2?Math.PI-l:l,{xExtra:Math.cos(h/2-c)*(e/2*(1/Math.sin(h/2)))-e/2||0,yExtra:Math.cos(l-h/2)*(e/2*(1/Math.sin(h/2)))-e/2||0}}e.default=function(t){var e=t.attr(),r=e.path,s=e.stroke?e.lineWidth:0,c=function(t,e){for(var r=[],a=[],s=[],u=0;u<t.length;u++){var c=(x=t[u]).currentPoint,l=x.params,f=x.prePoint,d=void 0;switch(x.command){case"Q":d=n.default.box(f[0],f[1],l[1],l[2],l[3],l[4]);break;case"C":d=i.default.box(f[0],f[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var p=x.arcParams;d=o.default.box(p.cx,p.cy,p.rx,p.ry,p.xRotation,p.startAngle,p.endAngle);break;default:r.push(c[0]),a.push(c[1])}d&&(x.box=d,r.push(d.x,d.x+d.width),a.push(d.y,d.y+d.height)),e&&("L"===x.command||"M"===x.command)&&x.prePoint&&x.nextPoint&&s.push(x)}r=r.filter((function(t){return!Number.isNaN(t)})),a=a.filter((function(t){return!Number.isNaN(t)}));var g=Math.min.apply(null,r),v=Math.min.apply(null,a),y=Math.max.apply(null,r),m=Math.max.apply(null,a);if(0===s.length)return{x:g,y:v,width:y-g,height:m-v};for(u=0;u<s.length;u++){var x;(c=(x=s[u]).currentPoint)[0]===g?g-=h(x,e).xExtra:c[0]===y&&(y+=h(x,e).xExtra),c[1]===v?v-=h(x,e).yExtra:c[1]===m&&(m+=h(x,e).yExtra)}return{x:g,y:v,width:y-g,height:m-v}}(t.get("segments")||a.default(r),s),l=c.x,f=c.y,d={minX:l,minY:f,maxX:l+c.width,maxY:f+c.height};return{x:(d=u.mergeArrowBBox(t,d)).minX,y:d.minY,width:d.maxX-d.minX,height:d.maxY-d.minY}}},37464:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(65294);e.default=function(t){for(var e=t.attr().points,r=[],i=[],o=0;o<e.length;o++){var a=e[o];r.push(a[0]),i.push(a[1])}return n.getBBoxByArray(r,i)}},58179:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(65294),i=r(54786);e.default=function(t){for(var e=t.attr().points,r=[],o=[],a=0;a<e.length;a++){var s=e[a];r.push(s[0]),o.push(s[1])}var u=n.getBBoxByArray(r,o),h=u.x,c=u.y,l={minX:h,minY:c,maxX:h+u.width,maxY:c+u.height};return{x:(l=i.mergeArrowBBox(t,l)).minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}}},96514:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}}},53378:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMethod=e.register=void 0;var r=new Map;e.register=function(t,e){r.set(t,e)},e.getMethod=function(t){return r.get(t)}},65045:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(56466);e.default=function(t){var e=t.attr(),r=e.x,i=e.y,o=e.text,a=e.fontSize,s=e.lineHeight,u=e.font;u||(u=n.assembleFont(e));var h,c=n.getTextWidth(o,u);if(c){var l=e.textAlign,f=e.textBaseline,d=n.getTextHeight(o,a,s),p={x:r,y:i-d};l&&("end"===l||"right"===l?p.x-=c:"center"===l&&(p.x-=c/2)),f&&("top"===f?p.y+=d:"middle"===f&&(p.y+=d/2)),h={x:p.x,y:p.y,width:c,height:d}}else h={x:r,y:i,width:0,height:0};return h}},54786:(t,e)=>{"use strict";function r(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}Object.defineProperty(e,"__esModule",{value:!0}),e.mergeArrowBBox=e.mergeBBox=void 0,e.mergeBBox=r,e.mergeArrowBBox=function(t,e){var n=t.get("startArrowShape"),i=t.get("endArrowShape");return n&&(e=r(e,n.getCanvasBBox())),i&&(e=r(e,i.getCanvasBBox())),e}},7284:(t,e)=>{"use strict";var r=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.Z=r},37618:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.invert=e.multiplyVec2=e.multiplyMatrix=void 0,e.multiplyMatrix=function(t,e){var r=[],n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],h=t[6],c=t[7],l=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],x=e[7],b=e[8];return r[0]=f*n+d*a+p*h,r[1]=f*i+d*s+p*c,r[2]=f*o+d*u+p*l,r[3]=g*n+v*a+y*h,r[4]=g*i+v*s+y*c,r[5]=g*o+v*u+y*l,r[6]=m*n+x*a+b*h,r[7]=m*i+x*s+b*c,r[8]=m*o+x*u+b*l,r},e.multiplyVec2=function(t,e){var r=[],n=e[0],i=e[1];return r[0]=t[0]*n+t[3]*i+t[6],r[1]=t[1]*n+t[4]*i+t[7],r},e.invert=function(t){var e=[],r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],h=t[7],c=t[8],l=c*a-s*h,f=-c*o+s*u,d=h*o-a*u,p=r*l+n*f+i*d;return p?(p=1/p,e[0]=l*p,e[1]=(-c*n+i*h)*p,e[2]=(s*n-i*a)*p,e[3]=f*p,e[4]=(c*r-i*u)*p,e[5]=(-s*r+i*o)*p,e[6]=d*p,e[7]=(-h*r+n*u)*p,e[8]=(a*r-n*o)*p,e):null}},9233:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOffScreenContext=void 0;var r=null;e.getOffScreenContext=function(){if(!r){var t=document.createElement("canvas");t.width=1,t.height=1,r=t.getContext("2d")}return r}},56466:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assembleFont=e.getTextWidth=e.getLineSpaceing=e.getTextHeight=void 0;var n=r(46744),i=r(9233);function o(t,e){return e?e-t:.14*t}e.getTextHeight=function(t,e,r){var i=1;return n.isString(t)&&(i=t.split("\n").length),i>1?e*i+o(e,r)*(i-1):e},e.getLineSpaceing=o,e.getTextWidth=function(t,e){var r=i.getOffScreenContext(),o=0;if(n.isNil(t)||""===t)return o;if(r.save(),r.font=e,n.isString(t)&&t.includes("\n")){var a=t.split("\n");n.each(a,(function(t){var e=r.measureText(t).width;o<e&&(o=e)}))}else o=r.measureText(t).width;return r.restore(),o},e.assembleFont=function(t){var e=t.fontSize,r=t.fontFamily,n=t.fontWeight;return[t.fontStyle,t.fontVariant,n,e+"px",r].join(" ").trim()}},46744:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAllowCapture=e.isParent=e.isBrowser=e.removeFromArray=void 0,e.removeFromArray=function(t,e){var r=t.indexOf(e);-1!==r&&t.splice(r,1)},e.isBrowser="undefined"!=typeof window&&void 0!==window.document;var n=r(95877);Object.defineProperty(e,"isNil",{enumerable:!0,get:function(){return n.default}});var i=r(91933);Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return i.default}});var o=r(41581);Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return o.default}});var a=r(55671);Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return a.default}});var s=r(25007);Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return s.default}});var u=r(15760);Object.defineProperty(e,"mix",{enumerable:!0,get:function(){return u.default}});var h=r(85053);Object.defineProperty(e,"each",{enumerable:!0,get:function(){return h.default}});var c=r(38601);Object.defineProperty(e,"upperFirst",{enumerable:!0,get:function(){return c.default}}),e.isParent=function(t,e){if(t.isCanvas())return!0;for(var r=e.getParent(),n=!1;r;){if(r===t){n=!0;break}r=r.getParent()}return n},e.isAllowCapture=function(t){return t.cfg.visible&&t.cfg.capture}},5198:t=>{"use strict";t.exports=JSON.parse('{"name":"@antv/g-base","version":"0.5.1","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive tests/unit","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.5","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"__npminstall_done":true,"gitHead":"ba7ecf8b8deac37682414ac0b7fc2c3e903398bd","_from":"@antv/g-base@0.5.1","_resolved":"https://registry.npm.alibaba-inc.com/@antv/g-base/download/@antv/g-base-0.5.1.tgz"}')},56789:(t,e,r)=>{"use strict";var n=r(40466),i=r(61468),o=r(72205),a=r(74995),s=r(59138),u=r(97691),h=r(20997),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return a},e.prototype.getGroupBase=function(){return s.default},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||u.getPixelRatio();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,r){t.prototype.setDOMSize.call(this,e,r);var n=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*e,i.height=o*r,o>1&&n.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),r=this.get("el");e.clearRect(0,0,r.width,r.height)},e.prototype.getShape=function(e,r){return this.get("quickHit")?o.getShape(this,e,r):t.prototype.getShape.call(this,e,r,null)},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),r=this.getViewRange();e.length&&e[0]===this?t=r:(t=h.getMergedRegion(e))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get("clipView")&&(t=h.mergeView(t,r)));return t},e.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(u.clearAnimationFrame(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),r=this.getChildren();t.clearRect(0,0,e.width,e.height),h.applyAttrsToContext(t,this),h.drawChildren(t,r),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),r=this.getChildren(),n=this._getRefreshRegion();n?(t.clearRect(n.minX,n.minY,n.maxX-n.minX,n.maxY-n.minY),t.save(),t.beginPath(),t.rect(n.minX,n.minY,n.maxX-n.minX,n.maxY-n.minY),t.clip(),h.applyAttrsToContext(t,this),h.checkRefresh(this,r,n),h.drawChildren(t,r,n),t.restore()):e.length&&h.clearChanged(e),u.each(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=u.requestAnimationFrame((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)})),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e}(i.AbstractCanvas);e.Z=c},59138:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(61468),o=r(74995),a=r(20997),s=r(84677),u=r(97691),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.onCanvasChange=function(t){a.refreshElement(this,t)},e.prototype.getShapeBase=function(){return o},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),a.applyAttrsToContext(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],r=[];s.each(t,(function(t){var n=t.cfg.cacheCanvasBBox;n&&t.cfg.isInView&&(e.push(n.minX,n.maxX),r.push(n.minY,n.maxY))}));var n=null;if(e.length){var i=Math.min.apply(null,e),o=Math.max.apply(null,e),a=Math.min.apply(null,r),h=Math.max.apply(null,r);n={minX:i,minY:a,x:i,y:a,maxX:o,maxY:h,width:o-i,height:h-a};var c=this.cfg.canvas;if(c){var l=c.getViewRange();this.set("isInView",u.intersectRect(n,l))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",n)},e.prototype.draw=function(t,e){var r=this.cfg.children,n=!e||this.cfg.refresh;r.length&&n&&(t.save(),a.applyAttrsToContext(t,this),this._applyClip(t,this.getClip()),a.drawChildren(t,r,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(i.AbstractGroup);e.default=h},19887:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(61468),o=r(97691),a=r(20997),s=r(45533),u=r(74995),h=r(59138),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return u},e.prototype.getGroupBase=function(){return h.default},e.prototype.onCanvasChange=function(t){a.refreshElement(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),r=s.getBBoxMethod(t)(this),n=e/2,i=r.x-n,o=r.y-n,a=r.x+r.width+n,u=r.y+r.height+n;return{x:i,minX:i,y:o,minY:o,width:r.width+e,height:r.height+e,maxX:a,maxY:u}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,e){e&&(t.save(),a.applyAttrsToContext(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var r=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);var n=this.getCanvasBBox();if(!o.intersectRect(e,n))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),a.applyAttrsToContext(t,this),this._applyClip(t,r),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),r=o.intersectRect(e,t);this.set("isInView",r),r?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,r=e.lineWidth,n=e.opacity,i=e.strokeOpacity,a=e.fillOpacity;this.isFill()&&(o.isNil(a)||1===a?this.fill(t):(t.globalAlpha=a,this.fill(t),t.globalAlpha=n)),this.isStroke()&&r>0&&(o.isNil(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var r=this.isStroke(),n=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,r,n,i)},e.prototype.isInStrokeOrPath=function(t,e,r,n,i){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(i.AbstractShape);e.default=c},76148:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(19887),o=r(97691),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,r,n,i){var a=this.attr(),s=a.x,u=a.y,h=a.r,c=i/2,l=o.distance(s,u,t,e);return n&&r?l<=h+c:n?l<=h:!!r&&(l>=h-c&&l<=h+c)},e.prototype.createPath=function(t){var e=this.attr(),r=e.x,n=e.y,i=e.r;t.beginPath(),t.arc(r,n,i,0,2*Math.PI,!1),t.closePath()},e}(i.default);e.default=a},40054:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466);function i(t,e,r,n){return t/(r*r)+e/(n*n)}var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,r,n,o){var a=this.attr(),s=o/2,u=a.x,h=a.y,c=a.rx,l=a.ry,f=(t-u)*(t-u),d=(e-h)*(e-h);return n&&r?i(f,d,c+s,l+s)<=1:n?i(f,d,c,l)<=1:!!r&&(i(f,d,c-s,l-s)>=1&&i(f,d,c+s,l+s)<=1)},e.prototype.createPath=function(t){var e=this.attr(),r=e.x,n=e.y,i=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(r,n,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,u=i>o?o/i:1;t.save(),t.translate(r,n),t.scale(s,u),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}},e}(r(19887).default);e.default=o},29075:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(19887),o=r(97691);function a(t){return t instanceof HTMLElement&&o.isString(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,r=this.attrs;if(o.isString(t)){var n=new Image;n.onload=function(){if(e.destroyed)return!1;e.attr("img",n),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},n.crossOrigin="Anonymous",n.src=t,this.set("loading",!0)}else t instanceof Image?(r.width||(r.width=t.width),r.height||(r.height=t.height)):a(t)&&(r.width||(r.width=Number(t.getAttribute("width"))),r.height||(r.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),"img"===e&&this._setImage(r)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),r=e.x,n=e.y,i=e.width,s=e.height,u=e.sx,h=e.sy,c=e.swidth,l=e.sheight,f=e.img;(f instanceof Image||a(f))&&(o.isNil(u)||o.isNil(h)||o.isNil(c)||o.isNil(l)?t.drawImage(f,r,n,i,s):t.drawImage(f,u,h,c,l,r,n,i,s))},e}(i.default);e.default=s},74995:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(19887);Object.defineProperty(e,"Base",{enumerable:!0,get:function(){return n.default}});var i=r(76148);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return i.default}});var o=r(40054);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return o.default}});var a=r(29075);Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return a.default}});var s=r(28039);Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return s.default}});var u=r(36435);Object.defineProperty(e,"Marker",{enumerable:!0,get:function(){return u.default}});var h=r(43316);Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return h.default}});var c=r(8350);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return c.default}});var l=r(98378);Object.defineProperty(e,"Polyline",{enumerable:!0,get:function(){return l.default}});var f=r(49227);Object.defineProperty(e,"Rect",{enumerable:!0,get:function(){return f.default}});var d=r(68068);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return d.default}})},28039:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(10905),o=r(19887),a=r(20750),s=r(96961),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,r=t.y1,n=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&s.addStartArrow(this,t,n,i,e,r),a&&s.addEndArrow(this,t,e,r,n,i)},e.prototype.isInStrokeOrPath=function(t,e,r,n,i){if(!r||!i)return!1;var o=this.attr(),s=o.x1,u=o.y1,h=o.x2,c=o.y2;return a.default(s,u,h,c,i,t,e)},e.prototype.createPath=function(t){var e=this.attr(),r=e.x1,n=e.y1,i=e.x2,o=e.y2,a=e.startArrow,u=e.endArrow,h={dx:0,dy:0},c={dx:0,dy:0};a&&a.d&&(h=s.getShortenOffset(r,n,i,o,e.startArrow.d)),u&&u.d&&(c=s.getShortenOffset(r,n,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(r+h.dx,n+h.dy),t.lineTo(i-c.dx,o-c.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),r=this.get("endArrowShape");e&&e.draw(t),r&&r.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,r=t.y1,n=t.x2,o=t.y2;return i.default.length(e,r,n,o)},e.prototype.getPoint=function(t){var e=this.attr(),r=e.x1,n=e.y1,o=e.x2,a=e.y2;return i.default.pointAt(r,n,o,a,t)},e}(o.default);e.default=u},36435:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(84677),o=r(1661),a=r(19887),s=r(97691),u=r(20997),h={circle:function(t,e,r){return[["M",t-r,e],["A",r,r,0,1,0,t+r,e],["A",r,r,0,1,0,t-r,e]]},square:function(t,e,r){return[["M",t-r,e-r],["L",t+r,e-r],["L",t+r,e+r],["L",t-r,e+r],["Z"]]},diamond:function(t,e,r){return[["M",t-r,e],["L",t,e-r],["L",t+r,e],["L",t,e+r],["Z"]]},triangle:function(t,e,r){var n=r*Math.sin(1/3*Math.PI);return[["M",t-r,e+n],["L",t,e-n],["L",t+r,e+n],["Z"]]},"triangle-down":function(t,e,r){var n=r*Math.sin(1/3*Math.PI);return[["M",t-r,e-n],["L",t+r,e-n],["L",t,e+n],["Z"]]}},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return i.isNil(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,r,n=this.attr(),i=n.x,a=n.y,u=n.symbol||"circle",h=this._getR(n);return s.isFunction(u)?(r=(t=u)(i,a,h),r=o.default(r)):r=(t=e.Symbols[u])(i,a,h),t?r:(console.warn(u+" marker is not supported."),null)},e.prototype.createPath=function(t){var e=this._getPath(),r=this.get("paramsCache");u.drawPath(this,t,{path:e},r)},e.Symbols=h,e}(a.default);e.default=c},43316:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(88688),o=r(84677),a=r(19887),s=r(1661),u=r(94104),h=r(20997),c=r(65761),l=r(86200),f=r(1850),d=r(96961);function p(t,e,r){for(var n=!1,i=0;i<t.length;i++){var o=t[i];if(n=l.default(o,e,r))break}return n}var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),"path"===e&&this._setPathArr(r),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=s.default(t);var e=f.default.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=u.default(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,r=t.endArrow;if(e){var n=this.getStartTangent();d.addStartArrow(this,t,n[0][0],n[0][1],n[1][0],n[1][1])}if(r){n=this.getEndTangent();d.addEndArrow(this,t,n[0][0],n[0][1],n[1][0],n[1][1])}},e.prototype.isInStrokeOrPath=function(t,e,r,n,i){var o=this.getSegments(),a=this.get("hasArc"),s=!1;if(r){var u=this.getTotalLength();s=f.default.isPointInStroke(o,i,t,e,u)}if(!s&&n)if(a)s=c.default(this,t,e);else{var h=this.attr("path"),l=f.default.extractPolygons(h);s=p(l.polygons,t,e)||p(l.polylines,t,e)}return s},e.prototype.createPath=function(t){var e=this.attr(),r=this.get("paramsCache");h.drawPath(this,t,e,r)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),r=this.get("endArrowShape");e&&e.draw(t),r&&r.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return o.isNil(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,r,n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var a=this.get("curve");if(!n||0===n.length)return a?{x:a[0][1],y:a[0][2]}:null;o.each(n,(function(n,i){t>=n[0]&&t<=n[1]&&(e=(t-n[0])/(n[1]-n[0]),r=i)}));var s=a[r];if(o.isNil(s)||o.isNil(r))return null;var u=s.length,h=a[r+1];return i.default.pointAt(s[u-2],s[u-1],h[1],h[2],h[3],h[4],h[5],h[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",f.default.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,r,n,a=0,s=0,u=[],h=this.get("curve");h&&(o.each(h,(function(t,e){r=h[e+1],n=t.length,r&&(a+=i.default.length(t[n-2],t[n-1],r[1],r[2],r[3],r[4],r[5],r[6])||0)})),this.set("totalLength",a),0!==a?(o.each(h,(function(o,c){r=h[c+1],n=o.length,r&&((t=[])[0]=s/a,e=i.default.length(o[n-2],o[n-1],r[1],r[2],r[3],r[4],r[5],r[6]),s+=e||0,t[1]=s/a,u.push(t))})),this.set("tCache",u)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var r=e[0].currentPoint,n=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([r[0]-i[0],r[1]-i[1]]),t.push([r[0],r[1]])):(t.push([n[0],n[1]]),t.push([r[0],r[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),r=e.length;if(r>1){var n=e[r-2].currentPoint,i=e[r-1].currentPoint,o=e[r-1].endTangent;t=[],o?(t.push([i[0]-o[0],i[1]-o[1]]),t.push([i[0],i[1]])):(t.push([n[0],n[1]]),t.push([i[0],i[1]]))}return t},e}(a.default);e.default=g},8350:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(19887),o=r(957),a=r(86200),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.isInStrokeOrPath=function(t,e,r,n,i){var s=this.attr().points,u=!1;return r&&(u=o.default(s,i,t,e,!0)),!u&&n&&(u=a.default(s,t,e)),u},e.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var r=0;r<e.length;r++){var n=e[r];0===r?t.moveTo(n[0],n[1]):t.lineTo(n[0],n[1])}t.closePath()}},e}(i.default);e.default=s},98378:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(10905),o=r(13967),a=r(84677),s=r(19887),u=r(957),h=r(96961),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,r=e.points,n=e.startArrow,i=e.endArrow,o=r.length,a=r[0][0],s=r[0][1],u=r[o-1][0],c=r[o-1][1];n&&h.addStartArrow(this,t,r[1][0],r[1][1],a,s),i&&h.addEndArrow(this,t,r[o-2][0],r[o-2][1],u,c)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,r,n,i){if(!r||!i)return!1;var o=this.attr().points;return u.default(o,i,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),r=e.points,n=e.startArrow,i=e.endArrow,o=r.length;if(!(r.length<2)){var a,s=r[0][0],u=r[0][1],c=r[o-1][0],l=r[o-1][1];if(n&&n.d)s+=(a=h.getShortenOffset(s,u,r[1][0],r[1][1],n.d)).dx,u+=a.dy;if(i&&i.d)c-=(a=h.getShortenOffset(r[o-2][0],r[o-2][1],c,l,i.d)).dx,l-=a.dy;t.beginPath(),t.moveTo(s,u);for(var f=0;f<o-1;f++){var d=r[f];t.lineTo(d[0],d[1])}t.lineTo(c,l)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),r=this.get("endArrowShape");e&&e.draw(t),r&&r.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return a.isNil(e)?(this.set("totalLength",o.default.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,r,n=this.attr().points,o=this.get("tCache");return o||(this._setTcache(),o=this.get("tCache")),a.each(o,(function(n,i){t>=n[0]&&t<=n[1]&&(e=(t-n[0])/(n[1]-n[0]),r=i)})),i.default.pointAt(n[r][0],n[r][1],n[r+1][0],n[r+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var r,n,o=0,s=[];a.each(t,(function(a,u){t[u+1]&&((r=[])[0]=o/e,n=i.default.length(a[0],a[1],t[u+1][0],t[u+1][1]),o+=n,r[1]=o/e,s.push(r))})),this.set("tCache",s)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,r=[];return r.push([t[e-1][0],t[e-1][1]]),r.push([t[e][0],t[e][1]]),r},e}(s.default);e.default=c},49227:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(19887),o=r(27874),a=r(97691),s=r(73639),u=r(49121),h=r(65761),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,r,n,i){var o=this.attr(),c=o.x,l=o.y,f=o.width,d=o.height,p=o.radius;if(p){var g=!1;return r&&(g=u.default(c,l,f,d,p,i,t,e)),!g&&n&&(g=h.default(this,t,e)),g}var v=i/2;return n&&r?a.inBox(c-v,l-v,f+v,d+v,t,e):n?a.inBox(c,l,f,d,t,e):r?s.default(c,l,f,d,i,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),r=e.x,n=e.y,i=e.width,a=e.height,s=e.radius;if(t.beginPath(),0===s)t.rect(r,n,i,a);else{var u=o.parseRadius(s),h=u[0],c=u[1],l=u[2],f=u[3];t.moveTo(r+h,n),t.lineTo(r+i-c,n),0!==c&&t.arc(r+i-c,n+c,c,-Math.PI/2,0),t.lineTo(r+i,n+a-l),0!==l&&t.arc(r+i-l,n+a-l,l,0,Math.PI/2),t.lineTo(r+f,n+a),0!==f&&t.arc(r+f,n+a-f,f,Math.PI/2,Math.PI),t.lineTo(r,n+h),0!==h&&t.arc(r+h,n+h,h,Math.PI,1.5*Math.PI),t.closePath()}},e}(i.default);e.default=c},68068:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(19887),o=r(97691),a=r(56466),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=a.assembleFont(t)},e.prototype._setText=function(t){var e=null;o.isString(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(r)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,r=1*t.fontSize;return e?e-r:.14*r},e.prototype._drawTextArr=function(t,e,r){var n,i=this.attrs,s=i.textBaseline,u=i.x,h=i.y,c=1*i.fontSize,l=this._getSpaceingY(),f=a.getTextHeight(i.text,i.fontSize,i.lineHeight);o.each(e,(function(e,i){n=h+i*(l+c)-f+c,"middle"===s&&(n+=f-c-(f-c)/2),"top"===s&&(n+=f-c),r?t.fillText(e,u,n):t.strokeText(e,u,n)}))},e.prototype._drawText=function(t,e){var r=this.attr(),n=r.x,i=r.y,o=this.get("textArr");if(o)this._drawTextArr(t,o,e);else{var a=r.text;e?t.fillText(a,n,i):t.strokeText(a,n,i)}},e.prototype.strokeAndFill=function(t){var e=this.attrs,r=e.lineWidth,n=e.opacity,i=e.strokeOpacity,a=e.fillOpacity;this.isStroke()&&r>0&&(o.isNil(i)||1===i||(t.globalAlpha=n),this.stroke(t)),this.isFill()&&(o.isNil(a)||1===a?this.fill(t):(t.globalAlpha=a,this.fill(t),t.globalAlpha=n)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(i.default);e.default=s},3928:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(97691);function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e){return i(t)*i(e)?(t[0]*e[0]+t[1]*e[1])/(i(t)*i(e)):1}function a(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(o(t,e))}e.default=function(t,e){var r=e[1],i=e[2],s=n.mod(n.toRadian(e[3]),2*Math.PI),u=e[4],h=e[5],c=t[0],l=t[1],f=e[6],d=e[7],p=Math.cos(s)*(c-f)/2+Math.sin(s)*(l-d)/2,g=-1*Math.sin(s)*(c-f)/2+Math.cos(s)*(l-d)/2,v=p*p/(r*r)+g*g/(i*i);v>1&&(r*=Math.sqrt(v),i*=Math.sqrt(v));var y=r*r*(g*g)+i*i*(p*p),m=y?Math.sqrt((r*r*(i*i)-y)/y):1;u===h&&(m*=-1),isNaN(m)&&(m=0);var x=i?m*r*g/i:0,b=r?m*-i*p/r:0,w=(c+f)/2+Math.cos(s)*x-Math.sin(s)*b,M=(l+d)/2+Math.sin(s)*x+Math.cos(s)*b,S=[(p-x)/r,(g-b)/i],_=[(-1*p-x)/r,(-1*g-b)/i],k=a([1,0],S),E=a(S,_);return o(S,_)<=-1&&(E=Math.PI),o(S,_)>=1&&(E=0),0===h&&E>0&&(E-=2*Math.PI),1===h&&E<0&&(E+=2*Math.PI),{cx:w,cy:M,rx:n.isSamePoint(t,[f,d])?0:r,ry:n.isSamePoint(t,[f,d])?0:i,startAngle:k,endAngle:k+E,xRotation:s,arcFlag:u,sweepFlag:h}}},96961:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addEndArrow=e.addStartArrow=e.getShortenOffset=void 0;var n=r(40466),i=r(74995),o=Math.sin,a=Math.cos,s=Math.atan2,u=Math.PI;function h(t,e,r,n,h,c,l){var f=e.stroke,d=e.lineWidth,p=s(n-c,r-h),g=new i.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*a(u/6)+","+10*o(u/6)+" L0,0 L"+10*a(u/6)+",-"+10*o(u/6),stroke:f,lineWidth:d}});g.translate(h,c),g.rotateAtPoint(h,c,p),t.set(l?"startArrowShape":"endArrowShape",g)}function c(t,e,r,u,h,c,l){var f=e.startArrow,d=e.endArrow,p=e.stroke,g=e.lineWidth,v=l?f:d,y=v.d,m=v.fill,x=v.stroke,b=v.lineWidth,w=n.__rest(v,["d","fill","stroke","lineWidth"]),M=s(u-c,r-h);y&&(h-=a(M)*y,c-=o(M)*y);var S=new i.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:n.__assign(n.__assign({},w),{stroke:x||p,lineWidth:b||g,fill:m})});S.translate(h,c),S.rotateAtPoint(h,c,M),t.set(l?"startArrowShape":"endArrowShape",S)}e.getShortenOffset=function(t,e,r,n,i){var u=s(n-e,r-t);return{dx:a(u)*i,dy:o(u)*i}},e.addStartArrow=function(t,e,r,n,i,o){"object"==typeof e.startArrow?c(t,e,r,n,i,o,!0):e.startArrow?h(t,e,r,n,i,o,!0):t.set("startArrowShape",null)},e.addEndArrow=function(t,e,r,n,i,o){"object"==typeof e.endArrow?c(t,e,r,n,i,o,!1):e.endArrow?h(t,e,r,n,i,o,!1):t.set("startArrowShape",null)}},20997:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeView=e.getMergedRegion=e.getRefreshRegion=e.refreshElement=e.drawPath=e.clearChanged=e.checkChildrenRefresh=e.checkRefresh=e.drawChildren=e.applyAttrsToContext=void 0;var n=r(84677),i=r(27874),o=r(3928),a=r(97691),s=r(96961),u={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function h(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&c(n.cfg.children,e);else if(n.cfg.refresh)n.isGroup()&&h(n.cfg.children,e);else{var i=l(n,e);n.cfg.refresh=i,i&&n.isGroup()&&h(n.cfg.children,e)}}}function c(t,e){for(var r=0;r<t.length;r++){var n=t[r];n.cfg.refresh=!0,n.isGroup()&&c(n.get("children"),e)}}function l(t,e){var r=t.cfg.cacheCanvasBBox;return t.cfg.isInView&&r&&a.intersectRect(r,e)}function f(t){var e;if(t.destroyed)e=t._cacheCanvasBBox;else{var r=t.get("cacheCanvasBBox"),n=r&&!(!r.width||!r.height),i=t.getCanvasBBox(),o=i&&!(!i.width||!i.height);n&&o?e=a.mergeRegion(r,i):n?e=r:o&&(e=i)}return e}e.applyAttrsToContext=function(t,e){var r=e.attr();for(var o in r){var a=r[o],s=u[o]?u[o]:o;"matrix"===s&&a?t.transform(a[0],a[1],a[3],a[4],a[6],a[7]):"lineDash"===s&&t.setLineDash?n.isArray(a)&&t.setLineDash(a):("strokeStyle"===s||"fillStyle"===s?a=i.parseStyle(t,e,a):"globalAlpha"===s&&(a*=t.globalAlpha),t[s]=a)}},e.drawChildren=function(t,e,r){for(var n=0;n<e.length;n++){var i=e[n];i.cfg.visible?i.draw(t,r):i.skipDraw()}},e.checkRefresh=function(t,e,r){var i=t.get("refreshElements");n.each(i,(function(e){if(e!==t)for(var r=e.cfg.parent;r&&r!==t&&!r.cfg.refresh;)r.cfg.refresh=!0,r=r.cfg.parent})),i[0]===t?c(e,r):h(e,r)},e.checkChildrenRefresh=h,e.clearChanged=function t(e){for(var r=0;r<e.length;r++){var n=e[r];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&t(n.cfg.children)}},e.drawPath=function(t,e,r,n){var i=r.path,a=r.startArrow,u=r.endArrow,h=[0,0],c=[0,0],l={dx:0,dy:0};e.beginPath();for(var f=0;f<i.length;f++){var d=i[f],p=d[0];if(0===f&&a&&a.d){var g=t.getStartTangent();l=s.getShortenOffset(g[0][0],g[0][1],g[1][0],g[1][1],a.d)}else if(f===i.length-2&&"Z"===i[f+1][0]&&u&&u.d){if("Z"===i[f+1][0]){g=t.getEndTangent();l=s.getShortenOffset(g[0][0],g[0][1],g[1][0],g[1][1],u.d)}}else if(f===i.length-1&&u&&u.d&&"Z"!==i[0]){g=t.getEndTangent();l=s.getShortenOffset(g[0][0],g[0][1],g[1][0],g[1][1],u.d)}var v=l.dx,y=l.dy;switch(p){case"M":e.moveTo(d[1]-v,d[2]-y),c=[d[1],d[2]];break;case"L":e.lineTo(d[1]-v,d[2]-y);break;case"Q":e.quadraticCurveTo(d[1],d[2],d[3]-v,d[4]-y);break;case"C":e.bezierCurveTo(d[1],d[2],d[3],d[4],d[5]-v,d[6]-y);break;case"A":var m=void 0;n?(m=n[f])||(m=o.default(h,d),n[f]=m):m=o.default(h,d);var x=m.cx,b=m.cy,w=m.rx,M=m.ry,S=m.startAngle,_=m.endAngle,k=m.xRotation,E=m.sweepFlag;if(e.ellipse)e.ellipse(x,b,w,M,k,S,_,1-E);else{var C=w>M?w:M,P=w>M?1:w/M,A=w>M?M/w:1;e.translate(x,b),e.rotate(k),e.scale(P,A),e.arc(0,0,C,S,_,1-E),e.scale(1/P,1/A),e.rotate(-k),e.translate(-x,-b)}break;case"Z":e.closePath()}if("Z"===p)h=c;else{var I=d.length;h=[d[I-2],d[I-1]]}}},e.refreshElement=function(t,e){var r=t.get("canvas");r&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(r.refreshElement(t,e,r),r.get("autoDraw")&&r.draw())))},e.getRefreshRegion=f,e.getMergedRegion=function(t){if(!t.length)return null;var e=[],r=[],i=[],o=[];return n.each(t,(function(t){var n=f(t);n&&(e.push(n.minX),r.push(n.minY),i.push(n.maxX),o.push(n.maxY))})),{minX:Math.min.apply(null,e),minY:Math.min.apply(null,r),maxX:Math.max.apply(null,i),maxY:Math.max.apply(null,o)}},e.mergeView=function(t,e){return t&&e&&a.intersectRect(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}},72205:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getShape=void 0;var n=r(46744),i=r(37618);function o(t,e,r){var n=t.getTotalMatrix();if(n){var o=function(t,e){if(e){var r=i.invert(e);return i.multiplyVec2(r,t)}return t}([e,r,1],n);return[o[0],o[1]]}return[e,r]}function a(t,e,r){if(t.isCanvas&&t.isCanvas())return!0;if(!n.isAllowCapture(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var i=o(t,e,r),a=i[0],s=i[1];if(t.isClipped(a,s))return!1}var u=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=u.minX&&e<=u.maxX&&r>=u.minY&&r<=u.maxY}e.getShape=function t(e,r,n){if(!a(e,r,n))return null;for(var i=null,s=e.getChildren(),u=s.length-1;u>=0;u--){var h=s[u];if(h.isGroup())i=t(h,r,n);else if(a(h,r,n)){var c=h,l=o(h,r,n),f=l[0],d=l[1];c.isInShape(f,d)&&(i=h)}if(i)break}return i}},65761:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9233);e.default=function(t,e,r){var i=n.getOffScreenContext();return t.createPath(i),i.isPointInPath(e,r)}},86200:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function n(t,e,r){return(r[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(r[1]-t[1])&&Math.min(t[0],e[0])<=r[0]&&r[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=r[1]&&r[1]<=Math.max(t[1],e[1])}e.default=function(t,e,i){var o=!1,a=t.length;if(a<=2)return!1;for(var s=0;s<a;s++){var u=t[s],h=t[(s+1)%a];if(n(u,h,[e,i]))return!0;r(u[1]-i)>0!=r(h[1]-i)>0&&r(e-(i-u[1])*(u[0]-h[0])/(u[1]-h[1])-u[0])<0&&(o=!o)}return o}},47996:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(97691);e.default=function(t,e,r,i,o,a,s,u){var h=(Math.atan2(u-e,s-t)+2*Math.PI)%(2*Math.PI);if(h<i||h>o)return!1;var c={x:t+r*Math.cos(h),y:e+r*Math.sin(h)};return n.distance(c.x,c.y,s,u)<=a/2}},20750:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(10905);e.default=function(t,e,r,i,o,a,s){var u=Math.min(t,r),h=Math.max(t,r),c=Math.min(e,i),l=Math.max(e,i),f=o/2;return a>=u-f&&a<=h+f&&s>=c-f&&s<=l+f&&n.default.pointToLine(t,e,r,i,a,s)<=o/2}},957:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(20750);e.default=function(t,e,r,i,o){var a=t.length;if(a<2)return!1;for(var s=0;s<a-1;s++){var u=t[s][0],h=t[s][1],c=t[s+1][0],l=t[s+1][1];if(n.default(u,h,c,l,e,r,i))return!0}if(o){var f=t[0],d=t[a-1];if(n.default(f[0],f[1],d[0],d[1],e,r,i))return!0}return!1}},49121:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(20750),i=r(47996);e.default=function(t,e,r,o,a,s,u,h){return n.default(t+a,e,t+r-a,e,s,u,h)||n.default(t+r,e+a,t+r,e+o-a,s,u,h)||n.default(t+r-a,e+o,t+a,e+o,s,u,h)||n.default(t,e+o-a,t,e+a,s,u,h)||i.default(t+r-a,e+a,a,1.5*Math.PI,2*Math.PI,s,u,h)||i.default(t+r-a,e+o-a,a,0,.5*Math.PI,s,u,h)||i.default(t+a,e+o-a,a,.5*Math.PI,Math.PI,s,u,h)||i.default(t+a,e+a,a,Math.PI,1.5*Math.PI,s,u,h)}},73639:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(97691);e.default=function(t,e,r,i,o,a,s){var u=o/2;return n.inBox(t-u,e-u,r,o,a,s)||n.inBox(t+r-u,e-u,o,i,a,s)||n.inBox(t+u,e+i-u,r,o,a,s)||n.inBox(t-u,e+u,o,i,a,s)}},27874:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseRadius=e.parseStyle=e.parsePattern=e.parseRadialGradient=e.parseLineGradient=void 0;var n=r(97691),i=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,a=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function u(t,e){var r=t.match(s);n.each(r,(function(t){var r=t.split(":");e.addColorStop(r[0],r[1])}))}function h(t,e,r){var n,o,a=i.exec(r),s=parseFloat(a[1])%360*(Math.PI/180),h=a[2],c=e.getBBox();s>=0&&s<.5*Math.PI?(n={x:c.minX,y:c.minY},o={x:c.maxX,y:c.maxY}):.5*Math.PI<=s&&s<Math.PI?(n={x:c.maxX,y:c.minY},o={x:c.minX,y:c.maxY}):Math.PI<=s&&s<1.5*Math.PI?(n={x:c.maxX,y:c.maxY},o={x:c.minX,y:c.minY}):(n={x:c.minX,y:c.maxY},o={x:c.maxX,y:c.minY});var l=Math.tan(s),f=l*l,d=(o.x-n.x+l*(o.y-n.y))/(f+1)+n.x,p=l*(o.x-n.x+l*(o.y-n.y))/(f+1)+n.y,g=t.createLinearGradient(n.x,n.y,d,p);return u(h,g),g}function c(t,e,r){var n=o.exec(r),i=parseFloat(n[1]),a=parseFloat(n[2]),h=parseFloat(n[3]),c=n[4];if(0===h){var l=c.match(s);return l[l.length-1].split(":")[1]}var f=e.getBBox(),d=f.maxX-f.minX,p=f.maxY-f.minY,g=Math.sqrt(d*d+p*p)/2,v=t.createRadialGradient(f.minX+d*i,f.minY+p*a,0,f.minX+d/2,f.minY+p/2,h*g);return u(c,v),v}function l(t,e,r){if(e.get("patternSource")&&e.get("patternSource")===r)return e.get("pattern");var n,i,o=a.exec(r),s=o[1],u=o[2];function h(){n=t.createPattern(i,s),e.set("pattern",n),e.set("patternSource",r)}switch(s){case"a":s="repeat";break;case"x":s="repeat-x";break;case"y":s="repeat-y";break;case"n":s="no-repeat";break;default:s="no-repeat"}return i=new Image,u.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=u,i.complete?h():(i.onload=h,i.src=i.src),n}e.parseLineGradient=h,e.parseRadialGradient=c,e.parsePattern=l,e.parseStyle=function(t,e,r){if(n.isString(r)){if("("===r[1]||"("===r[2]){if("l"===r[0])return h(t,e,r);if("r"===r[0])return c(t,e,r);if("p"===r[0])return l(t,e,r)}return r}},e.parseRadius=function(t){var e=0,r=0,i=0,o=0;return n.isArray(t)?1===t.length?e=r=i=o=t[0]:2===t.length?(e=i=t[0],r=o=t[1]):3===t.length?(e=t[0],r=o=t[1],i=t[2]):(e=t[0],r=t[1],i=t[2],o=t[3]):e=r=i=o=t,[e,r,i,o]}},1850:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(61468),o=r(82135),a=r(88688),s=r(97691),u=r(20750),h=r(47996),c=r(26137),l=r(21706),f=c.ext.transform;e.default=n.__assign({hasArc:function(t){for(var e=!1,r=t.length,n=0;n<r;n++){var i=t[n][0];if("C"===i||"A"===i||"Q"===i){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,r=[],n=[],i=[],o=0;o<e;o++){var a=t[o],s=a[0];"M"===s?(i.length&&(n.push(i),i=[]),i.push([a[1],a[2]])):"Z"===s?i.length&&(r.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&n.push(i),{polygons:r,polylines:n}},isPointInStroke:function(t,e,r,n,i){for(var c=!1,d=e/2,p=0;p<t.length;p++){var g=t[p],v=g.currentPoint,y=g.params,m=g.prePoint,x=g.box;if(!x||s.inBox(x.x-d,x.y-d,x.width+e,x.height+e,r,n)){switch(g.command){case"L":case"Z":c=u.default(m[0],m[1],v[0],v[1],e,r,n);break;case"Q":c=o.default.pointDistance(m[0],m[1],y[1],y[2],y[3],y[4],r,n)<=e/2;break;case"C":c=a.default.pointDistance(m[0],m[1],y[1],y[2],y[3],y[4],y[5],y[6],r,n,i)<=e/2;break;case"A":var b=g.arcParams,w=b.cx,M=b.cy,S=b.rx,_=b.ry,k=b.startAngle,E=b.endAngle,C=b.xRotation,P=[r,n,1],A=S>_?S:_,I=f(null,[["t",-w,-M],["r",-C],["s",1/(S>_?1:S/_),1/(S>_?_/S:1)]]);l.transformMat3(P,P,I),c=h.default(0,0,A,k,E,e,P[0],P[1])}if(c)break}}return c}},i.PathUtil)},97691:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSamePoint=e.mergeRegion=e.intersectRect=e.inBox=e.distance=e.getPixelRatio=void 0,e.getPixelRatio=function(){return window?window.devicePixelRatio:1},e.distance=function(t,e,r,n){var i=t-r,o=e-n;return Math.sqrt(i*i+o*o)},e.inBox=function(t,e,r,n,i,o){return i>=t&&i<=t+r&&o>=e&&o<=e+n},e.intersectRect=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},e.mergeRegion=function(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e},e.isSamePoint=function(t,e){return t[0]===e[0]&&t[1]===e[1]};var n=r(95877);Object.defineProperty(e,"isNil",{enumerable:!0,get:function(){return n.default}});var i=r(41581);Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return i.default}});var o=r(91933);Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return o.default}});var a=r(25007);Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return a.default}});var s=r(85053);Object.defineProperty(e,"each",{enumerable:!0,get:function(){return s.default}});var u=r(51676);Object.defineProperty(e,"toRadian",{enumerable:!0,get:function(){return u.default}});var h=r(5647);Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return h.default}});var c=r(30791);Object.defineProperty(e,"isNumberEqual",{enumerable:!0,get:function(){return c.default}});var l=r(6557);Object.defineProperty(e,"requestAnimationFrame",{enumerable:!0,get:function(){return l.default}});var f=r(36664);Object.defineProperty(e,"clearAnimationFrame",{enumerable:!0,get:function(){return f.default}})},73441:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(65294),i=r(50670);function o(t,e,r,n,i,o){return r*Math.cos(i)*Math.cos(o)-n*Math.sin(i)*Math.sin(o)+t}function a(t,e,r,n,i,o){return r*Math.sin(i)*Math.cos(o)+n*Math.cos(i)*Math.sin(o)+e}function s(t,e,r){return{x:t*Math.cos(r),y:e*Math.sin(r)}}function u(t,e,r){var n=Math.cos(r),i=Math.sin(r);return[t*n-e*i,t*i+e*n]}e.default={box:function(t,e,r,n,i,s,u){for(var h=function(t,e,r){return Math.atan(-e/t*Math.tan(r))}(r,n,i),c=1/0,l=-1/0,f=[s,u],d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var p=h+d;s<u?s<p&&p<u&&f.push(p):u<p&&p<s&&f.push(p)}for(d=0;d<f.length;d++){var g=o(t,0,r,n,i,f[d]);g<c&&(c=g),g>l&&(l=g)}var v=function(t,e,r){return Math.atan(e/(t*Math.tan(r)))}(r,n,i),y=1/0,m=-1/0,x=[s,u];for(d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var b=v+d;s<u?s<b&&b<u&&x.push(b):u<b&&b<s&&x.push(b)}for(d=0;d<x.length;d++){var w=a(0,e,r,n,i,x[d]);w<y&&(y=w),w>m&&(m=w)}return{x:c,y,width:l-c,height:m-y}},length:function(t,e,r,n,i,o,a){},nearestPoint:function(t,e,r,n,o,a,h,c,l){var f=u(c-t,l-e,-o),d=f[0],p=f[1],g=i.default.nearestPoint(0,0,r,n,d,p),v=function(t,e,r,n){return(Math.atan2(n*t,r*e)+2*Math.PI)%(2*Math.PI)}(r,n,g.x,g.y);v<a?g=s(r,n,a):v>h&&(g=s(r,n,h));var y=u(g.x,g.y,o);return{x:y[0]+t,y:y[1]+e}},pointDistance:function(t,e,r,i,o,a,s,u,h){var c=this.nearestPoint(t,e,r,i,u,h);return n.distance(c.x,c.y,u,h)},pointAt:function(t,e,r,n,i,s,u,h){var c=(u-s)*h+s;return{x:o(t,0,r,n,i,c),y:a(0,e,r,n,i,c)}},tangentAngle:function(t,e,r,i,o,a,s,u){var h=(s-a)*u+a,c=function(t,e,r,n,i,o,a,s){return-1*r*Math.cos(i)*Math.sin(s)-n*Math.sin(i)*Math.cos(s)}(0,0,r,i,o,0,0,h),l=function(t,e,r,n,i,o,a,s){return-1*r*Math.sin(i)*Math.sin(s)+n*Math.cos(i)*Math.cos(s)}(0,0,r,i,o,0,0,h);return n.piMod(Math.atan2(l,c))}}},95909:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.snapLength=e.nearestPoint=void 0;var n=r(65294);e.nearestPoint=function(t,e,r,i,o,a){var s,u=1/0,h=[r,i],c=20;a&&a>200&&(c=a/10);for(var l=1/c,f=l/10,d=0;d<=c;d++){var p=d*l,g=[o.apply(null,t.concat([p])),o.apply(null,e.concat([p]))];(x=n.distance(h[0],h[1],g[0],g[1]))<u&&(s=p,u=x)}if(0===s)return{x:t[0],y:e[0]};if(1===s){var v=t.length;return{x:t[v-1],y:e[v-1]}}for(u=1/0,d=0;d<32&&!(f<1e-4);d++){var y=s-f,m=s+f,x=(g=[o.apply(null,t.concat([y])),o.apply(null,e.concat([y]))],n.distance(h[0],h[1],g[0],g[1]));if(y>=0&&x<u)s=y,u=x;else{var b=[o.apply(null,t.concat([m])),o.apply(null,e.concat([m]))],w=n.distance(h[0],h[1],b[0],b[1]);m<=1&&w<u?(s=m,u=w):f*=.5}}return{x:o.apply(null,t.concat([s])),y:o.apply(null,e.concat([s]))}},e.snapLength=function(t,e){for(var r=0,i=t.length,o=0;o<i;o++){var a=t[o],s=e[o],u=t[(o+1)%i],h=e[(o+1)%i];r+=n.distance(a,s,u,h)}return r/2}},88688:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(65294),i=r(10905),o=r(95909);function a(t,e,r,n,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*r*i*i*o+n*i*i*i}function s(t,e,r,n,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(r-e)+i*i*(n-r))}function u(t,e,r,i){var o,a,s,u=-3*t+9*e-9*r+3*i,h=6*t-12*e+6*r,c=3*e-3*t,l=[];if(n.isNumberEqual(u,0))n.isNumberEqual(h,0)||(o=-c/h)>=0&&o<=1&&l.push(o);else{var f=h*h-4*u*c;n.isNumberEqual(f,0)?l.push(-h/(2*u)):f>0&&(a=(-h-(s=Math.sqrt(f)))/(2*u),(o=(-h+s)/(2*u))>=0&&o<=1&&l.push(o),a>=0&&a<=1&&l.push(a))}return l}function h(t,e,r,n,o,s,u,h,c){var l=a(t,r,o,u,c),f=a(e,n,s,h,c),d=i.default.pointAt(t,e,r,n,c),p=i.default.pointAt(r,n,o,s,c),g=i.default.pointAt(o,s,u,h,c),v=i.default.pointAt(d.x,d.y,p.x,p.y,c),y=i.default.pointAt(p.x,p.y,g.x,g.y,c);return[[t,e,d.x,d.y,v.x,v.y,l,f],[l,f,y.x,y.y,g.x,g.y,u,h]]}function c(t,e,r,n,i,a,s,u,l){if(0===l)return o.snapLength([t,r,i,s],[e,n,a,u]);var f=h(t,e,r,n,i,a,s,u,.5),d=f[0],p=f[1];return d.push(l-1),p.push(l-1),c.apply(null,d)+c.apply(null,p)}e.default={extrema:u,box:function(t,e,r,i,o,s,h,c){for(var l=[t,h],f=[e,c],d=u(t,r,o,h),p=u(e,i,s,c),g=0;g<d.length;g++)l.push(a(t,r,o,h,d[g]));for(g=0;g<p.length;g++)f.push(a(e,i,s,c,p[g]));return n.getBBoxByArray(l,f)},length:function(t,e,r,n,i,o,a,s){return c(t,e,r,n,i,o,a,s,3)},nearestPoint:function(t,e,r,n,i,s,u,h,c,l,f){return o.nearestPoint([t,r,i,u],[e,n,s,h],c,l,a,f)},pointDistance:function(t,e,r,i,o,a,s,u,h,c,l){var f=this.nearestPoint(t,e,r,i,o,a,s,u,h,c,l);return n.distance(f.x,f.y,h,c)},interpolationAt:a,pointAt:function(t,e,r,n,i,o,s,u,h){return{x:a(t,r,i,s,h),y:a(e,n,o,u,h)}},divide:function(t,e,r,n,i,o,a,s,u){return h(t,e,r,n,i,o,a,s,u)},tangentAngle:function(t,e,r,i,o,a,u,h,c){var l=s(t,r,o,u,c),f=s(e,i,a,h,c);return n.piMod(Math.atan2(f,l))}}},50670:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(65294);function i(t,e){var r=Math.abs(t);return e>0?r:-1*r}e.default={box:function(t,e,r,n){return{x:t-r,y:e-n,width:2*r,height:2*n}},length:function(t,e,r,n){return Math.PI*(3*(r+n)-Math.sqrt((3*r+n)*(r+3*n)))},nearestPoint:function(t,e,r,n,o,a){var s=r,u=n;if(0===s||0===u)return{x:t,y:e};for(var h,c,l=o-t,f=a-e,d=Math.abs(l),p=Math.abs(f),g=s*s,v=u*u,y=Math.PI/4,m=0;m<4;m++){h=s*Math.cos(y),c=u*Math.sin(y);var x=(g-v)*Math.pow(Math.cos(y),3)/s,b=(v-g)*Math.pow(Math.sin(y),3)/u,w=h-x,M=c-b,S=d-x,_=p-b,k=Math.hypot(M,w),E=Math.hypot(_,S);y+=k*Math.asin((w*_-M*S)/(k*E))/Math.sqrt(g+v-h*h-c*c),y=Math.min(Math.PI/2,Math.max(0,y))}return{x:t+i(h,l),y:e+i(c,f)}},pointDistance:function(t,e,r,i,o,a){var s=this.nearestPoint(t,e,r,i,o,a);return n.distance(s.x,s.y,o,a)},pointAt:function(t,e,r,n,i){var o=2*Math.PI*i;return{x:t+r*Math.cos(o),y:e+n*Math.sin(o)}},tangentAngle:function(t,e,r,i,o){var a=2*Math.PI*o,s=Math.atan2(i*Math.cos(a),-r*Math.sin(a));return n.piMod(s)}}},10905:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(65294),i=r(10714);e.default={box:function(t,e,r,i){return n.getBBoxByArray([t,r],[e,i])},length:function(t,e,r,i){return n.distance(t,e,r,i)},pointAt:function(t,e,r,n,i){return{x:(1-i)*t+i*r,y:(1-i)*e+i*n}},pointDistance:function(t,e,r,i,o,a){var s=(r-t)*(o-t)+(i-e)*(a-e);return s<0?n.distance(t,e,o,a):s>(r-t)*(r-t)+(i-e)*(i-e)?n.distance(r,i,o,a):this.pointToLine(t,e,r,i,o,a)},pointToLine:function(t,e,r,n,o,a){var s=[r-t,n-e];if(i.exactEquals(s,[0,0]))return Math.sqrt((o-t)*(o-t)+(a-e)*(a-e));var u=[-s[1],s[0]];i.normalize(u,u);var h=[o-t,a-e];return Math.abs(i.dot(h,u))},tangentAngle:function(t,e,r,n){return Math.atan2(n-e,r-t)}}},13967:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1180),i=r(65294);e.default={box:function(t){for(var e=[],r=[],n=0;n<t.length;n++){var o=t[n];e.push(o[0]),r.push(o[1])}return i.getBBoxByArray(e,r)},length:function(t){return n.lengthOfSegment(t)},pointAt:function(t,e){return n.pointAtSegments(t,e)},pointDistance:function(t,e,r){return n.distanceAtSegment(t,e,r)},tangentAngle:function(t,e){return n.angleAtSegments(t,e)}}},82135:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(10905),i=r(65294),o=r(95909);function a(t,e,r,n){var i=1-n;return i*i*t+2*n*i*e+n*n*r}function s(t,e,r){var n=t+r-2*e;if(i.isNumberEqual(n,0))return[.5];var o=(t-e)/n;return o<=1&&o>=0?[o]:[]}function u(t,e,r,n){return 2*(1-n)*(e-t)+2*n*(r-e)}function h(t,e,r,i,o,s,u){var h=a(t,r,o,u),c=a(e,i,s,u),l=n.default.pointAt(t,e,r,i,u),f=n.default.pointAt(r,i,o,s,u);return[[t,e,l.x,l.y,h,c],[h,c,f.x,f.y,o,s]]}function c(t,e,r,n,o,a,s){if(0===s)return(i.distance(t,e,r,n)+i.distance(r,n,o,a)+i.distance(t,e,o,a))/2;var u=h(t,e,r,n,o,a,.5),l=u[0],f=u[1];return l.push(s-1),f.push(s-1),c.apply(null,l)+c.apply(null,f)}e.default={box:function(t,e,r,n,o,u){var h=s(t,r,o)[0],c=s(e,n,u)[0],l=[t,o],f=[e,u];return void 0!==h&&l.push(a(t,r,o,h)),void 0!==c&&f.push(a(e,n,u,c)),i.getBBoxByArray(l,f)},length:function(t,e,r,n,i,o){return c(t,e,r,n,i,o,3)},nearestPoint:function(t,e,r,n,i,s,u,h){return o.nearestPoint([t,r,i],[e,n,s],u,h,a)},pointDistance:function(t,e,r,n,o,a,s,u){var h=this.nearestPoint(t,e,r,n,o,a,s,u);return i.distance(h.x,h.y,s,u)},interpolationAt:a,pointAt:function(t,e,r,n,i,o,s){return{x:a(t,r,i,s),y:a(e,n,o,s)}},divide:function(t,e,r,n,i,o,a){return h(t,e,r,n,i,o,a)},tangentAngle:function(t,e,r,n,o,a,s){var h=u(t,r,o,s),c=u(e,n,a,s),l=Math.atan2(c,h);return i.piMod(l)}}},1180:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.distanceAtSegment=e.angleAtSegments=e.pointAtSegments=e.lengthOfSegment=void 0;var n=r(10905),i=r(65294);function o(t){for(var e=0,r=[],n=0;n<t.length-1;n++){var o=t[n],a=t[n+1],s=i.distance(o[0],o[1],a[0],a[1]),u={from:o,to:a,length:s};r.push(u),e+=s}return{segments:r,totalLength:e}}e.lengthOfSegment=function(t){if(t.length<2)return 0;for(var e=0,r=0;r<t.length-1;r++){var n=t[r],o=t[r+1];e+=i.distance(n[0],n[1],o[0],o[1])}return e},e.pointAtSegments=function(t,e){if(e>1||e<0||t.length<2)return null;var r=o(t),i=r.segments,a=r.totalLength;if(0===a)return{x:t[0][0],y:t[0][1]};for(var s=0,u=null,h=0;h<i.length;h++){var c=i[h],l=c.from,f=c.to,d=c.length/a;if(e>=s&&e<=s+d){var p=(e-s)/d;u=n.default.pointAt(l[0],l[1],f[0],f[1],p);break}s+=d}return u},e.angleAtSegments=function(t,e){if(e>1||e<0||t.length<2)return 0;for(var r=o(t),n=r.segments,i=r.totalLength,a=0,s=0,u=0;u<n.length;u++){var h=n[u],c=h.from,l=h.to,f=h.length/i;if(e>=a&&e<=a+f){s=Math.atan2(l[1]-c[1],l[0]-c[0]);break}a+=f}return s},e.distanceAtSegment=function(t,e,r){for(var i=1/0,o=0;o<t.length-1;o++){var a=t[o],s=t[o+1],u=n.default.pointDistance(a[0],a[1],s[0],s[1],e,r);u<i&&(i=u)}return i}},65294:(t,e)=>{"use strict";function r(t){return Math.min.apply(null,t)}function n(t){return Math.max.apply(null,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.piMod=e.getBBoxRange=e.getBBoxByArray=e.isNumberEqual=e.distance=void 0,e.distance=function(t,e,r,n){var i=t-r,o=e-n;return Math.sqrt(i*i+o*o)},e.isNumberEqual=function(t,e){return Math.abs(t-e)<.001},e.getBBoxByArray=function(t,e){var i=r(t),o=r(e);return{x:i,y:o,width:n(t)-i,height:n(e)-o}},e.getBBoxRange=function(t,e,i,o){return{minX:r([t,i]),maxX:n([t,i]),minY:r([e,o]),maxY:n([e,o])}},e.piMod=function(t){return(t+2*Math.PI)%(2*Math.PI)}},43057:(t,e,r)=>{"use strict";var n=r(40466),i=r(61468),o=r(13337),a=r(54467),s=r(50426),u=r(58987),h=r(43851),c=r(11501),l=r(71331),f=function(t){function e(e){return t.call(this,n.__assign(n.__assign({},e),{autoDraw:!0,renderer:"svg"}))||this}return n.__extends(e,t),e.prototype.getShapeBase=function(){return h},e.prototype.getGroupBase=function(){return c.default},e.prototype.getShape=function(t,e,r){var n=r.target||r.srcElement;if(!o.SHAPE_TO_TAGS[n.tagName]){for(var i=n.parentNode;i&&!o.SHAPE_TO_TAGS[i.tagName];)i=i.parentNode;n=i}return this.find((function(t){return t.get("el")===n}))},e.prototype.createDom=function(){var t=u.createSVGElement("svg"),e=new l.default(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},e.prototype.onCanvasChange=function(t){var e=this.get("context"),r=this.get("el");if("sort"===t){var n=this.get("children");n&&n.length&&u.sortDom(this,(function(t,e){return n.indexOf(t)-n.indexOf(e)?1:0}))}else if("clear"===t){if(r){r.innerHTML="";var i=e.el;i.innerHTML="",r.appendChild(i)}}else"matrix"===t?s.setTransform(this):"clip"===t?s.setClip(this,e):"changeSize"===t&&(r.setAttribute("width",""+this.get("width")),r.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();s.setClip(this,t),e.length&&a.drawChildren(t,e)},e}(i.AbstractCanvas);e.Z=f},13337:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EVENTS=e.SVG_ATTR_MAP=e.SHAPE_TO_TAGS=void 0,e.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},e.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},e.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},55199:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(84677),i=r(58987),o=function(){function t(t,e){this.cfg={};var r=i.createSVGElement("marker"),o=n.uniqueId("marker_");r.setAttribute("id",o);var a=i.createSVGElement("path");a.setAttribute("stroke",t.stroke||"none"),a.setAttribute("fill",t.fill||"none"),r.appendChild(a),r.setAttribute("overflow","visible"),r.setAttribute("orient","auto-start-reverse"),this.el=r,this.child=a,this.id=o;var s=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===s?this._setDefaultPath(e,a):(this.cfg=s,this._setMarker(t.lineWidth,a)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var r=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),r.setAttribute("refX",""+10*Math.cos(Math.PI/6)),r.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var r=this.el,i=this.cfg.path,o=this.cfg.d;n.isArray(i)&&(i=i.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",i),r.appendChild(e),o&&r.setAttribute("refX",""+o/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}();e.default=o},72951:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(84677),i=r(58987),o=function(){function t(t){this.type="clip",this.cfg={};var e=i.createSVGElement("clipPath");this.el=e,this.id=n.uniqueId("clip_"),e.id=this.id;var r=t.cfg.el;return e.appendChild(r),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}();e.default=o},75636:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(84677),i=r(58987),o=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,a=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function u(t){var e=t.match(s);if(!e)return"";var r="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),n.each(e,(function(t){t=t.split(":"),r+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),r}var h=function(){function t(t){this.cfg={};var e=null,r=n.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var r,i,a=o.exec(t),s=n.mod(n.toRadian(parseFloat(a[1])),2*Math.PI),h=a[2];s>=0&&s<.5*Math.PI?(r={x:0,y:0},i={x:1,y:1}):.5*Math.PI<=s&&s<Math.PI?(r={x:1,y:0},i={x:0,y:1}):Math.PI<=s&&s<1.5*Math.PI?(r={x:1,y:1},i={x:0,y:0}):(r={x:0,y:1},i={x:1,y:0});var c=Math.tan(s),l=c*c,f=(i.x-r.x+c*(i.y-r.y))/(l+1)+r.x,d=c*(i.x-r.x+c*(i.y-r.y))/(l+1)+r.y;e.setAttribute("x1",r.x),e.setAttribute("y1",r.y),e.setAttribute("x2",f),e.setAttribute("y2",d),e.innerHTML=u(h)}(t,e=i.createSVGElement("linearGradient")):function(t,e){var r=a.exec(t),n=parseFloat(r[1]),i=parseFloat(r[2]),o=parseFloat(r[3]),s=r[4];e.setAttribute("cx",n),e.setAttribute("cy",i),e.setAttribute("r",o),e.innerHTML=u(s)}(t,e=i.createSVGElement("radialGradient")),e.setAttribute("id",r),this.el=e,this.id=r,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}();e.default=h},71331:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(84677),i=r(75636),o=r(18541),a=r(55199),s=r(72951),u=r(73652),h=r(58987),c=function(){function t(t){var e=h.createSVGElement("defs"),r=n.uniqueId("defs_");e.id=r,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var r=this.children,n=null,i=0;i<r.length;i++)if(r[i].match(t,e)){n=r[i].id;break}return n},t.prototype.findById=function(t){for(var e=this.children,r=null,n=0;n<e.length;n++)if(e[n].id===t){r=e[n];break}return r},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var r=t.stroke||t.strokeStyle;if(this.defaultArrow[r])return this.defaultArrow[r].id;var n=new a.default(t,e);return this.defaultArrow[r]=n,this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addGradient=function(t){var e=new i.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var r=new a.default(t,e);return this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addShadow=function(t){var e=new o.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new u.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new s.default(t);return this.el.appendChild(e.el),this.add(e),e.id},t}();e.default=c},73652:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(84677),i=r(58987),o=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,a=function(){function t(t){this.cfg={};var e=i.createSVGElement("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var r=i.createSVGElement("image");e.appendChild(r);var a=n.uniqueId("pattern_");e.id=a,this.el=e,this.id=a,this.cfg=t;var s=o.exec(t)[2];r.setAttribute("href",s);var u=new Image;function h(){e.setAttribute("width",""+u.width),e.setAttribute("height",""+u.height)}return s.match(/^data:/i)||(u.crossOrigin="Anonymous"),u.src=s,u.complete?h():(u.onload=h,u.src=u.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}();e.default=a},18541:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(84677),i=r(58987),o={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},a={x:"-40%",y:"-40%",width:"200%",height:"200%"},s=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=i.createSVGElement("filter");return n.each(a,(function(t,r){e.setAttribute(r,t)})),this.el=e,this.id=n.uniqueId("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var r=!0,i=this.cfg;return n.each(Object.keys(i),(function(t){if(i[t]!==e[t])return r=!1,!1})),r},t.prototype.update=function(t,e){var r=this.cfg;return r[o[t]]=e,this._parseShadow(r,this.el),this},t.prototype._parseShadow=function(t,e){var r='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=r},t}();e.default=s},11501:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(61468),o=r(84677),a=r(43851),s=r(54467),u=r(50426),h=r(13337),c=r(58987),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=c.createSVGElement("g");this.set("el",t);var e=this.getParent();if(e){var r=e.get("el");r||(r=e.createDom(),e.set("el",r)),r.appendChild(t)}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var r=this.get("canvas");if(r&&r.get("autoDraw")){var n=r.get("context");this.createPath(n,e)}},e.prototype.onCanvasChange=function(t){s.refreshElement(this,t)},e.prototype.getShapeBase=function(){return a},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),r=this.get("el");this.get("destroyed")?r&&r.parentNode.removeChild(r):(r||this.createDom(),u.setClip(this,t),this.createPath(t),e.length&&s.drawChildren(t,e))},e.prototype.createPath=function(t,e){var r=this.attr(),n=this.get("el");o.each(e||r,(function(t,e){h.SVG_ATTR_MAP[e]&&n.setAttribute(h.SVG_ATTR_MAP[e],t)})),u.setTransform(this)},e}(i.AbstractGroup);e.default=l},67616:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(61468),o=r(50426),a=r(58987),s=r(54467),u=r(13337),h=r(43851),c=r(11501),l=r(45533),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var r=this.get("canvas");if(r&&r.get("autoDraw")){var n=r.get("context");this.draw(n,e)}},e.prototype.getShapeBase=function(){return h},e.prototype.getGroupBase=function(){return c.default},e.prototype.onCanvasChange=function(t){s.refreshElement(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var r=l.getBBoxMethod(this.get("type"));r&&(e=r(this))}if(e){var n=e.x,i=e.y,o=e.width,a=e.height,s=this.getHitLineWidth(),u=s/2,h=n-u,c=i-u;return{x:h,y:c,minX:h,minY:c,maxX:n+o+u,maxY:i+a+u,width:o+s,height:a+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,r=t.fillStyle;return(e||r||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,r=t.strokeStyle;return(e||r)&&this.canStroke},e.prototype.draw=function(t,e){var r=this.get("el");this.get("destroyed")?r&&r.parentNode.removeChild(r):(r||a.createDom(this),o.setClip(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var r=e||this.attr(),n=r.fill,i=r.fillStyle,o=r.stroke,a=r.strokeStyle,s=r.fillOpacity,h=r.strokeOpacity,c=r.lineWidth,l=this.get("el");this.canFill&&(e?"fill"in r?this._setColor(t,"fill",n):"fillStyle"in r&&this._setColor(t,"fill",i):this._setColor(t,"fill",n||i),s&&l.setAttribute(u.SVG_ATTR_MAP.fillOpacity,s)),this.canStroke&&c>0&&(e?"stroke"in r?this._setColor(t,"stroke",o):"strokeStyle"in r&&this._setColor(t,"stroke",a):this._setColor(t,"stroke",o||a),h&&l.setAttribute(u.SVG_ATTR_MAP.strokeOpacity,h),c&&l.setAttribute(u.SVG_ATTR_MAP.lineWidth,c))},e.prototype._setColor=function(t,e,r){var n=this.get("el");if(r)if(r=r.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(r))(i=t.find("gradient",r))||(i=t.addGradient(r)),n.setAttribute(u.SVG_ATTR_MAP[e],"url(#"+i+")");else if(/^[p,P]{1}[\s]*\(/.test(r)){var i;(i=t.find("pattern",r))||(i=t.addPattern(r)),n.setAttribute(u.SVG_ATTR_MAP[e],"url(#"+i+")")}else n.setAttribute(u.SVG_ATTR_MAP[e],r);else n.setAttribute(u.SVG_ATTR_MAP[e],"none")},e.prototype.shadow=function(t,e){var r=this.attr(),n=e||r,i=n.shadowOffsetX,a=n.shadowOffsetY,s=n.shadowBlur,u=n.shadowColor;(i||a||s||u)&&o.setShadow(this,t)},e.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&o.setTransform(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var r=this.get("el"),n=this.get("canvas").get("el").getBoundingClientRect(),i=t+n.left,o=e+n.top,a=document.elementFromPoint(i,o);return!(!a||!a.isEqualNode(r))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,r=t.lineAppendWidth;return this.isStroke()?e+r:0},e}(i.AbstractShape);e.default=f},30548:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(84677),o=r(13337),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var r=this.attr(),n=this.get("el");i.each(e||r,(function(t,e){"x"===e||"y"===e?n.setAttribute("c"+e,t):o.SVG_ATTR_MAP[e]&&n.setAttribute(o.SVG_ATTR_MAP[e],t)}))},e}(r(67616).default);e.default=a},75468:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(84677),o=r(13337),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return n.__extends(e,t),e.prototype.createPath=function(t,e){var r=this.attr(),n=this.get("el");if(i.each(e||r,(function(t,e){o.SVG_ATTR_MAP[e]&&n.setAttribute(o.SVG_ATTR_MAP[e],t)})),"function"==typeof r.html){var a=r.html.call(this,r);if(a instanceof Element||a instanceof HTMLDocument){for(var s=n.childNodes,u=s.length-1;u>=0;u--)n.removeChild(s[u]);n.appendChild(a)}else n.innerHTML=a}else n.innerHTML=r.html},e}(r(67616).default);e.default=a},87918:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(84677),o=r(13337),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var r=this.attr(),n=this.get("el");i.each(e||r,(function(t,e){"x"===e||"y"===e?n.setAttribute("c"+e,t):o.SVG_ATTR_MAP[e]&&n.setAttribute(o.SVG_ATTR_MAP[e],t)}))},e}(r(67616).default);e.default=a},72322:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(84677),o=r(13337),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var r=this,n=this.attr(),a=this.get("el");i.each(e||n,(function(t,e){"img"===e?r._setImage(n.img):o.SVG_ATTR_MAP[e]&&a.setAttribute(o.SVG_ATTR_MAP[e],t)}))},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),r=this.get("el");if(i.isString(t))r.setAttribute("href",t);else if(t instanceof window.Image)e.width||(r.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(r.setAttribute("height",t.height),this.attr("height",t.height)),r.setAttribute("href",t.src);else if(t instanceof HTMLElement&&i.isString(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())r.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var n=document.createElement("canvas");n.setAttribute("width",""+t.width),n.setAttribute("height",""+t.height),n.getContext("2d").putImageData(t,0,0),e.width||(r.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(r.setAttribute("height",""+t.height),this.attr("height",t.height)),r.setAttribute("href",n.toDataURL())}},e}(r(67616).default);e.default=a},43851:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(67616);Object.defineProperty(e,"Base",{enumerable:!0,get:function(){return n.default}});var i=r(30548);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return i.default}});var o=r(75468);Object.defineProperty(e,"Dom",{enumerable:!0,get:function(){return o.default}});var a=r(87918);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return a.default}});var s=r(72322);Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return s.default}});var u=r(14431);Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return u.default}});var h=r(60792);Object.defineProperty(e,"Marker",{enumerable:!0,get:function(){return h.default}});var c=r(92821);Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return c.default}});var l=r(72957);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return l.default}});var f=r(58621);Object.defineProperty(e,"Polyline",{enumerable:!0,get:function(){return f.default}});var d=r(82146);Object.defineProperty(e,"Rect",{enumerable:!0,get:function(){return d.default}});var p=r(98251);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return p.default}})},14431:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(10905),o=r(84677),a=r(13337),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var r=this.attr(),n=this.get("el");o.each(e||r,(function(e,i){if("startArrow"===i||"endArrow"===i)if(e){var s=o.isObject(e)?t.addArrow(r,a.SVG_ATTR_MAP[i]):t.getDefaultArrow(r,a.SVG_ATTR_MAP[i]);n.setAttribute(a.SVG_ATTR_MAP[i],"url(#"+s+")")}else n.removeAttribute(a.SVG_ATTR_MAP[i]);else a.SVG_ATTR_MAP[i]&&n.setAttribute(a.SVG_ATTR_MAP[i],e)}))},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,r=t.y1,n=t.x2,o=t.y2;return i.default.length(e,r,n,o)},e.prototype.getPoint=function(t){var e=this.attr(),r=e.x1,n=e.y1,o=e.x2,a=e.y2;return i.default.pointAt(r,n,o,a,t)},e}(r(67616).default);e.default=s},60792:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(84677),o=r(67616),a=r(50364),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return i.isArray(t)?t.map((function(t){return t.join(" ")})).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),r=e.x,n=e.y,o=e.r||e.radius,s=e.symbol||"circle";return(t=i.isFunction(s)?s:a.default.get(s))?t(r,n,o):(console.warn(t+" symbol is not exist."),null)},e.symbolsFactory=a.default,e}(o.default);e.default=s},50364:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={circle:function(t,e,r){return[["M",t,e],["m",-r,0],["a",r,r,0,1,0,2*r,0],["a",r,r,0,1,0,2*-r,0]]},square:function(t,e,r){return[["M",t-r,e-r],["L",t+r,e-r],["L",t+r,e+r],["L",t-r,e+r],["Z"]]},diamond:function(t,e,r){return[["M",t-r,e],["L",t,e-r],["L",t+r,e],["L",t,e+r],["Z"]]},triangle:function(t,e,r){var n=r*Math.sin(1/3*Math.PI);return[["M",t-r,e+n],["L",t,e-n],["L",t+r,e+n],["z"]]},triangleDown:function(t,e,r){var n=r*Math.sin(1/3*Math.PI);return[["M",t-r,e-n],["L",t+r,e-n],["L",t,e+n],["Z"]]}};e.default={get:function(t){return r[t]},register:function(t,e){r[t]=e},remove:function(t){delete r[t]},getAll:function(){return r}}},92821:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(84677),o=r(13337),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var r=this,n=this.attr(),a=this.get("el");i.each(e||n,(function(e,s){if("path"===s&&i.isArray(e))a.setAttribute("d",r._formatPath(e));else if("startArrow"===s||"endArrow"===s)if(e){var u=i.isObject(e)?t.addArrow(n,o.SVG_ATTR_MAP[s]):t.getDefaultArrow(n,o.SVG_ATTR_MAP[s]);a.setAttribute(o.SVG_ATTR_MAP[s],"url(#"+u+")")}else a.removeAttribute(o.SVG_ATTR_MAP[s]);else o.SVG_ATTR_MAP[s]&&a.setAttribute(o.SVG_ATTR_MAP[s],e)}))},e.prototype._formatPath=function(t){var e=t.map((function(t){return t.join(" ")})).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),r=this.getTotalLength();if(0===r)return null;var n=e?e.getPointAtLength(t*r):null;return n?{x:n.x,y:n.y}:null},e}(r(67616).default);e.default=a},72957:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(84677),o=r(13337),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.createPath=function(t,e){var r=this.attr(),n=this.get("el");i.each(e||r,(function(t,e){"points"===e&&i.isArray(t)&&t.length>=2?n.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):o.SVG_ATTR_MAP[e]&&n.setAttribute(o.SVG_ATTR_MAP[e],t)}))},e}(r(67616).default);e.default=a},58621:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(10905),o=r(13967),a=r(84677),s=r(13337),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var r=this.attr(),n=this.get("el");a.each(e||r,(function(t,e){"points"===e&&a.isArray(t)&&t.length>=2?n.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):s.SVG_ATTR_MAP[e]&&n.setAttribute(s.SVG_ATTR_MAP[e],t)}))},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return a.isNil(e)?(this.set("totalLength",o.default.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,r,n=this.attr().points,o=this.get("tCache");return o||(this._setTcache(),o=this.get("tCache")),a.each(o,(function(n,i){t>=n[0]&&t<=n[1]&&(e=(t-n[0])/(n[1]-n[0]),r=i)})),i.default.pointAt(n[r][0],n[r][1],n[r+1][0],n[r+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var r,n,o=0,s=[];a.each(t,(function(a,u){t[u+1]&&((r=[])[0]=o/e,n=i.default.length(a[0],a[1],t[u+1][0],t[u+1][1]),o+=n,r[1]=o/e,s.push(r))})),this.set("tCache",s)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,r=[];return r.push([t[e-1][0],t[e-1][1]]),r.push([t[e][0],t[e][1]]),r},e}(r(67616).default);e.default=u},82146:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(84677),o=r(67616),a=r(13337),s=r(1720),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var r=this,n=this.attr(),o=this.get("el"),s=!1,u=["x","y","width","height","radius"];i.each(e||n,(function(t,e){-1===u.indexOf(e)||s?-1===u.indexOf(e)&&a.SVG_ATTR_MAP[e]&&o.setAttribute(a.SVG_ATTR_MAP[e],t):(o.setAttribute("d",r._assembleRect(n)),s=!0)}))},e.prototype._assembleRect=function(t){var e=t.x,r=t.y,n=t.width,o=t.height,a=t.radius;if(!a)return"M "+e+","+r+" l "+n+",0 l 0,"+o+" l"+-n+" 0 z";var u=s.parseRadius(a);return i.isArray(a)?1===a.length?u.r1=u.r2=u.r3=u.r4=a[0]:2===a.length?(u.r1=u.r3=a[0],u.r2=u.r4=a[1]):3===a.length?(u.r1=a[0],u.r2=u.r4=a[1],u.r3=a[2]):(u.r1=a[0],u.r2=a[1],u.r3=a[2],u.r4=a[3]):u.r1=u.r2=u.r3=u.r4=a,[["M "+(e+u.r1)+","+r],["l "+(n-u.r1-u.r2)+",0"],["a "+u.r2+","+u.r2+",0,0,1,"+u.r2+","+u.r2],["l 0,"+(o-u.r2-u.r3)],["a "+u.r3+","+u.r3+",0,0,1,"+-u.r3+","+u.r3],["l "+(u.r3+u.r4-n)+",0"],["a "+u.r4+","+u.r4+",0,0,1,"+-u.r4+","+-u.r4],["l 0,"+(u.r4+u.r1-o)],["a "+u.r1+","+u.r1+",0,0,1,"+u.r1+","+-u.r1],["z"]].join(" ")},e}(o.default);e.default=u},98251:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40466),i=r(84677),o=r(23752),a=r(50426),s=r(13337),u=r(67616),h={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},c={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},l={left:"left",start:"left",center:"middle",right:"end",end:"end"},f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return n.__extends(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return n.__assign(n.__assign({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var r=this,n=this.attr(),o=this.get("el");this._setFont(),i.each(e||n,(function(t,e){"text"===e?r._setText(""+t):"matrix"===e&&t?a.setTransform(r):s.SVG_ATTR_MAP[e]&&o.setAttribute(s.SVG_ATTR_MAP[e],t)})),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),r=e.textBaseline,n=e.textAlign,i=o.detect();i&&"firefox"===i.name?t.setAttribute("dominant-baseline",c[r]||"alphabetic"):t.setAttribute("alignment-baseline",h[r]||"baseline"),t.setAttribute("text-anchor",l[n]||"left")},e.prototype._setText=function(t){var e=this.get("el"),r=this.attr(),n=r.x,o=r.textBaseline,a=void 0===o?"bottom":o;if(t)if(~t.indexOf("\n")){var s=t.split("\n"),u=s.length-1,h="";i.each(s,(function(t,e){0===e?"alphabetic"===a?h+='<tspan x="'+n+'" dy="'+-u+'em">'+t+"</tspan>":"top"===a?h+='<tspan x="'+n+'" dy="0.9em">'+t+"</tspan>":"middle"===a?h+='<tspan x="'+n+'" dy="'+-(u-1)/2+'em">'+t+"</tspan>":"bottom"===a?h+='<tspan x="'+n+'" dy="-'+(u+.3)+'em">'+t+"</tspan>":"hanging"===a&&(h+='<tspan x="'+n+'" dy="'+(-(u-1)-.3)+'em">'+t+"</tspan>"):h+='<tspan x="'+n+'" dy="1em">'+t+"</tspan>"})),e.innerHTML=h}else e.innerHTML=t;else e.innerHTML=""},e}(u.default);e.default=f},58987:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.moveTo=e.sortDom=e.createDom=e.createSVGElement=void 0;var n=r(84677),i=r(13337);function o(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}e.createSVGElement=o,e.createDom=function(t){var e=i.SHAPE_TO_TAGS[t.type],r=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var n=o(e);if(t.get("id")&&(n.id=t.get("id")),t.set("el",n),t.set("attrs",{}),r){var a=r.get("el");a||(a=r.createDom(),r.set("el",a)),a.appendChild(n)}return n},e.sortDom=function(t,e){var r=t.get("el"),i=n.toArray(r.children).sort(e),o=document.createDocumentFragment();i.forEach((function(t){o.appendChild(t)})),r.appendChild(o)},e.moveTo=function(t,e){var r=t.parentNode,n=Array.from(r.childNodes).filter((function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()})),i=n[e],o=n.indexOf(t);if(i){if(o>e)r.insertBefore(t,i);else if(o<e){var a=n[e+1];a?r.insertBefore(t,a):r.appendChild(t)}}else r.appendChild(t)}},54467:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.refreshElement=e.drawChildren=void 0;var n=r(50426),i=r(58987);e.drawChildren=function(t,e){e.forEach((function(e){e.draw(t)}))},e.refreshElement=function(t,e){var r=t.get("canvas");if(r&&r.get("autoDraw")){var o=r.get("context"),a=t.getParent(),s=a?a.getChildren():[r],u=t.get("el");if("remove"===e)if(t.get("isClipShape")){var h=u&&u.parentNode,c=h&&h.parentNode;h&&c&&c.removeChild(h)}else u&&u.parentNode&&u.parentNode.removeChild(u);else if("show"===e)u.setAttribute("visibility","visible");else if("hide"===e)u.setAttribute("visibility","hidden");else if("zIndex"===e)i.moveTo(u,s.indexOf(t));else if("sort"===e){var l=t.get("children");l&&l.length&&i.sortDom(t,(function(t,e){return l.indexOf(t)-l.indexOf(e)?1:0}))}else"clear"===e?u&&(u.innerHTML=""):"matrix"===e?n.setTransform(t):"clip"===e?n.setClip(t,o):"attr"===e||"add"===e&&t.draw(o)}}},1720:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parsePath=e.parseRadius=void 0;var n=r(84677),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi;e.parseRadius=function(t){var e=0,r=0,i=0,o=0;return n.isArray(t)?1===t.length?e=r=i=o=t[0]:2===t.length?(e=i=t[0],r=o=t[1]):3===t.length?(e=t[0],r=o=t[1],i=t[2]):(e=t[0],r=t[1],i=t[2],o=t[3]):e=r=i=o=t,{r1:e,r2:r,r3:i,r4:o}},e.parsePath=function(t){return t=t||[],n.isArray(t)?t:n.isString(t)?(t=t.match(i),n.each(t,(function(e,r){if((e=e.match(o))[0].length>1){var i=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=i}n.each(e,(function(t,r){isNaN(t)||(e[r]=+t)})),t[r]=e})),t):void 0}},50426:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setClip=e.setTransform=e.setShadow=void 0;var n=r(58987);e.setShadow=function(t,e){var r=t.cfg.el,n=t.attr(),i={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(i.dx||i.dy||i.blur||i.color){var o=e.find("filter",i);o||(o=e.addShadow(i)),r.setAttribute("filter","url(#"+o+")")}else r.removeAttribute("filter")},e.setTransform=function(t){var e=t.attr().matrix;if(e){for(var r=t.cfg.el,n=[],i=0;i<9;i+=3)n.push(e[i]+","+e[i+1]);-1===(n=n.join(",")).indexOf("NaN")?r.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",e)}},e.setClip=function(t,e){var r=t.getClip(),i=t.get("el");if(r){if(r&&!i.hasAttribute("clip-path")){n.createDom(r),r.createPath(e);var o=e.addClip(r);i.setAttribute("clip-path","url(#"+o+")")}}else i.removeAttribute("clip-path")}},19875:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*n},e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))};var r=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var n=Math.PI/180},25519:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new n.ARRAY_TYPE(9);n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0);return t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,r,i,o,a,s,u,h){var c=new n.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=r,c[3]=i,c[4]=o,c[5]=a,c[6]=s,c[7]=u,c[8]=h,c},e.set=function(t,e,r,n,i,o,a,s,u,h){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=h,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],h=e[7],c=e[8],l=c*a-s*h,f=-c*o+s*u,d=h*o-a*u,p=r*l+n*f+i*d;if(!p)return null;return p=1/p,t[0]=l*p,t[1]=(-c*n+i*h)*p,t[2]=(s*n-i*a)*p,t[3]=f*p,t[4]=(c*r-i*u)*p,t[5]=(-s*r+i*o)*p,t[6]=d*p,t[7]=(-h*r+n*u)*p,t[8]=(a*r-n*o)*p,t},e.adjoint=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],h=e[7],c=e[8];return t[0]=a*c-s*h,t[1]=i*h-n*c,t[2]=n*s-i*a,t[3]=s*u-o*c,t[4]=r*c-i*u,t[5]=i*o-r*s,t[6]=o*h-a*u,t[7]=n*u-r*h,t[8]=r*a-n*o,t},e.determinant=function(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],h=t[8];return e*(h*o-a*u)+r*(-h*i+a*s)+n*(u*i-o*s)},e.multiply=i,e.translate=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*n+d*a+h,t[7]=f*i+d*s+c,t[8]=f*o+d*u+l,t},e.rotate=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=Math.sin(r),d=Math.cos(r);return t[0]=d*n+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*n,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=h,t[7]=c,t[8]=l,t},e.scale=function(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r+r,s=n+n,u=i+i,h=r*a,c=n*a,l=n*s,f=i*a,d=i*s,p=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-l-p,t[3]=c-y,t[6]=f+v,t[1]=c+y,t[4]=1-h-p,t[7]=d-g,t[2]=f-v,t[5]=d+g,t[8]=1-h-l,t},e.normalFromMat4=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=r*s-n*a,x=r*u-i*a,b=r*h-o*a,w=n*u-i*s,M=n*h-o*s,S=i*h-o*u,_=c*g-l*p,k=c*v-f*p,E=c*y-d*p,C=l*v-f*g,P=l*y-d*g,A=f*y-d*v,I=m*A-x*P+b*C+w*E-M*k+S*_;if(!I)return null;return I=1/I,t[0]=(s*A-u*P+h*C)*I,t[1]=(u*E-a*A-h*k)*I,t[2]=(a*P-s*E+h*_)*I,t[3]=(i*P-n*A-o*C)*I,t[4]=(r*A-i*E+o*k)*I,t[5]=(n*E-r*P-o*_)*I,t[6]=(g*S-v*M+y*w)*I,t[7]=(v*b-p*S-y*x)*I,t[8]=(p*M-g*b+y*m)*I,t},e.projection=function(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t},e.subtract=o,e.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t},e.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],h=t[6],c=t[7],l=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],x=e[7],b=e[8];return Math.abs(r-f)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(h-m)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(m))&&Math.abs(c-x)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(l-b)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(b))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(19875));function i(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=r[0],d=r[1],p=r[2],g=r[3],v=r[4],y=r[5],m=r[6],x=r[7],b=r[8];return t[0]=f*n+d*a+p*h,t[1]=f*i+d*s+p*c,t[2]=f*o+d*u+p*l,t[3]=g*n+v*a+y*h,t[4]=g*i+v*s+y*c,t[5]=g*o+v*u+y*l,t[6]=m*n+x*a+b*h,t[7]=m*i+x*s+b*c,t[8]=m*o+x*u+b*l,t}function o(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}e.mul=i,e.sub=o},8554:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=i,e.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var r=new n.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,r){return t[0]=e,t[1]=r,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},e.subtract=o,e.multiply=a,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},e.distance=u,e.squaredDistance=h,e.length=c,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var r=e[0],n=e[1],i=r*r+n*n;i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i);return t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t},e.lerp=function(t,e,r,n){var i=e[0],o=e[1];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t},e.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t},e.transformMat2=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t},e.transformMat2d=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t},e.transformMat3=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t},e.transformMat4=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t},e.rotate=function(t,e,r,n){var i=e[0]-r[0],o=e[1]-r[1],a=Math.sin(n),s=Math.cos(n);return t[0]=i*s-o*a+r[0],t[1]=i*a+o*s+r[1],t},e.angle=function(t,e){var r=t[0],n=t[1],i=e[0],o=e[1],a=r*r+n*n;a>0&&(a=1/Math.sqrt(a));var s=i*i+o*o;s>0&&(s=1/Math.sqrt(s));var u=(r*i+n*o)*a*s;return u>1?0:u<-1?Math.PI:Math.acos(u)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var r=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(r-o)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-a)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(19875));function i(){var t=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function a(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function s(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function u(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function h(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function c(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function l(t){var e=t[0],r=t[1];return e*e+r*r}var f;e.len=c,e.sub=o,e.mul=a,e.div=s,e.dist=u,e.sqrDist=h,e.sqrLen=l,e.forEach=(f=i(),function(t,e,r,n,i,o){var a=void 0,s=void 0;for(e||(e=2),r||(r=0),s=n?Math.min(n*e+r,t.length):t.length,a=r;a<s;a+=e)f[0]=t[a],f[1]=t[a+1],i(f,f,o),t[a]=f[0],t[a+1]=f[1];return t})},54069:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=i,e.clone=function(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=o,e.fromValues=a,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},e.subtract=s,e.multiply=u,e.divide=h,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},e.distance=c,e.squaredDistance=l,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=d,e.dot=p,e.cross=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2];return t[0]=i*u-o*s,t[1]=o*a-n*u,t[2]=n*s-i*a,t},e.lerp=function(t,e,r,n){var i=e[0],o=e[1],a=e[2];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t[2]=a+n*(r[2]-a),t},e.hermite=function(t,e,r,n,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,h=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+r[0]*u+n[0]*h+i[0]*c,t[1]=e[1]*s+r[1]*u+n[1]*h+i[1]*c,t[2]=e[2]*s+r[2]*u+n[2]*h+i[2]*c,t},e.bezier=function(t,e,r,n,i,o){var a=1-o,s=a*a,u=o*o,h=s*a,c=3*o*s,l=3*u*a,f=u*o;return t[0]=e[0]*h+r[0]*c+n[0]*l+i[0]*f,t[1]=e[1]*h+r[1]*c+n[1]*l+i[1]*f,t[2]=e[2]*h+r[2]*c+n[2]*l+i[2]*f,t},e.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI,i=2*n.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(r)*o,t[1]=Math.sin(r)*o,t[2]=i*e,t},e.transformMat4=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,t[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,t[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,t},e.transformMat3=function(t,e,r){var n=e[0],i=e[1],o=e[2];return t[0]=n*r[0]+i*r[3]+o*r[6],t[1]=n*r[1]+i*r[4]+o*r[7],t[2]=n*r[2]+i*r[5]+o*r[8],t},e.transformQuat=function(t,e,r){var n=r[0],i=r[1],o=r[2],a=r[3],s=e[0],u=e[1],h=e[2],c=i*h-o*u,l=o*s-n*h,f=n*u-i*s,d=i*f-o*l,p=o*c-n*f,g=n*l-i*c,v=2*a;return c*=v,l*=v,f*=v,d*=2,p*=2,g*=2,t[0]=s+c+d,t[1]=u+l+p,t[2]=h+f+g,t},e.rotateX=function(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},e.rotateY=function(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},e.rotateZ=function(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},e.angle=function(t,e){var r=a(t[0],t[1],t[2]),n=a(e[0],e[1],e[2]);d(r,r),d(n,n);var i=p(r,n);return i>1?0:i<-1?Math.PI:Math.acos(i)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(r-a)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(19875));function i(){var t=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function a(t,e,r){var i=new n.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=r,i}function s(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function u(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function h(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function c(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}function l(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function f(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function d(t,e){var r=e[0],n=e[1],i=e[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function p(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}var g;e.sub=s,e.mul=u,e.div=h,e.dist=c,e.sqrDist=l,e.len=o,e.sqrLen=f,e.forEach=(g=i(),function(t,e,r,n,i,o){var a=void 0,s=void 0;for(e||(e=3),r||(r=0),s=n?Math.min(n*e+r,t.length):t.length,a=r;a<s;a+=e)g[0]=t[a],g[1]=t[a+1],g[2]=t[a+2],i(g,g,o),t[a]=g[0],t[a+1]=g[1],t[a+2]=g[2];return t})},98371:(t,e,r)=>{var n=r(36135),i=r(96038),o=r(22205),a=r(13666),s=function(t){var e,r;function n(){return t.apply(this,arguments)||this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.execute=function(){return o(this.rootNode,this.options,i)},n}(n),u={};t.exports=function(t,e){return e=a.assign({},u,e),new s(t,e).execute()}},98982:(t,e,r)=>{var n=r(36135),i=r(97108),o=r(22205),a=r(13666),s=function(t){var e,r;function n(){return t.apply(this,arguments)||this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.execute=function(){var t=this;return t.rootNode.width=0,o(t.rootNode,t.options,i)},n}(n),u={};t.exports=function(t,e){return e=a.assign({},u,e),new s(t,e).execute()}},41015:(t,e,r)=>{var n=r(36135),i=r(15897),o=r(26517),a=r(13666),s=["LR","RL","H"],u=s[0],h=function(t){var e,r;function n(){return t.apply(this,arguments)||this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.execute=function(){var t=this.options,e=this.rootNode;t.isHorizontal=!0;var r=t.indent,n=void 0===r?20:r,a=t.dropCap,h=void 0===a||a,c=t.direction||u;if(c&&-1===s.indexOf(c))throw new TypeError("Invalid direction: "+c);if(c===s[0])i(e,n,h);else if(c===s[1])i(e,n,h),e.right2left();else if(c===s[2]){var l=o(e,t),f=l.left,d=l.right;i(f,n,h),f.right2left(),i(d,n,h);var p=f.getBoundingBox();d.translate(p.width,0),e.x=d.x-e.width/2}return e},n}(n),c={};t.exports=function(t,e){return e=a.assign({},c,e),new h(t,e).execute()}},19165:(t,e,r)=>{var n={compactBox:r(98371),dendrogram:r(98982),indented:r(41015),mindmap:r(8538)};t.exports=n},36135:(t,e,r)=>{var n=r(6698),i=function(){function t(t,e){void 0===e&&(e={});this.options=e,this.rootNode=n(t,e)}return t.prototype.execute=function(){throw new Error("please override this method")},t}();t.exports=i},97108:(t,e,r)=>{var n=r(13666);function i(t,e){void 0===t&&(t=0),void 0===e&&(e=[]);var r=this;r.x=r.y=0,r.leftChild=r.rightChild=null,r.height=0,r.children=e}var o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function a(t,e,r){r?(e.x=t.x,e.y=t.y):(e.x=t.y,e.y=t.x),t.children.forEach((function(t,n){a(t,e.children[n],r)}))}t.exports=function(t,e){void 0===e&&(e={}),e=n.assign({},o,e);var r,s=0;var u=function t(e){if(!e)return null;e.width=0,e.depth&&e.depth>s&&(s=e.depth);var r=e.children,n=r.length,o=new i(e.height,[]);return r.forEach((function(e,r){var i=t(e);o.children.push(i),0===r&&(o.leftChild=i),r===n-1&&(o.rightChild=i)})),o.originNode=e,o.isLeaf=e.isLeaf(),o}(t);return function t(e){if(e.isLeaf||0===e.children.length)e.drawingDepth=s;else{var r=e.children.map((function(e){return t(e)})),n=Math.min.apply(null,r);e.drawingDepth=n-1}return e.drawingDepth}(u),function t(n){n.x=n.drawingDepth*e.rankSep,n.isLeaf?(n.y=0,r&&(n.y=r.y+r.height+e.nodeSep,n.originNode.parent!==r.originNode.parent&&(n.y+=e.subTreeSep)),r=n):(n.children.forEach((function(e){t(e)})),n.y=(n.leftChild.y+n.rightChild.y)/2)}(u),a(u,t,e.isHorizontal),t}},22205:(t,e,r)=>{var n=r(26517),i=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],a=i[0];t.exports=function(t,e,r){var s=e.direction||a;if(e.isHorizontal=function(t){return o.indexOf(t)>-1}(s),s&&-1===i.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===i[0])r(t,e);else if(s===i[1])r(t,e),t.right2left();else if(s===i[2])r(t,e);else if(s===i[3])r(t,e),t.bottom2top();else if(s===i[4]||s===i[5]){var u=n(t,e),h=u.left,c=u.right;r(h,e),r(c,e),e.isHorizontal?h.right2left():h.bottom2top(),c.translate(h.x-c.x,h.y-c.y),t.x=h.x,t.y=c.y;var l=t.getBoundingBox();e.isHorizontal?l.top<0&&t.translate(0,-l.top):l.left<0&&t.translate(-l.left,0)}var f=e.fixedRoot;return void 0===f&&(f=!0),f&&t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t}},6698:(t,e,r)=>{var n=r(13666),i={getId:function(t){return t.id||t.name},getHGap:function(t){return t.hgap||18},getVGap:function(t){return t.vgap||18},getChildren:function(t){return t.children},getHeight:function(t){return t.height||36},getWidth:function(t){var e=t.label||" ";return t.width||18*e.split("").length}};function o(t,e){var r=this;if(r.vgap=r.hgap=0,t instanceof o)return t;r.data=t;var n=e.getHGap(t),i=e.getVGap(t);return r.width=e.getWidth(t),r.height=e.getHeight(t),r.id=e.getId(t),r.x=r.y=0,r.depth=0,r.children||(r.children=[]),r.addGap(n,i),r}n.assign(o.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,e){var r=this;r.hgap+=t,r.vgap+=e,r.width+=2*t,r.height+=2*e},eachNode:function(t){for(var e,r=[this];e=r.shift();)t(e),r=e.children.concat(r)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e,r=[this];e=r.shift();)t(e),r=r.concat(e.children)},getBoundingBox:function(){var t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)})),t},translate:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.eachNode((function(r){r.x+=t,r.y+=e}))},right2left:function(){var t=this,e=t.getBoundingBox();t.eachNode((function(t){t.x=t.x-2*(t.x-e.left)-t.width})),t.translate(e.width,0)},bottom2top:function(){var t=this,e=t.getBoundingBox();t.eachNode((function(t){t.y=t.y-2*(t.y-e.top)-t.height})),t.translate(0,e.height)}}),t.exports=function(t,e,r){void 0===e&&(e={});var a,s=new o(t,e=n.assign({},i,e)),u=[s];if(!r&&!t.collapsed)for(;a=u.shift();)if(!a.data.collapsed){var h=e.getChildren(a.data),c=h?h.length:0;if(a.children=new Array(c),h&&c)for(var l=0;l<c;l++){var f=new o(h[l],e);a.children[l]=f,u.push(f),f.parent=a,f.depth=a.depth+1}}return s}},15897:t=>{t.exports=function(t,e,r){var n=null;t.eachNode((function(t){!function(t,e,r,n){if(!n)try{if(t.id===t.parent.children[0].id)return t.x+=r*t.depth,void(t.y=e?e.y:0)}catch(t){}t.x+=r*t.depth,t.y=e?e.y+e.height:0}(t,n,e,r),n=t}))}},19523:(t,e,r)=>{var n=r(13666);function i(t,e){var r=0;return t.children.length?t.children.forEach((function(t){r+=i(t,e)})):r=t.height,t._subTreeSep=e.getSubTreeSep(t.data),t.totalHeight=Math.max(t.height,r)+2*t._subTreeSep,t.totalHeight}function o(t){var e=t.children,r=e.length;if(r){e.forEach((function(t){o(t)}));var n=e[0],i=e[r-1],a=i.y-n.y+i.height,s=0;if(e.forEach((function(t){s+=t.totalHeight})),a>t.height)t.y=n.y+a/2-t.height/2;else if(1!==e.length||t.height>s){var u=t.y+(t.height-a)/2-n.y;e.forEach((function(t){t.translate(0,u)}))}else t.y=(n.y+n.height/2+i.y+i.height/2)/2-t.height/2}}var a={getSubTreeSep:function(){return 0}};t.exports=function(t,e){void 0===e&&(e={}),e=n.assign({},a,e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse((function(t){t.x=t.parent.x+t.parent.width})),t.parent=null,i(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode((function(t){var e=t.children,r=e.length;if(r){var n=e[0];if(n.startY=t.startY+t._subTreeSep,1===r)n.y=t.y+t.height/2-n.height/2;else{n.y=n.startY+n.totalHeight/2-n.height/2;for(var i=1;i<r;i++){var o=e[i];o.startY=e[i-1].startY+e[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}})),o(t)}},96038:t=>{function e(t,e,r,n){void 0===n&&(n=[]);var i=this;i.w=t||0,i.h=e||0,i.y=r||0,i.x=0,i.c=n||[],i.cs=n.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function r(t,e,n){n?t.y+=e:t.x+=e,t.children.forEach((function(t){r(t,e,n)}))}function n(t,e){var r=e?t.y:t.x;return t.children.forEach((function(t){r=Math.min(n(t,e),r)})),r}function i(t,e){r(t,-n(t,e),e)}function o(t,e,r){r?e.y=t.x:e.x=t.x,t.c.forEach((function(t,n){o(t,e.children[n],r)}))}function a(t,e,r){void 0===r&&(r=0),e?(t.x=r,r+=t.width):(t.y=r,r+=t.height),t.children.forEach((function(t){a(t,e,r)}))}e.fromNode=function(t,r){if(!t)return null;var n=[];return t.children.forEach((function(t){n.push(e.fromNode(t,r))})),r?new e(t.height,t.width,t.x,n):new e(t.width,t.height,t.y,n)},t.exports=function(t,r){void 0===r&&(r={});var n=r.isHorizontal;function s(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function u(t,e,r){for(var n=t.c[e-1],i=n.mod,o=t.c[e],a=o.mod;null!==n&&null!==o;){f(n)>r.low&&(r=r.nxt);var s=i+n.prelim+n.w-(a+o.prelim);s>0&&(a+=s,h(t,e,r.index,s));var u=f(n),d=f(o);u<=d&&null!==(n=l(n))&&(i+=n.mod),u>=d&&null!==(o=c(o))&&(a+=o.mod)}!n&&o?function(t,e,r,n){var i=t.c[0].el;i.tl=r;var o=n-r.mod-t.c[0].msel;i.mod+=o,i.prelim-=o,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}(t,e,o,a):n&&!o&&function(t,e,r,n){var i=t.c[e].er;i.tr=r;var o=n-r.mod-t.c[e].mser;i.mod+=o,i.prelim-=o,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}(t,e,n,i)}function h(t,e,r,n){t.c[e].mod+=n,t.c[e].msel+=n,t.c[e].mser+=n,function(t,e,r,n){if(r!==e-1){var i=e-r;t.c[r+1].shift+=n/i,t.c[e].shift-=n/i,t.c[e].change-=n-n/i}}(t,e,r,n)}function c(t){return 0===t.cs?t.tl:t.c[0]}function l(t){return 0===t.cs?t.tr:t.c[t.cs-1]}function f(t){return t.y+t.h}function d(t,e,r){for(;null!==r&&t>=r.low;)r=r.nxt;return{low:t,index:e,nxt:r}}a(t,n);var p=e.fromNode(t,n);return function t(e){if(0!==e.cs){t(e.c[0]);for(var r=d(f(e.c[0].el),0,null),n=1;n<e.cs;++n){t(e.c[n]);var i=f(e.c[n].er);u(e,n,r),r=d(i,n,r)}!function(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2}(e),s(e)}else s(e)}(p),function t(e,r){r+=e.mod,e.x=e.prelim+r,function(t){for(var e=0,r=0,n=0;n<t.cs;n++)r+=(e+=t.c[n].shift)+t.c[n].change,t.c[n].mod+=r}(e);for(var n=0;n<e.cs;n++)t(e.c[n],r)}(p,0),o(p,t,n),i(t,n),t}},26517:(t,e,r)=>{var n=r(6698);t.exports=function(t,e){for(var r=n(t.data,e,!0),i=n(t.data,e,!0),o=t.children.length,a=Math.round(o/2),s=e.getSide||function(t,e){return e<a?"right":"left"},u=0;u<o;u++){var h=t.children[u];"right"===s(h,u)?i.children.push(h):r.children.push(h)}return r.eachNode((function(t){t.isRoot()||(t.side="left")})),i.eachNode((function(t){t.isRoot()||(t.side="right")})),{left:r,right:i}}},8538:(t,e,r)=>{var n=r(36135),i=r(19523),o=r(22205),a=r(13666),s=function(t){var e,r;function n(){return t.apply(this,arguments)||this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.execute=function(){return o(this.rootNode,this.options,i)},n}(n),u={};t.exports=function(t,e){return e=a.assign({},u,e),new s(t,e).execute()}},13666:(t,e,r)=>{var n=r(84677).mix;t.exports={assign:n}},64916:(t,e,r)=>{"use strict";var n=r(83126);e.wO=n.default,r(92938).default,r(72806).default;var i=r(7918);e.vs=i.default},83126:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25519);n.translate=function(t,e,r){var i=new Array(9);return n.fromTranslation(i,r),n.multiply(t,i,e)},n.rotate=function(t,e,r){var i=new Array(9);return n.fromRotation(i,r),n.multiply(t,i,e)},n.scale=function(t,e,r){var i=new Array(9);return n.fromScaling(i,r),n.multiply(t,i,e)},n.transform=function(t,e){for(var r=[].concat(t),i=0,o=e.length;i<o;i++){var a=e[i];switch(a[0]){case"t":n.translate(r,r,[a[1],a[2]]);break;case"s":n.scale(r,r,[a[1],a[2]]);break;case"r":n.rotate(r,r,a[1])}}return r},e.default=n},7918:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(84677),i=r(83126);e.default=function(t,e){var r=t?n.clone(t):[1,0,0,0,1,0,0,0,1];return n.each(e,(function(t){switch(t[0]){case"t":i.default.translate(r,r,[t[1],t[2]]);break;case"s":i.default.scale(r,r,[t[1],t[2]]);break;case"r":i.default.rotate(r,r,t[1]);break;case"m":i.default.multiply(r,r,t[1]);break;default:return!1}})),r}},92938:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(8554),i=r(84677);n.angle=function(t,e){var r=n.dot(t,e)/(n.length(t)*n.length(e));return Math.acos(i.clamp(r,-1,1))},n.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},n.angleTo=function(t,e,r){var i=n.angle(t,e),o=n.direction(t,e)>=0;return r?o?2*Math.PI-i:i:o?i:2*Math.PI-i},n.vertical=function(t,e,r){return r?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t},e.default=n},72806:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(54069);e.default=n},27881:(t,e,r)=>{"use strict";r.r(e),r.d(e,{leftTranslate:()=>o,leftRotate:()=>a,leftScale:()=>s,transform:()=>u,direction:()=>h,angleTo:()=>c,vertical:()=>l});var n=r(31300),i=r(10714);function o(t,e,r){var i=[0,0,0,0,0,0,0,0,0];return n.fromTranslation(i,r),n.multiply(t,i,e)}function a(t,e,r){var i=[0,0,0,0,0,0,0,0,0];return n.fromRotation(i,r),n.multiply(t,i,e)}function s(t,e,r){var i=[0,0,0,0,0,0,0,0,0];return n.fromScaling(i,r),n.multiply(t,i,e)}function u(t,e){for(var r,i,u,h=t?[].concat(t):[1,0,0,0,1,0,0,0,1],c=0,l=e.length;c<l;c++){var f=e[c];switch(f[0]){case"t":o(h,h,[f[1],f[2]]);break;case"s":s(h,h,[f[1],f[2]]);break;case"r":a(h,h,f[1]);break;case"m":r=h,i=h,u=f[1],n.multiply(r,u,i)}}return h}function h(t,e){return t[0]*e[1]-e[0]*t[1]}function c(t,e,r){var n=i.angle(t,e),o=h(t,e)>=0;return r?o?2*Math.PI-n:n:o?n:2*Math.PI-n}function l(t,e,r){return r?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}},26137:(t,e,r)=>{"use strict";r.r(e),r.d(e,{mat3:()=>n,vec2:()=>i,vec3:()=>o,ext:()=>a});var n=r(31300),i=r(10714),o=r(21706),a=r(27881)},2793:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5647),i=r(51676);function o(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function a(t,e){return o(t)*o(e)?(t[0]*e[0]+t[1]*e[1])/(o(t)*o(e)):1}function s(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(a(t,e))}function u(t,e){return t[0]===e[0]&&t[1]===e[1]}e.isSamePoint=u,e.default=function(t,e){var r=e[1],o=e[2],h=n.default(i.default(e[3]),2*Math.PI),c=e[4],l=e[5],f=t[0],d=t[1],p=e[6],g=e[7],v=Math.cos(h)*(f-p)/2+Math.sin(h)*(d-g)/2,y=-1*Math.sin(h)*(f-p)/2+Math.cos(h)*(d-g)/2,m=v*v/(r*r)+y*y/(o*o);m>1&&(r*=Math.sqrt(m),o*=Math.sqrt(m));var x=r*r*(y*y)+o*o*(v*v),b=x?Math.sqrt((r*r*(o*o)-x)/x):1;c===l&&(b*=-1),isNaN(b)&&(b=0);var w=o?b*r*y/o:0,M=r?b*-o*v/r:0,S=(f+p)/2+Math.cos(h)*w-Math.sin(h)*M,_=(d+g)/2+Math.sin(h)*w+Math.cos(h)*M,k=[(v-w)/r,(y-M)/o],E=[(-1*v-w)/r,(-1*y-M)/o],C=s([1,0],k),P=s(k,E);return a(k,E)<=-1&&(P=Math.PI),a(k,E)>=1&&(P=0),0===l&&P>0&&(P-=2*Math.PI),1===l&&P<0&&(P+=2*Math.PI),{cx:S,cy:_,rx:u(t,[p,g])?0:r,ry:u(t,[p,g])?0:o,startAngle:C,endAngle:C+P,xRotation:h,arcFlag:c,sweepFlag:l}}},29368:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25007),i="\t\n\v\f\r   ᠎             　\u2028\u2029",o=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig");e.default=function(t){if(!t)return null;if(n.default(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(t).replace(o,(function(t,n,i){var o=[],s=n.toLowerCase();if(i.replace(a,(function(t,e){e&&o.push(+e)})),"m"===s&&o.length>2&&(r.push([n].concat(o.splice(0,2))),s="l",n="m"===n?"l":"L"),"o"===s&&1===o.length&&r.push([n,o[0]]),"r"===s)r.push([n].concat(o));else for(;o.length>=e[s]&&(r.push([n].concat(o.splice(0,e[s]))),e[s]););return""})),r}},22625:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(85053),i=r(25007),o=r(41581),a=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,s=/[^\s\,]+/gi;e.default=function(t){var e=t||[];return i.default(e)?e:o.default(e)?(e=e.match(a),n.default(e,(function(t,r){if((t=t.match(s))[0].length>1){var i=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=i}n.default(t,(function(e,r){isNaN(e)||(t[r]=+e)})),e[r]=t})),e):void 0}},1661:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(29368),i=/[a-z]/;function o(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}e.default=function(t){var e=n.default(t);if(!e||!e.length)return[["M",0,0]];for(var r=!1,a=0;a<e.length;a++){var s=e[a][0];if(i.test(s)||["V","H","T","S"].indexOf(s)>=0){r=!0;break}}if(!r)return e;var u=[],h=0,c=0,l=0,f=0,d=0,p=e[0];"M"!==p[0]&&"m"!==p[0]||(l=h=+p[1],f=c=+p[2],d++,u[0]=["M",h,c]),a=d;for(var g=e.length;a<g;a++){var v=e[a],y=u[a-1],m=[],x=(s=v[0]).toUpperCase();if(s!==x)switch(m[0]=x,x){case"A":m[1]=v[1],m[2]=v[2],m[3]=v[3],m[4]=v[4],m[5]=v[5],m[6]=+v[6]+h,m[7]=+v[7]+c;break;case"V":m[1]=+v[1]+c;break;case"H":m[1]=+v[1]+h;break;case"M":l=+v[1]+h,f=+v[2]+c;break;default:for(var b=1,w=v.length;b<w;b++)m[b]=+v[b]+(b%2?h:c)}else m=e[a];switch(x){case"Z":h=+l,c=+f;break;case"H":m=["L",h=m[1],c];break;case"V":m=["L",h,c=m[1]];break;case"T":h=m[1],c=m[2];var M=o([y[1],y[2]],[y[3],y[4]]);m=["Q",M[0],M[1],h,c];break;case"S":h=m[m.length-2],c=m[m.length-1];var S=y.length,_=o([y[S-4],y[S-3]],[y[S-2],y[S-1]]);m=["C",_[0],_[1],m[1],m[2],h,c];break;case"M":l=m[m.length-2],f=m[m.length-1];break;default:h=m[m.length-2],c=m[m.length-1]}u.push(m)}return u}},94104:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2793),i=r(2793),o=r(22625);function a(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}e.default=function(t){for(var e=[],r=null,s=null,u=null,h=0,c=(t=o.default(t)).length,l=0;l<c;l++){var f=t[l];s=t[l+1];var d=f[0],p={command:d,prePoint:r,params:f,startTangent:null,endTangent:null};switch(d){case"M":u=[f[1],f[2]],h=l;break;case"A":var g=n.default(r,f);p.arcParams=g}if("Z"===d)r=u,s=t[h+1];else{var v=f.length;r=[f[v-2],f[v-1]]}s&&"Z"===s[0]&&(s=t[h],e[h]&&(e[h].prePoint=r)),p.currentPoint=r,e[h]&&i.isSamePoint(r,e[h].currentPoint)&&(e[h].prePoint=p.prePoint);var y=s?[s[s.length-2],s[s.length-1]]:null;p.nextPoint=y;var m=p.prePoint;if(["L","H","V"].includes(d))p.startTangent=[m[0]-r[0],m[1]-r[1]],p.endTangent=[r[0]-m[0],r[1]-m[1]];else if("Q"===d){var x=[f[1],f[2]];p.startTangent=[m[0]-x[0],m[1]-x[1]],p.endTangent=[r[0]-x[0],r[1]-x[1]]}else if("T"===d){x=a((M=e[l-1]).currentPoint,m);"Q"===M.command?(p.command="Q",p.startTangent=[m[0]-x[0],m[1]-x[1]],p.endTangent=[r[0]-x[0],r[1]-x[1]]):(p.command="TL",p.startTangent=[m[0]-r[0],m[1]-r[1]],p.endTangent=[r[0]-m[0],r[1]-m[1]])}else if("C"===d){var b=[f[1],f[2]],w=[f[3],f[4]];p.startTangent=[m[0]-b[0],m[1]-b[1]],p.endTangent=[r[0]-w[0],r[1]-w[1]]}else if("S"===d){var M;b=a((M=e[l-1]).currentPoint,m),w=[f[1],f[2]];"C"===M.command?(p.command="C",p.startTangent=[m[0]-b[0],m[1]-b[1]],p.endTangent=[r[0]-w[0],r[1]-w[1]]):(p.command="SQ",p.startTangent=[m[0]-w[0],m[1]-w[1]],p.endTangent=[r[0]-w[0],r[1]-w[1]])}else if("A"===d){var S=.001,_=p.arcParams||{},k=_.cx,E=void 0===k?0:k,C=_.cy,P=void 0===C?0:C,A=_.rx,I=void 0===A?0:A,O=_.ry,T=void 0===O?0:O,N=_.sweepFlag,D=void 0===N?0:N,B=_.startAngle,j=void 0===B?0:B,R=_.endAngle,L=void 0===R?0:R;0===D&&(S*=-1);var z=I*Math.cos(j-S)+E,F=T*Math.sin(j-S)+P;p.startTangent=[z-u[0],F-u[1]];var Y=I*Math.cos(j+L+S)+E,G=T*Math.sin(j+L-S)+P;p.endTangent=[m[0]-Y,m[1]-G]}e.push(p)}return e}},84677:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Cache:()=>xe,assign:()=>Vt,augment:()=>Ht,clamp:()=>J,clearAnimationFrame:()=>Gt,clone:()=>Wt,contains:()=>i,debounce:()=>Ut,deepMix:()=>$t,difference:()=>a,each:()=>d,endsWith:()=>Y,every:()=>G,extend:()=>Qt,filter:()=>o,find:()=>m,findIndex:()=>x,firstValue:()=>b,fixedBase:()=>tt,flatten:()=>w,flattenDeep:()=>S,forIn:()=>yt,get:()=>ue,getRange:()=>_,getType:()=>At,getWrapBehavior:()=>U,group:()=>W,groupBy:()=>H,groupToMap:()=>q,has:()=>mt,hasKey:()=>xt,hasValue:()=>wt,head:()=>L,identity:()=>ye,includes:()=>i,indexOf:()=>Jt,isArguments:()=>It,isArray:()=>l,isArrayLike:()=>n,isBoolean:()=>Ot,isDate:()=>Tt,isDecimal:()=>rt,isElement:()=>Ft,isEmpty:()=>ee,isEqual:()=>ne,isEqualWith:()=>ie,isError:()=>Nt,isEven:()=>nt,isFinite:()=>Dt,isFunction:()=>h,isInteger:()=>it,isMatch:()=>g,isNegative:()=>ot,isNil:()=>c,isNull:()=>Bt,isNumber:()=>et,isNumberEqual:()=>at,isObject:()=>f,isObjectLike:()=>v,isOdd:()=>st,isPlainObject:()=>y,isPositive:()=>ut,isPrototype:()=>Rt,isRegExp:()=>Lt,isString:()=>N,isType:()=>u,isUndefined:()=>zt,keys:()=>p,last:()=>z,lowerCase:()=>St,lowerFirst:()=>_t,map:()=>oe,mapValues:()=>se,maxBy:()=>ht,memoize:()=>Zt,minBy:()=>ct,mix:()=>Vt,mod:()=>lt,noop:()=>ve,number2color:()=>$,parseRadius:()=>Q,pick:()=>le,pull:()=>P,pullAt:()=>I,reduce:()=>O,remove:()=>T,requestAnimationFrame:()=>Yt,set:()=>he,size:()=>me,some:()=>X,sortBy:()=>D,startsWith:()=>F,substitute:()=>kt,throttle:()=>fe,toArray:()=>de,toDegree:()=>dt,toInteger:()=>pt,toRadian:()=>vt,toString:()=>Mt,union:()=>j,uniq:()=>B,uniqueId:()=>ge,upperCase:()=>Et,upperFirst:()=>Ct,values:()=>bt,valuesOfKey:()=>R,wrapBehavior:()=>Z});const n=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)};const i=function(t,e){return!!n(t)&&t.indexOf(e)>-1};const o=function(t,e){if(!n(t))return t;for(var r=[],i=0;i<t.length;i++){var o=t[i];e(o,i)&&r.push(o)}return r};const a=function(t,e){return void 0===e&&(e=[]),o(t,(function(t){return!i(e,t)}))};var s={}.toString;const u=function(t,e){return s.call(t)==="[object "+e+"]"},h=function(t){return u(t,"Function")};const c=function(t){return null==t},l=function(t){return Array.isArray?Array.isArray(t):u(t,"Array")},f=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};const d=function(t,e){if(t)if(l(t))for(var r=0,n=t.length;r<n&&!1!==e(t[r],r);r++);else if(f(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break};const p=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return d(t,(function(r,n){h(t)&&"prototype"===n||e.push(n)})),e};const g=function(t,e){var r=p(e),n=r.length;if(c(t))return!n;for(var i=0;i<n;i+=1){var o=r[i];if(e[o]!==t[o]||!(o in t))return!1}return!0};const v=function(t){return"object"==typeof t&&null!==t};const y=function(t){if(!v(t)||!u(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};const m=function(t,e){if(!l(t))return null;var r;if(h(e)&&(r=e),y(e)&&(r=function(t){return g(t,e)}),r)for(var n=0;n<t.length;n+=1)if(r(t[n]))return t[n];return null};const x=function(t,e,r){void 0===r&&(r=0);for(var n=r;n<t.length;n++)if(e(t[n],n))return n;return-1};const b=function(t,e){for(var r=null,n=0;n<t.length;n++){var i=t[n][e];if(!c(i)){r=l(i)?i[0]:i;break}}return r};const w=function(t){if(!l(t))return[];for(var e=[],r=0;r<t.length;r++)e=e.concat(t[r]);return e};var M=function(t,e){if(void 0===e&&(e=[]),l(t))for(var r=0;r<t.length;r+=1)M(t[r],e);else e.push(t);return e};const S=M;const _=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(l(t[0])){for(var r=[],n=0;n<t.length;n++)r=r.concat(t[n]);e=r}var i=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:i}};var k=Array.prototype,E=k.splice,C=k.indexOf;const P=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0;n<e.length;n++)for(var i=e[n],o=-1;(o=C.call(t,i))>-1;)E.call(t,o,1);return t};var A=Array.prototype.splice;const I=function(t,e){if(!n(t))return[];for(var r=t?e.length:0,i=r-1;r--;){var o=void 0,a=e[r];r!==i&&a===o||(o=a,A.call(t,a,1))}return t};const O=function(t,e,r){if(!l(t)&&!y(t))return t;var n=r;return d(t,(function(t,r){n=e(n,t,r)})),n};const T=function(t,e){var r=[];if(!n(t))return r;for(var i=-1,o=[],a=t.length;++i<a;){var s=t[i];e(s,i,t)&&(r.push(s),o.push(i))}return I(t,o),r},N=function(t){return u(t,"String")};const D=function(t,e){var r;if(h(e))r=function(t,r){return e(t)-e(r)};else{var n=[];N(e)?n.push(e):l(e)&&(n=e),r=function(t,e){for(var r=0;r<n.length;r+=1){var i=n[r];if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return 0}}return t.sort(r),t};const B=function(t){var e=[];return d(t,(function(t){i(e,t)||e.push(t)})),e};const j=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return B([].concat.apply([],t))},R=function(t,e){for(var r=[],n={},i=0;i<t.length;i++){var o=t[i][e];if(!c(o)){l(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];n[s]||(r.push(s),n[s]=!0)}}}return r};function L(t){if(n(t))return t[0]}function z(t){if(n(t)){return t[t.length-1]}}const F=function(t,e){return!(!l(t)&&!N(t))&&t[0]===e};const Y=function(t,e){return!(!l(t)&&!N(t))&&t[t.length-1]===e};const G=function(t,e){for(var r=0;r<t.length;r++)if(!e(t[r],r))return!1;return!0};const X=function(t,e){for(var r=0;r<t.length;r++)if(e(t[r],r))return!0;return!1};var V=Object.prototype.hasOwnProperty;const H=function(t,e){if(!e||!l(t))return{};for(var r,n={},i=h(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];r=i(a),V.call(n,r)?n[r].push(a):n[r]=[a]}return n};const q=function(t,e){if(!e)return{0:t};if(!h(e)){var r=l(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",n=0,i=r.length;n<i;n++)e+=t[r[n]]&&t[r[n]].toString();return e}}return H(t,e)},W=function(t,e){if(!e)return[t];var r=q(t,e),n=[];for(var i in r)n.push(r[i]);return n};const U=function(t,e){return t["_wrap_"+e]};const Z=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var r=function(r){t[e](r)};return t["_wrap_"+e]=r,r};var K={};const $=function(t){var e=K[t];if(!e){for(var r=t.toString(16),n=r.length;n<6;n++)r="0"+r;e="#"+r,K[t]=e}return e};const Q=function(t){var e=0,r=0,n=0,i=0;return l(t)?1===t.length?e=r=n=i=t[0]:2===t.length?(e=n=t[0],r=i=t[1]):3===t.length?(e=t[0],r=i=t[1],n=t[2]):(e=t[0],r=t[1],n=t[2],i=t[3]):e=r=n=i=t,{r1:e,r2:r,r3:n,r4:i}};const J=function(t,e,r){return t<e?e:t>r?r:t};const tt=function(t,e){var r=e.toString(),n=r.indexOf(".");if(-1===n)return Math.round(t);var i=r.substr(n+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))};const et=function(t){return u(t,"Number")};const rt=function(t){return et(t)&&t%1!=0};const nt=function(t){return et(t)&&t%2==0};const it=Number.isInteger?Number.isInteger:function(t){return et(t)&&t%1==0};const ot=function(t){return et(t)&&t<0};function at(t,e,r){return void 0===r&&(r=1e-5),Math.abs(t-e)<r}const st=function(t){return et(t)&&t%2!=0};const ut=function(t){return et(t)&&t>0},ht=function(t,e){if(l(t)){var r,n,i=t[0];return r=h(e)?e(t[0]):t[0][e],d(t,(function(t){(n=h(e)?e(t):t[e])>r&&(i=t,r=n)})),i}},ct=function(t,e){if(l(t)){var r,n,i=t[0];return r=h(e)?e(t[0]):t[0][e],d(t,(function(t){(n=h(e)?e(t):t[e])<r&&(i=t,r=n)})),i}};const lt=function(t,e){return(t%e+e)%e};var ft=180/Math.PI;const dt=function(t){return ft*t},pt=parseInt;var gt=Math.PI/180;const vt=function(t){return gt*t},yt=d,mt=function(t,e){return t.hasOwnProperty(e)},xt=mt;const bt=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return d(t,(function(r,n){h(t)&&"prototype"===n||e.push(r)})),e},wt=function(t,e){return i(bt(t),e)},Mt=function(t){return c(t)?"":t.toString()};const St=function(t){return Mt(t).toLowerCase()};const _t=function(t){var e=Mt(t);return e.charAt(0).toLowerCase()+e.substring(1)};const kt=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,r){return"\\"===t.charAt(0)?t.slice(1):void 0===e[r]?"":e[r]})):t};const Et=function(t){return Mt(t).toUpperCase()};const Ct=function(t){var e=Mt(t);return e.charAt(0).toUpperCase()+e.substring(1)};var Pt={}.toString;const At=function(t){return Pt.call(t).replace(/^\[object /,"").replace(/]$/,"")};const It=function(t){return u(t,"Arguments")};const Ot=function(t){return u(t,"Boolean")};const Tt=function(t){return u(t,"Date")};const Nt=function(t){return u(t,"Error")};function Dt(t){return et(t)&&isFinite(t)}const Bt=function(t){return null===t};var jt=Object.prototype;const Rt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||jt)};const Lt=function(t){return u(t,"RegExp")};const zt=function(t){return void 0===t};const Ft=function(t){return t instanceof Element||t instanceof HTMLDocument};function Yt(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Gt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Xt(t,e){for(var r in e)e.hasOwnProperty(r)&&"constructor"!==r&&void 0!==e[r]&&(t[r]=e[r])}function Vt(t,e,r,n){return e&&Xt(t,e),r&&Xt(t,r),n&&Xt(t,n),t}const Ht=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t[0],n=1;n<t.length;n++){var i=t[n];h(i)&&(i=i.prototype),Vt(r.prototype,i)}};var qt=function(t){if("object"!=typeof t||null===t)return t;var e;if(l(t)){e=[];for(var r=0,n=t.length;r<n;r++)"object"==typeof t[r]&&null!=t[r]?e[r]=qt(t[r]):e[r]=t[r]}else for(var i in e={},t)"object"==typeof t[i]&&null!=t[i]?e[i]=qt(t[i]):e[i]=t[i];return e};const Wt=qt;const Ut=function(t,e,r){var n;return function(){var i=this,o=arguments,a=function(){n=null,r||t.apply(i,o)},s=r&&!n;clearTimeout(n),n=setTimeout(a,e),s&&t.apply(i,o)}},Zt=function(t,e){if(!h(t))throw new TypeError("Expected a function");var r=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var s=t.apply(this,n);return a.set(o,s),s};return r.cache=new Map,r};function Kt(t,e,r,n){for(var i in r=r||0,n=n||5,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&y(o)?(y(t[i])||(t[i]={}),r<n?Kt(t[i],o,r+1,n):t[i]=e[i]):l(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}const $t=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0;n<e.length;n+=1)Kt(t,e[n]);return t};const Qt=function(t,e,r,n){h(e)||(r=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function r(){}r.prototype=t;var n=new r;return n.constructor=e,n},o=i(e.prototype,t);return t.prototype=Vt(o,t.prototype),t.superclass=i(e.prototype,e),Vt(o,r),Vt(t,n),t};const Jt=function(t,e){if(!n(t))return-1;var r=Array.prototype.indexOf;if(r)return r.call(t,e);for(var i=-1,o=0;o<t.length;o++)if(t[o]===e){i=o;break}return i};var te=Object.prototype.hasOwnProperty;const ee=function(t){if(c(t))return!0;if(n(t))return!t.length;var e=At(t);if("Map"===e||"Set"===e)return!t.size;if(Rt(t))return!Object.keys(t).length;for(var r in t)if(te.call(t,r))return!1;return!0};var re=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(N(t)||N(e))return!1;if(n(t)||n(e)){if(t.length!==e.length)return!1;for(var r=!0,i=0;i<t.length&&(r=re(t[i],e[i]));i++);return r}if(v(t)||v(e)){var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(r=!0,i=0;i<o.length&&(r=re(t[o[i]],e[o[i]]));i++);return r}return!1};const ne=re,ie=function(t,e,r){return h(r)?!!r(t,e):ne(t,e)};const oe=function(t,e){if(!n(t))return t;for(var r=[],i=0;i<t.length;i++){var o=t[i];r.push(e(o,i))}return r};var ae=function(t){return t};const se=function(t,e){void 0===e&&(e=ae);var r={};return f(t)&&!c(t)&&Object.keys(t).forEach((function(n){r[n]=e(t[n],n)})),r},ue=function(t,e,r){for(var n=0,i=N(e)?e.split("."):e;t&&n<i.length;)t=t[i[n++]];return void 0===t||n<i.length?r:t},he=function(t,e,r){var n=t,i=N(e)?e.split("."):e;return i.forEach((function(t,e){e<i.length-1?(f(n[t])||(n[t]=et(i[e+1])?[]:{}),n=n[t]):n[t]=r})),t};var ce=Object.prototype.hasOwnProperty;const le=function(t,e){if(null===t||!y(t))return{};var r={};return d(e,(function(e){ce.call(t,e)&&(r[e]=t[e])})),r},fe=function(t,e,r){var n,i,o,a,s=0;r||(r={});var u=function(){s=!1===r.leading?0:Date.now(),n=null,a=t.apply(i,o),n||(i=o=null)},h=function(){var h=Date.now();s||!1!==r.leading||(s=h);var c=e-(h-s);return i=this,o=arguments,c<=0||c>e?(n&&(clearTimeout(n),n=null),s=h,a=t.apply(i,o),n||(i=o=null)):n||!1===r.trailing||(n=setTimeout(u,c)),a};return h.cancel=function(){clearTimeout(n),s=0,n=i=o=null},h},de=function(t){return n(t)?Array.prototype.slice.call(t):[]};var pe={};const ge=function(t){return pe[t=t||"g"]?pe[t]+=1:pe[t]=1,t+pe[t]},ve=function(){},ye=function(t){return t};function me(t){return c(t)?0:n(t)?t.length:Object.keys(t).length}const xe=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var r=this.map[t];return void 0===r?e:r},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}()},57841:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(15760),i=r(91933);e.default=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t[0],o=1;o<t.length;o++){var a=t[o];i.default(a)&&(a=a.prototype),n.default(r.prototype,a)}}},65084:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var r=this.map[t];return void 0===r?e:r},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}();e.default=r},70280:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,r){return t<e?e:t>r?r:t}},36664:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}},17611:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25007),i=function(t){if("object"!=typeof t||null===t)return t;var e;if(n.default(t)){e=[];for(var r=0,o=t.length;r<o;r++)"object"==typeof t[r]&&null!=t[r]?e[r]=i(t[r]):e[r]=t[r]}else for(var a in e={},t)"object"==typeof t[a]&&null!=t[a]?e[a]=i(t[a]):e[a]=t[a];return e};e.default=i},13870:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(17879);e.default=function(t,e){return!!n.default(t)&&t.indexOf(e)>-1}},34120:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n;return function(){var i=this,o=arguments,a=function(){n=null,r||t.apply(i,o)},s=r&&!n;clearTimeout(n),n=setTimeout(a,e),s&&t.apply(i,o)}}},22195:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25007),i=r(66300);function o(t,e,r,a){for(var s in r=r||0,a=a||5,e)if(e.hasOwnProperty(s)){var u=e[s];null!==u&&i.default(u)?(i.default(t[s])||(t[s]={}),r<a?o(t[s],u,r+1,a):t[s]=e[s]):n.default(u)?(t[s]=[],t[s]=t[s].concat(u)):void 0!==u&&(t[s]=u)}}e.default=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0;n<e.length;n+=1)o(t,e[n]);return t}},35973:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(52863),i=r(13870);e.default=function(t,e){return void 0===e&&(e=[]),n.default(t,(function(t){return!i.default(e,t)}))}},85053:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25007),i=r(55671);e.default=function(t,e){if(t)if(n.default(t))for(var r=0,o=t.length;r<o&&!1!==e(t[r],r);r++);else if(i.default(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break}},55341:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25007),i=r(41581);e.default=function(t,e){return!(!n.default(t)&&!i.default(t))&&t[t.length-1]===e}},12017:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){for(var r=0;r<t.length;r++)if(!e(t[r],r))return!1;return!0}},72304:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(15760),i=r(91933);e.default=function(t,e,r,o){i.default(e)||(r=e,e=t,t=function(){});var a=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function r(){}r.prototype=t;var n=new r;return n.constructor=e,n},s=a(e.prototype,t);return t.prototype=n.default(s,t.prototype),t.superclass=a(e.prototype,e),n.default(s,r),n.default(t,o),t}},52863:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(17879);e.default=function(t,e){if(!n.default(t))return t;for(var r=[],i=0;i<t.length;i++){var o=t[i];e(o,i)&&r.push(o)}return r}},72435:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){void 0===r&&(r=0);for(var n=r;n<t.length;n++)if(e(t[n],n))return n;return-1}},20325:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(91933),i=r(39503),o=r(25007),a=r(66300);e.default=function(t,e){if(!o.default(t))return null;var r;if(n.default(e)&&(r=e),a.default(e)&&(r=function(t){return i.default(t,e)}),r)for(var s=0;s<t.length;s+=1)if(r(t[s]))return t[s];return null}},8718:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(95877),i=r(25007);e.default=function(t,e){for(var r=null,o=0;o<t.length;o++){var a=t[o][e];if(!n.default(a)){r=i.default(a)?a[0]:a;break}}return r}},12754:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){var r=e.toString(),n=r.indexOf(".");if(-1===n)return Math.round(t);var i=r.substr(n+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))}},56148:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25007),i=function(t,e){if(void 0===e&&(e=[]),n.default(t))for(var r=0;r<t.length;r+=1)i(t[r],e);else e.push(t);return e};e.default=i},31378:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25007);e.default=function(t){if(!n.default(t))return[];for(var e=[],r=0;r<t.length;r++)e=e.concat(t[r]);return e}},34202:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(85053);e.default=n.default},50619:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25007);e.default=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(n.default(t[0])){for(var r=[],i=0;i<t.length;i++)r=r.concat(t[i]);e=r}var o=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:o}}},87321:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={}.toString;e.default=function(t){return r.call(t).replace(/^\[object /,"").replace(/]$/,"")}},9388:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t["_wrap_"+e]}},22487:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(41581);e.default=function(t,e,r){for(var i=0,o=n.default(e)?e.split("."):e;t&&i<o.length;)t=t[o[i++]];return void 0===t||i<o.length?r:t}},21227:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25007),i=r(91933),o=Object.prototype.hasOwnProperty;e.default=function(t,e){if(!e||!n.default(t))return{};for(var r,a={},s=i.default(e)?e:function(t){return t[e]},u=0;u<t.length;u++){var h=t[u];r=s(h),o.call(a,r)?a[r].push(h):a[r]=[h]}return a}},56975:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25007),i=r(91933),o=r(21227);e.default=function(t,e){if(!e)return{0:t};if(!i.default(e)){var r=n.default(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",n=0,i=r.length;n<i;n++)e+=t[r[n]]&&t[r[n]].toString();return e}}return o.default(t,e)}},18170:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(56975);e.default=function(t,e){if(!e)return[t];var r=n.default(t,e),i=[];for(var o in r)i.push(r[o]);return i}},43125:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(21090);e.default=n.default},63069:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(13870),i=r(16314);e.default=function(t,e){return n.default(i.default(t),e)}},21090:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.hasOwnProperty(e)}},88724:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(17879);e.default=function(t){if(n.default(t))return t[0]}},76481:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t}},84521:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(17879);e.default=function(t,e){if(!n.default(t))return-1;var r=Array.prototype.indexOf;if(r)return r.call(t,e);for(var i=-1,o=0;o<t.length;o++)if(t[o]===e){i=o;break}return i}},78724:(t,e,r)=>{"use strict";var n=r(13870);n.default,n.default,r(35973).default,r(20325).default,r(72435).default,r(8718).default,r(31378).default,r(56148).default,r(50619).default,r(37152).default,r(35090).default,r(1253).default,r(11120).default,r(21988).default,r(8642).default,r(33432).default,r(28811).default,r(88724).default,r(47663).default,r(43847).default,r(55341).default,r(52863).default,r(12017).default,r(67700).default,r(18170).default,r(21227).default,r(56975).default,r(9388).default;var i=r(81133);e.Ko=i.default,r(11910).default,r(75023).default,r(70280).default,r(12754).default,r(59464).default,r(98673).default,r(73422).default,r(29051).default,r(30791).default,r(93391).default,r(46695).default,r(26596).default,r(72530).default,r(5647).default,r(69103).default,r(49945).default,r(51676).default,r(34202).default,r(21090).default,r(43125).default,r(63069).default,r(86246).default,r(39503).default,r(16314).default,r(93036).default,r(96263).default,r(81977).default,r(51823).default,r(38601).default,r(87321).default,r(3113).default,r(25007).default,r(17879).default,r(95867).default,r(42977).default,r(73256).default,r(91933).default,r(72253).default,r(95877).default,r(57319).default,r(59260).default,r(55671).default,r(86439).default,r(66300).default,r(96299).default,r(57016).default;var o=r(41581);e.HD=o.default,r(63141).default,r(22078).default,r(59188).default,r(6557).default,r(36664).default,r(57841).default;var a=r(17611);e.d9=a.default,r(34120).default,r(42099).default;var s=r(22195);e.b$=s.default;var u=r(85053);e.S6=u.default,r(72304).default,r(84521).default,r(1378).default,r(12244).default,r(22309).default,r(81094).default,r(58715).default;var h=r(15760);h.default,h.default,r(22487).default,r(32036).default,r(48121).default,r(7056).default,r(83485).default,r(12921).default,r(59482).default,r(91255).default,r(76481).default,r(47214).default,r(65084).default},3113:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(63141);e.default=function(t){return n.default(t,"Arguments")}},17879:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},25007:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(63141);e.default=function(t){return Array.isArray?Array.isArray(t):n.default(t,"Array")}},95867:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(63141);e.default=function(t){return n.default(t,"Boolean")}},42977:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(63141);e.default=function(t){return n.default(t,"Date")}},59464:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(59260);e.default=function(t){return n.default(t)&&t%1!=0}},59188:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return t instanceof Element||t instanceof HTMLDocument}},1378:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(95877),i=r(17879),o=r(87321),a=r(96299),s=Object.prototype.hasOwnProperty;e.default=function(t){if(n.default(t))return!0;if(i.default(t))return!t.length;var e=o.default(t);if("Map"===e||"Set"===e)return!t.size;if(a.default(t))return!Object.keys(t).length;for(var r in t)if(s.call(t,r))return!1;return!0}},22309:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(91933),i=r(12244);e.default=function(t,e,r){return n.default(r)?!!r(t,e):i.default(t,e)}},12244:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(86439),i=r(17879),o=r(41581),a=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(o.default(t)||o.default(e))return!1;if(i.default(t)||i.default(e)){if(t.length!==e.length)return!1;for(var r=!0,s=0;s<t.length&&(r=a(t[s],e[s]));s++);return r}if(n.default(t)||n.default(e)){var u=Object.keys(t),h=Object.keys(e);if(u.length!==h.length)return!1;for(r=!0,s=0;s<u.length&&(r=a(t[u[s]],e[u[s]]));s++);return r}return!1};e.default=a},73256:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(63141);e.default=function(t){return n.default(t,"Error")}},98673:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(59260);e.default=function(t){return n.default(t)&&t%2==0}},72253:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(59260);e.default=function(t){return n.default(t)&&isFinite(t)}},91933:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(63141);e.default=function(t){return n.default(t,"Function")}},73422:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(59260),i=Number.isInteger?Number.isInteger:function(t){return n.default(t)&&t%1==0};e.default=i},39503:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(95877),i=r(86246);e.default=function(t,e){var r=i.default(e),o=r.length;if(n.default(t))return!o;for(var a=0;a<o;a+=1){var s=r[a];if(e[s]!==t[s]||!(s in t))return!1}return!0}},29051:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(59260);e.default=function(t){return n.default(t)&&t<0}},95877:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return null==t}},57319:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return null===t}},30791:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,r){return void 0===r&&(r=1e-5),Math.abs(t-e)<r}},59260:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(63141);e.default=function(t){return n.default(t,"Number")}},86439:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return"object"==typeof t&&null!==t}},55671:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e}},93391:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(59260);e.default=function(t){return n.default(t)&&t%2!=0}},66300:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(86439),i=r(63141);e.default=function(t){if(!n.default(t)||!i.default(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},46695:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(59260);e.default=function(t){return n.default(t)&&t>0}},96299:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.prototype;e.default=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},57016:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(63141);e.default=function(t){return n.default(t,"RegExp")}},41581:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(63141);e.default=function(t){return n.default(t,"String")}},63141:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={}.toString;e.default=function(t,e){return r.call(t)==="[object "+e+"]"}},22078:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return void 0===t}},86246:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(85053),i=r(91933),o=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return n.default(t,(function(r,n){i.default(t)&&"prototype"===n||e.push(n)})),e};e.default=o},47663:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(17879);e.default=function(t){if(n.default(t)){return t[t.length-1]}}},93036:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(12921);e.default=function(t){return n.default(t).toLowerCase()}},96263:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(12921);e.default=function(t){var e=n.default(t);return e.charAt(0).toLowerCase()+e.substring(1)}},58715:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(95877),i=r(55671),o=function(t){return t};e.default=function(t,e){void 0===e&&(e=o);var r={};return i.default(t)&&!n.default(t)&&Object.keys(t).forEach((function(n){r[n]=e(t[n],n)})),r}},81094:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(17879);e.default=function(t,e){if(!n.default(t))return t;for(var r=[],i=0;i<t.length;i++){var o=t[i];r.push(e(o,i))}return r}},26596:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(85053),i=r(25007),o=r(91933);e.default=function(t,e){if(i.default(t)){var r,a,s=t[0];return r=o.default(e)?e(t[0]):t[0][e],n.default(t,(function(t){(a=o.default(e)?e(t):t[e])>r&&(s=t,r=a)})),s}}},42099:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(91933);e.default=function(t,e){if(!n.default(t))throw new TypeError("Expected a function");var r=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var s=t.apply(this,n);return a.set(o,s),s};return r.cache=new Map,r}},72530:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(85053),i=r(25007),o=r(91933);e.default=function(t,e){if(i.default(t)){var r,a,s=t[0];return r=o.default(e)?e(t[0]):t[0][e],n.default(t,(function(t){(a=o.default(e)?e(t):t[e])<r&&(s=t,r=a)})),s}}},15760:(t,e)=>{"use strict";function r(t,e){for(var r in e)e.hasOwnProperty(r)&&"constructor"!==r&&void 0!==e[r]&&(t[r]=e[r])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){return e&&r(t,e),n&&r(t,n),i&&r(t,i),t}},5647:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){return(t%e+e)%e}},91255:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){}},11910:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};e.default=function(t){var e=r[t];if(!e){for(var n=t.toString(16),i=n.length;i<6;i++)n="0"+n;e="#"+n,r[t]=e}return e}},75023:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25007);e.default=function(t){var e=0,r=0,i=0,o=0;return n.default(t)?1===t.length?e=r=i=o=t[0]:2===t.length?(e=i=t[0],r=o=t[1]):3===t.length?(e=t[0],r=o=t[1],i=t[2]):(e=t[0],r=t[1],i=t[2],o=t[3]):e=r=i=o=t,{r1:e,r2:r,r3:i,r4:o}}},48121:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(85053),i=r(66300),o=Object.prototype.hasOwnProperty;e.default=function(t,e){if(null===t||!i.default(t))return{};var r={};return n.default(e,(function(e){o.call(t,e)&&(r[e]=t[e])})),r}},35090:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(17879),i=Array.prototype.splice;e.default=function(t,e){if(!n.default(t))return[];for(var r=t?e.length:0,o=r-1;r--;){var a=void 0,s=e[r];r!==o&&s===a||(a=s,i.call(t,s,1))}return t}},37152:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Array.prototype,n=r.splice,i=r.indexOf;e.default=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var o=0;o<e.length;o++)for(var a=e[o],s=-1;(s=i.call(t,a))>-1;)n.call(t,s,1);return t}},1253:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(85053),i=r(25007),o=r(66300);e.default=function(t,e,r){if(!i.default(t)&&!o.default(t))return t;var a=r;return n.default(t,(function(t,r){a=e(a,t,r)})),a}},11120:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(17879),i=r(35090);e.default=function(t,e){var r=[];if(!n.default(t))return r;for(var o=-1,a=[],s=t.length;++o<s;){var u=t[o];e(u,o,t)&&(r.push(u),a.push(o))}return i.default(t,a),r}},6557:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},32036:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(55671),i=r(41581),o=r(59260);e.default=function(t,e,r){var a=t,s=i.default(e)?e.split("."):e;return s.forEach((function(t,e){e<s.length-1?(n.default(a[t])||(a[t]=o.default(s[e+1])?[]:{}),a=a[t]):a[t]=r})),t}},47214:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(95877),i=r(17879);e.default=function(t){return n.default(t)?0:i.default(t)?t.length:Object.keys(t).length}},67700:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){for(var r=0;r<t.length;r++)if(e(t[r],r))return!0;return!1}},21988:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25007),i=r(41581),o=r(91933);e.default=function(t,e){var r;if(o.default(e))r=function(t,r){return e(t)-e(r)};else{var a=[];i.default(e)?a.push(e):n.default(e)&&(a=e),r=function(t,e){for(var r=0;r<a.length;r+=1){var n=a[r];if(t[n]>e[n])return 1;if(t[n]<e[n])return-1}return 0}}return t.sort(r),t}},43847:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25007),i=r(41581);e.default=function(t,e){return!(!n.default(t)&&!i.default(t))&&t[0]===e}},81977:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,r){return"\\"===t.charAt(0)?t.slice(1):void 0===e[r]?"":e[r]})):t}},7056:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n,i,o,a,s=0;r||(r={});var u=function(){s=!1===r.leading?0:Date.now(),n=null,a=t.apply(i,o),n||(i=o=null)},h=function(){var h=Date.now();s||!1!==r.leading||(s=h);var c=e-(h-s);return i=this,o=arguments,c<=0||c>e?(n&&(clearTimeout(n),n=null),s=h,a=t.apply(i,o),n||(i=o=null)):n||!1===r.trailing||(n=setTimeout(u,c)),a};return h.cancel=function(){clearTimeout(n),s=0,n=i=o=null},h}},83485:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(17879);e.default=function(t){return n.default(t)?Array.prototype.slice.call(t):[]}},69103:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=180/Math.PI;e.default=function(t){return r*t}},49945:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=parseInt},51676:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Math.PI/180;e.default=function(t){return r*t}},12921:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(95877);e.default=function(t){return n.default(t)?"":t.toString()}},8642:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(33432);e.default=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.default([].concat.apply([],t))}},33432:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(13870),i=r(85053);e.default=function(t){var e=[];return i.default(t,(function(t){n.default(e,t)||e.push(t)})),e}},59482:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};e.default=function(t){return r[t=t||"g"]?r[t]+=1:r[t]=1,t+r[t]}},51823:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(12921);e.default=function(t){return n.default(t).toUpperCase()}},38601:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(12921);e.default=function(t){var e=n.default(t);return e.charAt(0).toUpperCase()+e.substring(1)}},28811:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25007),i=r(95877);e.default=function(t,e){for(var r=[],o={},a=0;a<t.length;a++){var s=t[a][e];if(!i.default(s)){n.default(s)||(s=[s]);for(var u=0;u<s.length;u++){var h=s[u];o[h]||(r.push(h),o[h]=!0)}}}return r}},16314:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(85053),i=r(91933),o=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return n.default(t,(function(r,n){i.default(t)&&"prototype"===n||e.push(r)})),e};e.default=o},81133:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var r=function(r){t[e](r)};return t["_wrap_"+e]=r,r}},73786:(t,e,r)=>{var n=r(99026),i={};for(var o in n)n.hasOwnProperty(o)&&(i[n[o]]=o);var a=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var u=a[s].channels,h=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:u}),Object.defineProperty(a[s],"labels",{value:h})}a.rgb.hsl=function(t){var e,r,n=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(n,i,o),s=Math.max(n,i,o),u=s-a;return s===a?e=0:n===s?e=(i-o)/u:i===s?e=2+(o-n)/u:o===s&&(e=4+(n-i)/u),(e=Math.min(60*e,360))<0&&(e+=360),r=(a+s)/2,[e,100*(s===a?0:r<=.5?u/(s+a):u/(2-s-a)),100*r]},a.rgb.hsv=function(t){var e,r,n,i,o,a=t[0]/255,s=t[1]/255,u=t[2]/255,h=Math.max(a,s,u),c=h-Math.min(a,s,u),l=function(t){return(h-t)/6/c+.5};return 0===c?i=o=0:(o=c/h,e=l(a),r=l(s),n=l(u),a===h?i=n-r:s===h?i=1/3+e-n:u===h&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*h]},a.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2];return[a.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(r,n))),100*(n=1-1/255*Math.max(e,Math.max(r,n)))]},a.rgb.cmyk=function(t){var e,r=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*((1-r-(e=Math.min(1-r,1-n,1-i)))/(1-e)||0),100*((1-n-e)/(1-e)||0),100*((1-i-e)/(1-e)||0),100*e]},a.rgb.keyword=function(t){var e=i[t];if(e)return e;var r,o,a,s=1/0;for(var u in n)if(n.hasOwnProperty(u)){var h=n[u],c=(o=t,a=h,Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));c<s&&(s=c,r=u)}return r},a.keyword.rgb=function(t){return n[t]},a.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*e+.7152*r+.0722*n),100*(.0193*e+.1192*r+.9505*n)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),r=e[0],n=e[1],i=e[2];return n/=100,i/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(t){var e,r,n,i,o,a=t[0]/360,s=t[1]/100,u=t[2]/100;if(0===s)return[o=255*u,o,o];e=2*u-(r=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var h=0;h<3;h++)(n=a+1/3*-(h-1))<0&&n++,n>1&&n--,o=6*n<1?e+6*(r-e)*n:2*n<1?r:3*n<2?e+(r-e)*(2/3-n)*6:e,i[h]=255*o;return i},a.hsl.hsv=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=r,o=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,i*=o<=1?o:2-o,[e,100*(0===n?2*i/(o+i):2*r/(n+r)),100*((n+r)/2)]},a.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*n*(1-r),s=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,u,a];case 1:return[s,n,a];case 2:return[a,n,u];case 3:return[a,s,n];case 4:return[u,a,n];case 5:return[n,a,s]}},a.hsv.hsl=function(t){var e,r,n,i=t[0],o=t[1]/100,a=t[2]/100,s=Math.max(a,.01);return n=(2-o)*a,r=o*s,[i,100*(r=(r/=(e=(2-o)*s)<=1?e:2-e)||0),100*(n/=2)]},a.hwb.rgb=function(t){var e,r,n,i,o,a,s,u=t[0]/360,h=t[1]/100,c=t[2]/100,l=h+c;switch(l>1&&(h/=l,c/=l),n=6*u-(e=Math.floor(6*u)),0!=(1&e)&&(n=1-n),i=h+n*((r=1-c)-h),e){default:case 6:case 0:o=r,a=i,s=h;break;case 1:o=i,a=r,s=h;break;case 2:o=h,a=r,s=i;break;case 3:o=h,a=i,s=r;break;case 4:o=i,a=h,s=r;break;case 5:o=r,a=h,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},a.xyz.rgb=function(t){var e,r,n,i=t[0]/100,o=t[1]/100,a=t[2]/100;return r=-.9689*i+1.8758*o+.0415*a,n=.0557*i+-.204*o+1.057*a,e=(e=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(e=Math.min(Math.max(0,e),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},a.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2];return r/=100,n/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(e-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},a.lab.xyz=function(t){var e,r,n,i=t[0];e=t[1]/500+(r=(i+16)/116),n=r-t[2]/200;var o=Math.pow(r,3),a=Math.pow(e,3),s=Math.pow(n,3);return r=o>.008856?o:(r-16/116)/7.787,e=a>.008856?a:(e-16/116)/7.787,n=s>.008856?s:(n-16/116)/7.787,[e*=95.047,r*=100,n*=108.883]},a.lab.lch=function(t){var e,r=t[0],n=t[1],i=t[2];return(e=360*Math.atan2(i,n)/2/Math.PI)<0&&(e+=360),[r,Math.sqrt(n*n+i*i),e]},a.lch.lab=function(t){var e,r=t[0],n=t[1];return e=t[2]/360*2*Math.PI,[r,n*Math.cos(e),n*Math.sin(e)]},a.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],i=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var r=.5*(1+~~(t>50));return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},a.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var r;return t-=16,[Math.floor(t/36)/5*255,Math.floor((r=t%36)/6)/5*255,r%6/5*255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];3===e[0].length&&(r=r.split("").map((function(t){return t+t})).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},a.rgb.hcg=function(t){var e,r=t[0]/255,n=t[1]/255,i=t[2]/255,o=Math.max(Math.max(r,n),i),a=Math.min(Math.min(r,n),i),s=o-a;return e=s<=0?0:o===r?(n-i)/s%6:o===n?2+(i-r)/s:4+(r-n)/s+4,e/=6,[360*(e%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1,i=0;return(n=r<.5?2*e*r:2*e*(1-r))<1&&(i=(r-.5*n)/(1-n)),[t[0],100*n,100*i]},a.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],100*n,100*i]},a.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100;if(0===r)return[255*n,255*n,255*n];var i,o=[0,0,0],a=e%1*6,s=a%1,u=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=u,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=u,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=u}return i=(1-r)*n,[255*(r*o[0]+i),255*(r*o[1]+i),255*(r*o[2]+i)]},a.hcg.hsv=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e),n=0;return r>0&&(n=e/r),[t[0],100*n,100*r]},a.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100*(1-e)+.5*e,n=0;return r>0&&r<.5?n=e/(2*r):r>=.5&&r<1&&(n=e/(2*(1-r))),[t[0],100*n,100*r]},a.hcg.hwb=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},a.hwb.hcg=function(t){var e=t[1]/100,r=1-t[2]/100,n=r-e,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],100*n,100*i]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},83338:(t,e,r)=>{var n=r(73786),i=r(3986),o={};Object.keys(n).forEach((function(t){o[t]={},Object.defineProperty(o[t],"channels",{value:n[t].channels}),Object.defineProperty(o[t],"labels",{value:n[t].labels});var e=i(t);Object.keys(e).forEach((function(r){var n=e[r];o[t][r]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var r=t(e);if("object"==typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}(n),o[t][r].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(n)}))})),t.exports=o},3986:(t,e,r)=>{var n=r(73786);function i(t){var e=function(){for(var t={},e=Object.keys(n),r=e.length,i=0;i<r;i++)t[e[i]]={distance:-1,parent:null};return t}(),r=[t];for(e[t].distance=0;r.length;)for(var i=r.pop(),o=Object.keys(n[i]),a=o.length,s=0;s<a;s++){var u=o[s],h=e[u];-1===h.distance&&(h.distance=e[i].distance+1,h.parent=i,r.unshift(u))}return e}function o(t,e){return function(r){return e(t(r))}}function a(t,e){for(var r=[e[t].parent,t],i=n[e[t].parent][t],a=e[t].parent;e[a].parent;)r.unshift(e[a].parent),i=o(n[e[a].parent][a],i),a=e[a].parent;return i.conversion=r,i}t.exports=function(t){for(var e=i(t),r={},n=Object.keys(e),o=n.length,s=0;s<o;s++){var u=n[s];null!==e[u].parent&&(r[u]=a(u,e))}return r}},99026:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},45411:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},73612:(t,e,r)=>{var n=r(45411),i=r(75029),o={};for(var a in n)n.hasOwnProperty(a)&&(o[n[a]]=a);var s=t.exports={to:{},get:{}};function u(t,e,r){return Math.min(Math.max(e,t),r)}function h(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}s.get=function(t){var e,r;switch(t.substring(0,3).toLowerCase()){case"hsl":e=s.get.hsl(t),r="hsl";break;case"hwb":e=s.get.hwb(t),r="hwb";break;default:e=s.get.rgb(t),r="rgb"}return e?{model:r,value:e}:null},s.get.rgb=function(t){if(!t)return null;var e,r,i,o=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=e[2],e=e[1],r=0;r<3;r++){var a=2*r;o[r]=parseInt(e.slice(a,a+2),16)}i&&(o[3]=parseInt(i,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(i=(e=e[1])[3],r=0;r<3;r++)o[r]=parseInt(e[r]+e[r],16);i&&(o[3]=parseInt(i+i,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<3;r++)o[r]=parseInt(e[r+1],0);e[4]&&(o[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(o=n[e[1]])?(o[3]=1,o):null:null;for(r=0;r<3;r++)o[r]=Math.round(2.55*parseFloat(e[r+1]));e[4]&&(o[3]=parseFloat(e[4]))}for(r=0;r<3;r++)o[r]=u(o[r],0,255);return o[3]=u(o[3],0,1),o},s.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(r)?1:r,0,1)]}return null},s.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(r)?1:r,0,1)]}return null},s.to.hex=function(){var t=i(arguments);return"#"+h(t[0])+h(t[1])+h(t[2])+(t[3]<1?h(Math.round(255*t[3])):"")},s.to.rgb=function(){var t=i(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},s.to.rgb.percent=function(){var t=i(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"},s.to.hsl=function(){var t=i(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},s.to.hwb=function(){var t=i(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},s.to.keyword=function(t){return o[t.slice(0,3)]}},90112:(t,e,r)=>{"use strict";var n=r(73612),i=r(83338),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach((function(t){s[o.call(i[t].labels).sort().join("")]=t}));var u={};function h(t,e){if(!(this instanceof h))return new h(t,e);if(e&&e in a&&(e=null),e&&!(e in i))throw new Error("Unknown model: "+e);var r,c;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof h)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var l=n.get(t);if(null===l)throw new Error("Unable to parse color from string: "+t);this.model=l.model,c=i[this.model].channels,this.color=l.value.slice(0,c),this.valpha="number"==typeof l.value[c]?l.value[c]:1}else if(t.length){this.model=e||"rgb",c=i[this.model].channels;var f=o.call(t,0,c);this.color=d(f,c),this.valpha="number"==typeof t[c]?t[c]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var p=Object.keys(t);"alpha"in t&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var g=p.sort().join("");if(!(g in s))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=s[g];var v=i[this.model].labels,y=[];for(r=0;r<v.length;r++)y.push(t[v[r]]);this.color=d(y)}if(u[this.model])for(c=i[this.model].channels,r=0;r<c;r++){var m=u[this.model][r];m&&(this.color[r]=m(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(t,e,r){return(t=Array.isArray(t)?t:[t]).forEach((function(t){(u[t]||(u[t]=[]))[e]=r})),t=t[0],function(n){var i;return arguments.length?(r&&(n=r(n)),(i=this[t]()).color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function l(t){return function(e){return Math.max(0,Math.min(t,e))}}function f(t){return Array.isArray(t)?t:[t]}function d(t,e){for(var r=0;r<e;r++)"number"!=typeof t[r]&&(t[r]=0);return t}h.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in n.to?this:this.rgb(),r=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return n.to[e.model](r)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),r=1===e.valpha?e.color:e.color.concat(this.valpha);return n.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=i[this.model].channels,r=i[this.model].labels,n=0;n<e;n++)t[r[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new h(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new h(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:c("rgb",0,l(255)),green:c("rgb",1,l(255)),blue:c("rgb",2,l(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(function(t){return(t%360+360)%360})),saturationl:c("hsl",1,l(100)),lightness:c("hsl",2,l(100)),saturationv:c("hsv",1,l(100)),value:c("hsv",2,l(100)),chroma:c("hcg",1,l(100)),gray:c("hcg",2,l(100)),white:c("hwb",1,l(100)),wblack:c("hwb",2,l(100)),cyan:c("cmyk",0,l(100)),magenta:c("cmyk",1,l(100)),yellow:c("cmyk",2,l(100)),black:c("cmyk",3,l(100)),x:c("xyz",0,l(100)),y:c("xyz",1,l(100)),z:c("xyz",2,l(100)),l:c("lab",0,l(100)),a:c("lab",1),b:c("lab",2),keyword:function(t){return arguments.length?new h(t):i[this.model].keyword(this.color)},hex:function(t){return arguments.length?new h(t):n.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],r=0;r<t.length;r++){var n=t[r]/255;e[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return h.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),r=e.color[0];return r=(r=(r+t)%360)<0?360+r:r,e.color[0]=r,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var r=t.rgb(),n=this.rgb(),i=void 0===e?.5:e,o=2*i-1,a=r.alpha()-n.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,u=1-s;return h.rgb(s*r.red()+u*n.red(),s*r.green()+u*n.green(),s*r.blue()+u*n.blue(),r.alpha()*i+n.alpha()*(1-i))}},Object.keys(i).forEach((function(t){if(-1===a.indexOf(t)){var e=i[t].channels;h.prototype[t]=function(){if(this.model===t)return new h(this);if(arguments.length)return new h(arguments,t);var r="number"==typeof arguments[e]?e:this.valpha;return new h(f(i[this.model][t].raw(this.color)).concat(r),t)},h[t]=function(r){return"number"==typeof r&&(r=d(o.call(arguments),e)),new h(r,t)}}})),t.exports=h},92546:(t,e,r)=>{t.exports={graphlib:r(76626),layout:r(47194),debug:r(11303),util:{time:r(53063).time,notime:r(53063).notime},version:r(11897)}},81255:(t,e,r)=>{"use strict";var n=r(72361),i=r(39240);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?i(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],r={},i={};function o(a){n.has(i,a)||(i[a]=!0,r[a]=!0,n.forEach(t.outEdges(a),(function(t){n.has(r,t.w)?e.push(t):o(t.w)})),delete r[a])}return n.forEach(t.nodes(),o),e}(t);n.forEach(e,(function(e){var r=t.edge(e);t.removeEdge(e),r.forwardName=e.name,r.reversed=!0,t.setEdge(e.w,e.v,r,n.uniqueId("rev"))}))},undo:function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}}))}}},60765:(t,e,r)=>{var n=r(72361),i=r(53063);function o(t,e,r,n,o,a){var s={width:0,height:0,rank:a,borderType:e},u=o[e][a-1],h=i.addDummyNode(t,"border",s,r);o[e][a]=h,t.setParent(h,n),u&&t.setEdge(u,h,{weight:1})}t.exports=function(t){n.forEach(t.children(),(function e(r){var i=t.children(r),a=t.node(r);if(i.length&&n.forEach(i,e),n.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,u=a.maxRank+1;s<u;++s)o(t,"borderLeft","_bl",r,a,s),o(t,"borderRight","_br",r,a,s)}}))}},13257:(t,e,r)=>{"use strict";var n=r(72361);function i(t){n.forEach(t.nodes(),(function(e){o(t.node(e))})),n.forEach(t.edges(),(function(e){o(t.edge(e))}))}function o(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function s(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||i(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){n.forEach(t.nodes(),(function(e){a(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.forEach(r.points,a),n.has(r,"y")&&a(r)}))}(t);"lr"!==e&&"rl"!==e||(!function(t){n.forEach(t.nodes(),(function(e){s(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.forEach(r.points,s),n.has(r,"x")&&s(r)}))}(t),i(t))}}},21135:t=>{function e(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function n(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=e,e.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return r(e),e},e.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&r(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},e.prototype.toString=function(){for(var t=[],e=this._sentinel,r=e._prev;r!==e;)t.push(JSON.stringify(r,n)),r=r._prev;return"["+t.join(", ")+"]"}},11303:(t,e,r)=>{var n=r(72361),i=r(53063),o=r(76626).Graph;t.exports={debugOrdering:function(t){var e=i.buildLayerMatrix(t),r=new o({compound:!0,multigraph:!0}).setGraph({});return n.forEach(t.nodes(),(function(e){r.setNode(e,{label:e}),r.setParent(e,"layer"+t.node(e).rank)})),n.forEach(t.edges(),(function(t){r.setEdge(t.v,t.w,{},t.name)})),n.forEach(e,(function(t,e){var i="layer"+e;r.setNode(i,{rank:"same"}),n.reduce(t,(function(t,e){return r.setEdge(t,e,{style:"invis"}),e}))})),r}}},76626:(t,e,r)=>{var n;try{n=r(75172)}catch(t){}n||(n=window.graphlib),t.exports=n},39240:(t,e,r)=>{var n=r(72361),i=r(76626).Graph,o=r(21135);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var r=function(t,e){var r=new i,a=0,s=0;n.forEach(t.nodes(),(function(t){r.setNode(t,{v:t,in:0,out:0})})),n.forEach(t.edges(),(function(t){var n=r.edge(t.v,t.w)||0,i=e(t),o=n+i;r.setEdge(t.v,t.w,o),s=Math.max(s,r.node(t.v).out+=i),a=Math.max(a,r.node(t.w).in+=i)}));var h=n.range(s+a+3).map((function(){return new o})),c=a+1;return n.forEach(r.nodes(),(function(t){u(h,c,r.node(t))})),{graph:r,buckets:h,zeroIdx:c}}(t,e||a),h=function(t,e,r){var n,i=[],o=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;n=a.dequeue();)s(t,e,r,n);for(;n=o.dequeue();)s(t,e,r,n);if(t.nodeCount())for(var u=e.length-2;u>0;--u)if(n=e[u].dequeue()){i=i.concat(s(t,e,r,n,!0));break}}return i}(r.graph,r.buckets,r.zeroIdx);return n.flatten(n.map(h,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=n.constant(1);function s(t,e,r,i,o){var a=o?[]:void 0;return n.forEach(t.inEdges(i.v),(function(n){var i=t.edge(n),s=t.node(n.v);o&&a.push({v:n.v,w:n.w}),s.out-=i,u(e,r,s)})),n.forEach(t.outEdges(i.v),(function(n){var i=t.edge(n),o=n.w,a=t.node(o);a.in-=i,u(e,r,a)})),t.removeNode(i.v),a}function u(t,e,r){r.out?r.in?t[r.out-r.in+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}},47194:(t,e,r)=>{"use strict";var n=r(72361),i=r(81255),o=r(27163),a=r(64505),s=r(53063).normalizeRanks,u=r(71970),h=r(53063).removeEmptyRanks,c=r(31733),l=r(60765),f=r(13257),d=r(62852),p=r(93021),g=r(53063),v=r(76626).Graph;t.exports=function(t,e){var r=e&&e.debugTiming?g.time:g.notime;r("layout",(function(){var e=r("  buildLayoutGraph",(function(){return function(t){var e=new v({multigraph:!0,compound:!0}),r=E(t.graph());return e.setGraph(n.merge({},m,k(r,y),n.pick(r,x))),n.forEach(t.nodes(),(function(r){var i=E(t.node(r));e.setNode(r,n.defaults(k(i,b),w)),e.setParent(r,t.parent(r))})),n.forEach(t.edges(),(function(r){var i=E(t.edge(r));e.setEdge(r,n.merge({},S,k(i,M),n.pick(i,_)))})),e}(t)}));r("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,n.forEach(t.edges(),(function(r){var n=t.edge(r);n.minlen*=2,"c"!==n.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?n.width+=n.labeloffset:n.height+=n.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){n.forEach(t.edges(),(function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){i.run(t)})),e("    nestingGraph.run",(function(){c.run(t)})),e("    rank",(function(){a(g.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),i={rank:(t.node(e.w).rank-n.rank)/2+n.rank,e};g.addDummyNode(t,"edge-proxy",i,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){h(t)})),e("    nestingGraph.cleanup",(function(){c.cleanup(t)})),e("    normalizeRanks",(function(){s(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;n.forEach(t.nodes(),(function(r){var i=t.node(r);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=n.max(e,i.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){n.forEach(t.nodes(),(function(e){var r=t.node(e);"edge-proxy"===r.dummy&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){o.run(t)})),e("    parentDummyChains",(function(){u(t)})),e("    addBorderSegments",(function(){l(t)})),e("    order",(function(){d(t)})),e("    insertSelfEdges",(function(){!function(t){var e=g.buildLayerMatrix(t);n.forEach(e,(function(e){var r=0;n.forEach(e,(function(e,i){var o=t.node(e);o.order=i+r,n.forEach(o.selfEdges,(function(e){g.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:i+ ++r,e:e.e,label:e.label},"_se")})),delete o.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){f.adjust(t)})),e("    position",(function(){p(t)})),e("    positionSelfEdges",(function(){!function(t){n.forEach(t.nodes(),(function(e){var r=t.node(e);if("selfedge"===r.dummy){var n=t.node(r.e.v),i=n.x+n.width/2,o=n.y,a=r.x-i,s=n.height/2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],r.label.x=r.x,r.label.y=r.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){n.forEach(t.nodes(),(function(e){if(t.children(e).length){var r=t.node(e),i=t.node(r.borderTop),o=t.node(r.borderBottom),a=t.node(n.last(r.borderLeft)),s=t.node(n.last(r.borderRight));r.width=Math.abs(s.x-a.x),r.height=Math.abs(o.y-i.y),r.x=a.x+r.width/2,r.y=i.y+r.height/2}})),n.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){o.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(n.has(r,"x"))switch("l"!==r.labelpos&&"r"!==r.labelpos||(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){f.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,r=0,i=Number.POSITIVE_INFINITY,o=0,a=t.graph(),s=a.marginx||0,u=a.marginy||0;function h(t){var n=t.x,a=t.y,s=t.width,u=t.height;e=Math.min(e,n-s/2),r=Math.max(r,n+s/2),i=Math.min(i,a-u/2),o=Math.max(o,a+u/2)}n.forEach(t.nodes(),(function(e){h(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.has(r,"x")&&h(r)})),e-=s,i-=u,n.forEach(t.nodes(),(function(r){var n=t.node(r);n.x-=e,n.y-=i})),n.forEach(t.edges(),(function(r){var o=t.edge(r);n.forEach(o.points,(function(t){t.x-=e,t.y-=i})),n.has(o,"x")&&(o.x-=e),n.has(o,"y")&&(o.y-=i)})),a.width=r-e+s,a.height=o-i+u}(t)})),e("    assignNodeIntersects",(function(){!function(t){n.forEach(t.edges(),(function(e){var r,n,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(r=i.points[0],n=i.points[i.points.length-1]):(i.points=[],r=a,n=o),i.points.unshift(g.intersectRect(o,r)),i.points.push(g.intersectRect(a,n))}))}(t)})),e("    reversePoints",(function(){!function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);r.reversed&&r.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){i.undo(t)}))}(e,r)})),r("  updateInputGraph",(function(){!function(t,e){n.forEach(t.nodes(),(function(r){var n=t.node(r),i=e.node(r);n&&(n.x=i.x,n.y=i.y,e.children(r).length&&(n.width=i.width,n.height=i.height))})),n.forEach(t.edges(),(function(r){var i=t.edge(r),o=e.edge(r);i.points=o.points,n.has(o,"x")&&(i.x=o.x,i.y=o.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var y=["nodesep","edgesep","ranksep","marginx","marginy"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},x=["acyclicer","ranker","rankdir","align"],b=["width","height"],w={width:0,height:0},M=["minlen","weight","width","height","labeloffset"],S={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},_=["labelpos"];function k(t,e){return n.mapValues(n.pick(t,e),Number)}function E(t){var e={};return n.forEach(t,(function(t,r){e[r.toLowerCase()]=t})),e}},72361:(t,e,r)=>{var n;try{n={cloneDeep:r(95108),constant:r(10061),defaults:r(69907),each:r(93056),filter:r(14350),find:r(26658),flatten:r(90219),forEach:r(73008),forIn:r(43834),has:r(32913),isUndefined:r(5123),last:r(44312),map:r(31124),mapValues:r(26041),max:r(26805),merge:r(34233),min:r(88964),minBy:r(36392),now:r(1869),pick:r(15496),range:r(26013),reduce:r(35941),sortBy:r(84914),uniqueId:r(5228),values:r(16090),zipObject:r(8585)}}catch(t){}n||(n=window._),t.exports=n},31733:(t,e,r)=>{var n=r(72361),i=r(53063);function o(t,e,r,a,s,u,h){var c=t.children(h);if(c.length){var l=i.addBorderNode(t,"_bt"),f=i.addBorderNode(t,"_bb"),d=t.node(h);t.setParent(l,h),d.borderTop=l,t.setParent(f,h),d.borderBottom=f,n.forEach(c,(function(n){o(t,e,r,a,s,u,n);var i=t.node(n),c=i.borderTop?i.borderTop:n,d=i.borderBottom?i.borderBottom:n,p=i.borderTop?a:2*a,g=c!==d?1:s-u[h]+1;t.setEdge(l,c,{weight:p,minlen:g,nestingEdge:!0}),t.setEdge(d,f,{weight:p,minlen:g,nestingEdge:!0})})),t.parent(h)||t.setEdge(e,l,{weight:0,minlen:s+u[h]})}else h!==e&&t.setEdge(e,h,{weight:0,minlen:r})}t.exports={run:function(t){var e=i.addDummyNode(t,"root",{},"_root"),r=function(t){var e={};function r(i,o){var a=t.children(i);a&&a.length&&n.forEach(a,(function(t){r(t,o+1)})),e[i]=o}return n.forEach(t.children(),(function(t){r(t,1)})),e}(t),a=n.max(n.values(r))-1,s=2*a+1;t.graph().nestingRoot=e,n.forEach(t.edges(),(function(e){t.edge(e).minlen*=s}));var u=function(t){return n.reduce(t.edges(),(function(e,r){return e+t.edge(r).weight}),0)}(t)+1;n.forEach(t.children(),(function(n){o(t,e,s,u,a,r,n)})),t.graph().nodeRankFactor=s},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,n.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},27163:(t,e,r)=>{"use strict";var n=r(72361),i=r(53063);t.exports={run:function(t){t.graph().dummyChains=[],n.forEach(t.edges(),(function(e){!function(t,e){var r,n,o,a=e.v,s=t.node(a).rank,u=e.w,h=t.node(u).rank,c=e.name,l=t.edge(e),f=l.labelRank;if(h===s+1)return;for(t.removeEdge(e),o=0,++s;s<h;++o,++s)l.points=[],n={width:0,height:0,edgeLabel:l,edgeObj:e,rank:s},r=i.addDummyNode(t,"edge",n,"_d"),s===f&&(n.width=l.width,n.height=l.height,n.dummy="edge-label",n.labelpos=l.labelpos),t.setEdge(a,r,{weight:l.weight},c),0===o&&t.graph().dummyChains.push(r),a=r;t.setEdge(a,u,{weight:l.weight},c)}(t,e)}))},undo:function(t){n.forEach(t.graph().dummyChains,(function(e){var r,n=t.node(e),i=n.edgeLabel;for(t.setEdge(n.edgeObj,i);n.dummy;)r=t.successors(e)[0],t.removeNode(e),i.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height),e=r,n=t.node(e)}))}}},52205:(t,e,r)=>{var n=r(72361);t.exports=function(t,e,r){var i,o={};n.forEach(r,(function(r){for(var n,a,s=t.parent(r);s;){if((n=t.parent(s))?(a=o[n],o[n]=s):(a=i,i=s),a&&a!==s)return void e.setEdge(a,s);s=n}}))}},99506:(t,e,r)=>{var n=r(72361);t.exports=function(t,e){return n.map(e,(function(e){var r=t.inEdges(e);if(r.length){var i=n.reduce(r,(function(e,r){var n=t.edge(r),i=t.node(r.v);return{sum:e.sum+n.weight*i.order,weight:e.weight+n.weight}}),{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}return{v:e}}))}},59105:(t,e,r)=>{var n=r(72361),i=r(76626).Graph;t.exports=function(t,e,r){var o=function(t){var e;for(;t.hasNode(e=n.uniqueId("_root")););return e}(t),a=new i({compound:!0}).setGraph({root:o}).setDefaultNodeLabel((function(e){return t.node(e)}));return n.forEach(t.nodes(),(function(i){var s=t.node(i),u=t.parent(i);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(a.setNode(i),a.setParent(i,u||o),n.forEach(t[r](i),(function(e){var r=e.v===i?e.w:e.v,o=a.edge(r,i),s=n.isUndefined(o)?0:o.weight;a.setEdge(r,i,{weight:t.edge(e).weight+s})})),n.has(s,"minRank")&&a.setNode(i,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))})),a}},45456:(t,e,r)=>{"use strict";var n=r(72361);function i(t,e,r){for(var i=n.zipObject(r,n.map(r,(function(t,e){return e}))),o=n.flatten(n.map(e,(function(e){return n.sortBy(n.map(t.outEdges(e),(function(e){return{pos:i[e.w],weight:t.edge(e).weight}})),"pos")})),!0),a=1;a<r.length;)a<<=1;var s=2*a-1;a-=1;var u=n.map(new Array(s),(function(){return 0})),h=0;return n.forEach(o.forEach((function(t){var e=t.pos+a;u[e]+=t.weight;for(var r=0;e>0;)e%2&&(r+=u[e+1]),u[e=e-1>>1]+=t.weight;h+=t.weight*r}))),h}t.exports=function(t,e){for(var r=0,n=1;n<e.length;++n)r+=i(t,e[n-1],e[n]);return r}},62852:(t,e,r)=>{"use strict";var n=r(72361),i=r(18043),o=r(45456),a=r(86490),s=r(59105),u=r(52205),h=r(76626).Graph,c=r(53063);function l(t,e,r){return n.map(e,(function(e){return s(t,e,r)}))}function f(t,e){var r=new h;n.forEach(t,(function(t){var i=t.graph().root,o=a(t,i,r,e);n.forEach(o.vs,(function(e,r){t.node(e).order=r})),u(t,r,o.vs)}))}function d(t,e){n.forEach(e,(function(e){n.forEach(e,(function(e,r){t.node(e).order=r}))}))}t.exports=function(t){var e=c.maxRank(t),r=l(t,n.range(1,e+1),"inEdges"),a=l(t,n.range(e-1,-1,-1),"outEdges"),s=i(t);d(t,s);for(var u,h=Number.POSITIVE_INFINITY,p=0,g=0;g<4;++p,++g){f(p%2?r:a,p%4>=2),s=c.buildLayerMatrix(t);var v=o(t,s);v<h&&(g=0,u=n.cloneDeep(s),h=v)}d(t,u)}},18043:(t,e,r)=>{"use strict";var n=r(72361);t.exports=function(t){var e={},r=n.filter(t.nodes(),(function(e){return!t.children(e).length})),i=n.max(n.map(r,(function(e){return t.node(e).rank}))),o=n.map(n.range(i+1),(function(){return[]}));var a=n.sortBy(r,(function(e){return t.node(e).rank}));return n.forEach(a,(function r(i){if(n.has(e,i))return;e[i]=!0;var a=t.node(i);o[a.rank].push(i),n.forEach(t.successors(i),r)})),o}},45926:(t,e,r)=>{"use strict";var n=r(72361);t.exports=function(t,e){var r={};return n.forEach(t,(function(t,e){var i=r[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};n.isUndefined(t.barycenter)||(i.barycenter=t.barycenter,i.weight=t.weight)})),n.forEach(e.edges(),(function(t){var e=r[t.v],i=r[t.w];n.isUndefined(e)||n.isUndefined(i)||(i.indegree++,e.out.push(r[t.w]))})),function(t){var e=[];function r(t){return function(e){e.merged||(n.isUndefined(e.barycenter)||n.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var r=0,n=0;t.weight&&(r+=t.barycenter*t.weight,n+=t.weight);e.weight&&(r+=e.barycenter*e.weight,n+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=r/n,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function i(e){return function(r){r.in.push(e),0==--r.indegree&&t.push(r)}}for(;t.length;){var o=t.pop();e.push(o),n.forEach(o.in.reverse(),r(o)),n.forEach(o.out,i(o))}return n.map(n.filter(e,(function(t){return!t.merged})),(function(t){return n.pick(t,["vs","i","barycenter","weight"])}))}(n.filter(r,(function(t){return!t.indegree})))}},86490:(t,e,r)=>{var n=r(72361),i=r(99506),o=r(45926),a=r(1349);t.exports=function t(e,r,s,u){var h=e.children(r),c=e.node(r),l=c?c.borderLeft:void 0,f=c?c.borderRight:void 0,d={};l&&(h=n.filter(h,(function(t){return t!==l&&t!==f})));var p=i(e,h);n.forEach(p,(function(r){if(e.children(r.v).length){var i=t(e,r.v,s,u);d[r.v]=i,n.has(i,"barycenter")&&(o=r,a=i,n.isUndefined(o.barycenter)?(o.barycenter=a.barycenter,o.weight=a.weight):(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight))}var o,a}));var g=o(p,s);!function(t,e){n.forEach(t,(function(t){t.vs=n.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(g,d);var v=a(g,u);if(l&&(v.vs=n.flatten([l,v.vs,f],!0),e.predecessors(l).length)){var y=e.node(e.predecessors(l)[0]),m=e.node(e.predecessors(f)[0]);n.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+y.order+m.order)/(v.weight+2),v.weight+=2}return v}},1349:(t,e,r)=>{var n=r(72361),i=r(53063);function o(t,e,r){for(var i;e.length&&(i=n.last(e)).i<=r;)e.pop(),t.push(i.vs),r++;return r}t.exports=function(t,e){var r=i.partition(t,(function(t){return n.has(t,"barycenter")})),a=r.lhs,s=n.sortBy(r.rhs,(function(t){return-t.i})),u=[],h=0,c=0,l=0;a.sort((f=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:f?e.i-t.i:t.i-e.i})),l=o(u,s,l),n.forEach(a,(function(t){l+=t.vs.length,u.push(t.vs),h+=t.barycenter*t.weight,c+=t.weight,l=o(u,s,l)}));var f;var d={vs:n.flatten(u,!0)};c&&(d.barycenter=h/c,d.weight=c);return d}},71970:(t,e,r)=>{var n=r(72361);t.exports=function(t){var e=function(t){var e={},r=0;function i(o){var a=r;n.forEach(t.children(o),i),e[o]={low:a,lim:r++}}return n.forEach(t.children(),i),e}(t);n.forEach(t.graph().dummyChains,(function(r){for(var n=t.node(r),i=n.edgeObj,o=function(t,e,r,n){var i,o,a=[],s=[],u=Math.min(e[r].low,e[n].low),h=Math.max(e[r].lim,e[n].lim);i=r;do{i=t.parent(i),a.push(i)}while(i&&(e[i].low>u||h>e[i].lim));o=i,i=n;for(;(i=t.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(t,e,i.v,i.w),a=o.path,s=o.lca,u=0,h=a[u],c=!0;r!==i.w;){if(n=t.node(r),c){for(;(h=a[u])!==s&&t.node(h).maxRank<n.rank;)u++;h===s&&(c=!1)}if(!c){for(;u<a.length-1&&t.node(h=a[u+1]).minRank<=n.rank;)u++;h=a[u]}t.setParent(r,h),r=t.successors(r)[0]}}))}},92080:(t,e,r)=>{"use strict";var n=r(72361),i=r(76626).Graph,o=r(53063);function a(t,e){var r={};return n.reduce(e,(function(e,i){var o=0,a=0,s=e.length,h=n.last(i);return n.forEach(i,(function(e,c){var l=function(t,e){if(t.node(e).dummy)return n.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),f=l?t.node(l).order:s;(l||e===h)&&(n.forEach(i.slice(a,c+1),(function(e){n.forEach(t.predecessors(e),(function(n){var i=t.node(n),a=i.order;!(a<o||f<a)||i.dummy&&t.node(e).dummy||u(r,n,e)}))})),a=c+1,o=f)})),i})),r}function s(t,e){var r={};function i(e,i,o,a,s){var h;n.forEach(n.range(i,o),(function(i){h=e[i],t.node(h).dummy&&n.forEach(t.predecessors(h),(function(e){var n=t.node(e);n.dummy&&(n.order<a||n.order>s)&&u(r,e,h)}))}))}return n.reduce(e,(function(e,r){var o,a=-1,s=0;return n.forEach(r,(function(n,u){if("border"===t.node(n).dummy){var h=t.predecessors(n);h.length&&(o=t.node(h[0]).order,i(r,s,u,a,o),s=u,a=o)}i(r,s,r.length,o,e.length)})),r})),r}function u(t,e,r){if(e>r){var n=e;e=r,r=n}var i=t[e];i||(t[e]=i={}),i[r]=!0}function h(t,e,r){if(e>r){var i=e;e=r,r=i}return n.has(t[e],r)}function c(t,e,r,i){var o={},a={},s={};return n.forEach(e,(function(t){n.forEach(t,(function(t,e){o[t]=t,a[t]=t,s[t]=e}))})),n.forEach(e,(function(t){var e=-1;n.forEach(t,(function(t){var u=i(t);if(u.length)for(var c=((u=n.sortBy(u,(function(t){return s[t]}))).length-1)/2,l=Math.floor(c),f=Math.ceil(c);l<=f;++l){var d=u[l];a[t]===t&&e<s[d]&&!h(r,t,d)&&(a[d]=t,a[t]=o[t]=o[d],e=s[d])}}))})),{root:o,align:a}}function l(t,e,r,o,a){var s={},u=function(t,e,r,o){var a=new i,s=t.graph(),u=function(t,e,r){return function(i,o,a){var s,u=i.node(o),h=i.node(a),c=0;if(c+=u.width/2,n.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":s=-u.width/2;break;case"r":s=u.width/2}if(s&&(c+=r?s:-s),s=0,c+=(u.dummy?e:t)/2,c+=(h.dummy?e:t)/2,c+=h.width/2,n.has(h,"labelpos"))switch(h.labelpos.toLowerCase()){case"l":s=h.width/2;break;case"r":s=-h.width/2}return s&&(c+=r?s:-s),s=0,c}}(s.nodesep,s.edgesep,o);return n.forEach(e,(function(e){var i;n.forEach(e,(function(e){var n=r[e];if(a.setNode(n),i){var o=r[i],s=a.edge(o,n);a.setEdge(o,n,Math.max(u(t,e,i),s||0))}i=e}))})),a}(t,e,r,a),h=a?"borderLeft":"borderRight";function c(t,e){for(var r=u.nodes(),n=r.pop(),i={};n;)i[n]?t(n):(i[n]=!0,r.push(n),r=r.concat(e(n))),n=r.pop()}return c((function(t){s[t]=u.inEdges(t).reduce((function(t,e){return Math.max(t,s[e.v]+u.edge(e))}),0)}),u.predecessors.bind(u)),c((function(e){var r=u.outEdges(e).reduce((function(t,e){return Math.min(t,s[e.w]-u.edge(e))}),Number.POSITIVE_INFINITY),n=t.node(e);r!==Number.POSITIVE_INFINITY&&n.borderType!==h&&(s[e]=Math.max(s[e],r))}),u.successors.bind(u)),n.forEach(o,(function(t){s[t]=s[r[t]]})),s}function f(t,e){return n.minBy(n.values(e),(function(e){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return n.forIn(e,(function(e,n){var o=function(t,e){return t.node(e).width}(t,n)/2;r=Math.max(e+o,r),i=Math.min(e-o,i)})),r-i}))}function d(t,e){var r=n.values(e),i=n.min(r),o=n.max(r);n.forEach(["u","d"],(function(r){n.forEach(["l","r"],(function(a){var s,u=r+a,h=t[u];if(h!==e){var c=n.values(h);(s="l"===a?i-n.min(c):o-n.max(c))&&(t[u]=n.mapValues(h,(function(t){return t+s})))}}))}))}function p(t,e){return n.mapValues(t.ul,(function(r,i){if(e)return t[e.toLowerCase()][i];var o=n.sortBy(n.map(t,i));return(o[1]+o[2])/2}))}t.exports={positionX:function(t){var e,r=o.buildLayerMatrix(t),i=n.merge(a(t,r),s(t,r)),u={};n.forEach(["u","d"],(function(o){e="u"===o?r:n.values(r).reverse(),n.forEach(["l","r"],(function(r){"r"===r&&(e=n.map(e,(function(t){return n.values(t).reverse()})));var a=("u"===o?t.predecessors:t.successors).bind(t),s=c(t,e,i,a),h=l(t,e,s.root,s.align,"r"===r);"r"===r&&(h=n.mapValues(h,(function(t){return-t}))),u[o+r]=h}))}));var h=f(t,u);return d(u,h),p(u,t.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:u,hasConflict:h,verticalAlignment:c,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:f,balance:p}},93021:(t,e,r)=>{"use strict";var n=r(72361),i=r(53063),o=r(92080).positionX;t.exports=function(t){(function(t){var e=i.buildLayerMatrix(t),r=t.graph().ranksep,o=0;n.forEach(e,(function(e){var i=n.max(n.map(e,(function(e){return t.node(e).height})));n.forEach(e,(function(e){t.node(e).y=o+i/2})),o+=i+r}))})(t=i.asNonCompoundGraph(t)),n.forEach(o(t),(function(e,r){t.node(r).x=e}))}},61031:(t,e,r)=>{"use strict";var n=r(72361),i=r(76626).Graph,o=r(2416).slack;function a(t,e){return n.forEach(t.nodes(),(function r(i){n.forEach(e.nodeEdges(i),(function(n){var a=n.v,s=i===a?n.w:a;t.hasNode(s)||o(e,n)||(t.setNode(s,{}),t.setEdge(i,s,{}),r(s))}))})),t.nodeCount()}function s(t,e){return n.minBy(e.edges(),(function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return o(e,r)}))}function u(t,e,r){n.forEach(t.nodes(),(function(t){e.node(t).rank+=r}))}t.exports=function(t){var e,r,n=new i({directed:!1}),h=t.nodes()[0],c=t.nodeCount();n.setNode(h,{});for(;a(n,t)<c;)e=s(n,t),r=n.hasNode(e.v)?o(t,e):-o(t,e),u(n,t,r);return n}},64505:(t,e,r)=>{"use strict";var n=r(2416).longestPath,i=r(61031),o=r(77076);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":s(t);break;case"tight-tree":!function(t){n(t),i(t)}(t);break;case"longest-path":a(t);break;default:s(t)}};var a=n;function s(t){o(t)}},77076:(t,e,r)=>{"use strict";var n=r(72361),i=r(61031),o=r(2416).slack,a=r(2416).longestPath,s=r(76626).alg.preorder,u=r(76626).alg.postorder,h=r(53063).simplify;function c(t){t=h(t),a(t);var e,r=i(t);for(d(r),l(r,t);e=g(r);)y(r,t,e,v(r,t,e))}function l(t,e){var r=u(t,t.nodes());r=r.slice(0,r.length-1),n.forEach(r,(function(r){!function(t,e,r){var n=t.node(r).parent;t.edge(r,n).cutvalue=f(t,e,r)}(t,e,r)}))}function f(t,e,r){var i=t.node(r).parent,o=!0,a=e.edge(r,i),s=0;return a||(o=!1,a=e.edge(i,r)),s=a.weight,n.forEach(e.nodeEdges(r),(function(n){var a,u,h=n.v===r,c=h?n.w:n.v;if(c!==i){var l=h===o,f=e.edge(n).weight;if(s+=l?f:-f,a=r,u=c,t.hasEdge(a,u)){var d=t.edge(r,c).cutvalue;s+=l?-d:d}}})),s}function d(t,e){arguments.length<2&&(e=t.nodes()[0]),p(t,{},1,e)}function p(t,e,r,i,o){var a=r,s=t.node(i);return e[i]=!0,n.forEach(t.neighbors(i),(function(o){n.has(e,o)||(r=p(t,e,r,o,i))})),s.low=a,s.lim=r++,o?s.parent=o:delete s.parent,r}function g(t){return n.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function v(t,e,r){var i=r.v,a=r.w;e.hasEdge(i,a)||(i=r.w,a=r.v);var s=t.node(i),u=t.node(a),h=s,c=!1;s.lim>u.lim&&(h=u,c=!0);var l=n.filter(e.edges(),(function(e){return c===m(t,t.node(e.v),h)&&c!==m(t,t.node(e.w),h)}));return n.minBy(l,(function(t){return o(e,t)}))}function y(t,e,r,i){var o=r.v,a=r.w;t.removeEdge(o,a),t.setEdge(i.v,i.w,{}),d(t),l(t,e),function(t,e){var r=n.find(t.nodes(),(function(t){return!e.node(t).parent})),i=s(t,r);i=i.slice(1),n.forEach(i,(function(r){var n=t.node(r).parent,i=e.edge(r,n),o=!1;i||(i=e.edge(n,r),o=!0),e.node(r).rank=e.node(n).rank+(o?i.minlen:-i.minlen)}))}(t,e)}function m(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}t.exports=c,c.initLowLimValues=d,c.initCutValues=l,c.calcCutValue=f,c.leaveEdge=g,c.enterEdge=v,c.exchangeEdges=y},2416:(t,e,r)=>{"use strict";var n=r(72361);t.exports={longestPath:function(t){var e={};n.forEach(t.sources(),(function r(i){var o=t.node(i);if(n.has(e,i))return o.rank;e[i]=!0;var a=n.min(n.map(t.outEdges(i),(function(e){return r(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),o.rank=a}))},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},53063:(t,e,r)=>{"use strict";var n=r(72361),i=r(76626).Graph;function o(t,e,r,i){var o;do{o=n.uniqueId(i)}while(t.hasNode(o));return r.dummy=e,t.setNode(o,r),o}function a(t){return n.max(n.map(t.nodes(),(function(e){var r=t.node(e).rank;if(!n.isUndefined(r))return r})))}t.exports={addDummyNode:o,simplify:function(t){var e=(new i).setGraph(t.graph());return n.forEach(t.nodes(),(function(r){e.setNode(r,t.node(r))})),n.forEach(t.edges(),(function(r){var n=e.edge(r.v,r.w)||{weight:0,minlen:1},i=t.edge(r);e.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})})),e},asNonCompoundGraph:function(t){var e=new i({multigraph:t.isMultigraph()}).setGraph(t.graph());return n.forEach(t.nodes(),(function(r){t.children(r).length||e.setNode(r,t.node(r))})),n.forEach(t.edges(),(function(r){e.setEdge(r,t.edge(r))})),e},successorWeights:function(t){var e=n.map(t.nodes(),(function(e){var r={};return n.forEach(t.outEdges(e),(function(e){r[e.w]=(r[e.w]||0)+t.edge(e).weight})),r}));return n.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=n.map(t.nodes(),(function(e){var r={};return n.forEach(t.inEdges(e),(function(e){r[e.v]=(r[e.v]||0)+t.edge(e).weight})),r}));return n.zipObject(t.nodes(),e)},intersectRect:function(t,e){var r,n,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=t.width/2,h=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*u>Math.abs(a)*h?(s<0&&(h=-h),r=h*a/s,n=h):(a<0&&(u=-u),r=u,n=u*s/a);return{x:i+r,y:o+n}},buildLayerMatrix:function(t){var e=n.map(n.range(a(t)+1),(function(){return[]}));return n.forEach(t.nodes(),(function(r){var i=t.node(r),o=i.rank;n.isUndefined(o)||(e[o][i.order]=r)})),e},normalizeRanks:function(t){var e=n.min(n.map(t.nodes(),(function(e){return t.node(e).rank})));n.forEach(t.nodes(),(function(r){var i=t.node(r);n.has(i,"rank")&&(i.rank-=e)}))},removeEmptyRanks:function(t){var e=n.min(n.map(t.nodes(),(function(e){return t.node(e).rank}))),r=[];n.forEach(t.nodes(),(function(n){var i=t.node(n).rank-e;r[i]||(r[i]=[]),r[i].push(n)}));var i=0,o=t.graph().nodeRankFactor;n.forEach(r,(function(e,r){n.isUndefined(e)&&r%o!=0?--i:i&&n.forEach(e,(function(e){t.node(e).rank+=i}))}))},addBorderNode:function(t,e,r,n){var i={width:0,height:0};arguments.length>=4&&(i.rank=r,i.order=n);return o(t,"border",i,e)},maxRank:a,partition:function(t,e){var r={lhs:[],rhs:[]};return n.forEach(t,(function(t){e(t)?r.lhs.push(t):r.rhs.push(t)})),r},time:function(t,e){var r=n.now();try{return e()}finally{console.log(t+" time: "+(n.now()-r)+"ms")}},notime:function(t,e){return e()}}},11897:t=>{t.exports="0.8.5"},23752:(t,e,r)=>{"use strict";r.r(e),r.d(e,{BrowserInfo:()=>i,NodeInfo:()=>o,SearchBotDeviceInfo:()=>a,BotInfo:()=>s,ReactNativeInfo:()=>u,detect:()=>f,browserName:()=>p,parseUserAgent:()=>g,detectOS:()=>v,getNodeVersion:()=>y});var n=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n},i=function(t,e,r){this.name=t,this.version=e,this.os=r,this.type="browser"},o=function(t){this.version=t,this.type="node",this.name="node",this.os=process.platform},a=function(t,e,r,n){this.name=t,this.version=e,this.os=r,this.bot=n,this.type="bot-device"},s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},u=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},h=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,c=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],l=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(t){return t?g(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new u:"undefined"!=typeof navigator?g(navigator.userAgent):y()}function d(t){return""!==t&&c.reduce((function(e,r){var n=r[0],i=r[1];if(e)return e;var o=i.exec(t);return!!o&&[n,o]}),!1)}function p(t){var e=d(t);return e?e[0]:null}function g(t){var e=d(t);if(!e)return null;var r=e[0],o=e[1];if("searchbot"===r)return new s;var u=o[1]&&o[1].split(/[._]/).slice(0,3);u?u.length<3&&(u=n(u,function(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}(3-u.length))):u=[];var c=u.join("."),l=v(t),f=h.exec(t);return f&&f[1]?new a(r,c,l,f[1]):new i(r,c,l)}function v(t){for(var e=0,r=l.length;e<r;e++){var n=l[e],i=n[0];if(n[1].exec(t))return i}return null}function y(){return"undefined"!=typeof process&&process.version?new o(process.version.slice(1)):null}},32933:(t,e,r)=>{"use strict";r.d(e,{Ib:()=>n,WT:()=>i,FD:()=>o});var n=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},31300:(t,e,r)=>{"use strict";r.r(e),r.d(e,{create:()=>i,fromMat4:()=>o,clone:()=>a,copy:()=>s,fromValues:()=>u,set:()=>h,identity:()=>c,transpose:()=>l,invert:()=>f,adjoint:()=>d,determinant:()=>p,multiply:()=>g,translate:()=>v,rotate:()=>y,scale:()=>m,fromTranslation:()=>x,fromRotation:()=>b,fromScaling:()=>w,fromMat2d:()=>M,fromQuat:()=>S,normalFromMat4:()=>_,projection:()=>k,str:()=>E,frob:()=>C,add:()=>P,subtract:()=>A,multiplyScalar:()=>I,multiplyScalarAndAdd:()=>O,exactEquals:()=>T,equals:()=>N,mul:()=>D,sub:()=>B});var n=r(32933);function i(){var t=new n.WT(9);return n.WT!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function a(t){var e=new n.WT(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function u(t,e,r,i,o,a,s,u,h){var c=new n.WT(9);return c[0]=t,c[1]=e,c[2]=r,c[3]=i,c[4]=o,c[5]=a,c[6]=s,c[7]=u,c[8]=h,c}function h(t,e,r,n,i,o,a,s,u,h){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=h,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function l(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function f(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],h=e[7],c=e[8],l=c*a-s*h,f=-c*o+s*u,d=h*o-a*u,p=r*l+n*f+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-c*n+i*h)*p,t[2]=(s*n-i*a)*p,t[3]=f*p,t[4]=(c*r-i*u)*p,t[5]=(-s*r+i*o)*p,t[6]=d*p,t[7]=(-h*r+n*u)*p,t[8]=(a*r-n*o)*p,t):null}function d(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],h=e[7],c=e[8];return t[0]=a*c-s*h,t[1]=i*h-n*c,t[2]=n*s-i*a,t[3]=s*u-o*c,t[4]=r*c-i*u,t[5]=i*o-r*s,t[6]=o*h-a*u,t[7]=n*u-r*h,t[8]=r*a-n*o,t}function p(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],h=t[8];return e*(h*o-a*u)+r*(-h*i+a*s)+n*(u*i-o*s)}function g(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=r[0],d=r[1],p=r[2],g=r[3],v=r[4],y=r[5],m=r[6],x=r[7],b=r[8];return t[0]=f*n+d*a+p*h,t[1]=f*i+d*s+p*c,t[2]=f*o+d*u+p*l,t[3]=g*n+v*a+y*h,t[4]=g*i+v*s+y*c,t[5]=g*o+v*u+y*l,t[6]=m*n+x*a+b*h,t[7]=m*i+x*s+b*c,t[8]=m*o+x*u+b*l,t}function v(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*n+d*a+h,t[7]=f*i+d*s+c,t[8]=f*o+d*u+l,t}function y(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=Math.sin(r),d=Math.cos(r);return t[0]=d*n+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*n,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=h,t[7]=c,t[8]=l,t}function m(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function x(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function b(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function w(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function M(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function S(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r+r,s=n+n,u=i+i,h=r*a,c=n*a,l=n*s,f=i*a,d=i*s,p=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-l-p,t[3]=c-y,t[6]=f+v,t[1]=c+y,t[4]=1-h-p,t[7]=d-g,t[2]=f-v,t[5]=d+g,t[8]=1-h-l,t}function _(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=r*s-n*a,x=r*u-i*a,b=r*h-o*a,w=n*u-i*s,M=n*h-o*s,S=i*h-o*u,_=c*g-l*p,k=c*v-f*p,E=c*y-d*p,C=l*v-f*g,P=l*y-d*g,A=f*y-d*v,I=m*A-x*P+b*C+w*E-M*k+S*_;return I?(I=1/I,t[0]=(s*A-u*P+h*C)*I,t[1]=(u*E-a*A-h*k)*I,t[2]=(a*P-s*E+h*_)*I,t[3]=(i*P-n*A-o*C)*I,t[4]=(r*A-i*E+o*k)*I,t[5]=(n*E-r*P-o*_)*I,t[6]=(g*S-v*M+y*w)*I,t[7]=(v*b-p*S-y*x)*I,t[8]=(p*M-g*b+y*m)*I,t):null}function k(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function E(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function C(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function P(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function A(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function I(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function O(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function T(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function N(t,e){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],h=t[6],c=t[7],l=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],y=e[5],m=e[6],x=e[7],b=e[8];return Math.abs(r-f)<=n.Ib*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=n.Ib*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=n.Ib*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=n.Ib*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=n.Ib*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=n.Ib*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(h-m)<=n.Ib*Math.max(1,Math.abs(h),Math.abs(m))&&Math.abs(c-x)<=n.Ib*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(l-b)<=n.Ib*Math.max(1,Math.abs(l),Math.abs(b))}var D=g,B=A},10714:(t,e,r)=>{"use strict";r.r(e),r.d(e,{create:()=>i,clone:()=>o,fromValues:()=>a,copy:()=>s,set:()=>u,add:()=>h,subtract:()=>c,multiply:()=>l,divide:()=>f,ceil:()=>d,floor:()=>p,min:()=>g,max:()=>v,round:()=>y,scale:()=>m,scaleAndAdd:()=>x,distance:()=>b,squaredDistance:()=>w,length:()=>M,squaredLength:()=>S,negate:()=>_,inverse:()=>k,normalize:()=>E,dot:()=>C,cross:()=>P,lerp:()=>A,random:()=>I,transformMat2:()=>O,transformMat2d:()=>T,transformMat3:()=>N,transformMat4:()=>D,rotate:()=>B,angle:()=>j,zero:()=>R,str:()=>L,exactEquals:()=>z,equals:()=>F,len:()=>G,sub:()=>X,mul:()=>V,div:()=>H,dist:()=>q,sqrDist:()=>W,sqrLen:()=>U,forEach:()=>Z});var n=r(32933);function i(){var t=new n.WT(2);return n.WT!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var e=new n.WT(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e){var r=new n.WT(2);return r[0]=t,r[1]=e,r}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function u(t,e,r){return t[0]=e,t[1]=r,t}function h(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function c(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function l(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function f(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function g(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function v(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function m(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function x(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function b(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.hypot(r,n)}function w(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function M(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function S(t){var e=t[0],r=t[1];return e*e+r*r}function _(t,e){return t[0]=-e[0],t[1]=-e[1],t}function k(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function E(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function C(t,e){return t[0]*e[0]+t[1]*e[1]}function P(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function A(t,e,r,n){var i=e[0],o=e[1];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t}function I(t,e){e=e||1;var r=2*n.FD()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function O(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t}function T(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function N(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function D(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}function B(t,e,r,n){var i=e[0]-r[0],o=e[1]-r[1],a=Math.sin(n),s=Math.cos(n);return t[0]=i*s-o*a+r[0],t[1]=i*a+o*s+r[1],t}function j(t,e){var r=t[0],n=t[1],i=e[0],o=e[1],a=Math.sqrt(r*r+n*n)*Math.sqrt(i*i+o*o),s=a&&(r*i+n*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function R(t){return t[0]=0,t[1]=0,t}function L(t){return"vec2("+t[0]+", "+t[1]+")"}function z(t,e){return t[0]===e[0]&&t[1]===e[1]}function F(t,e){var r=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(r-o)<=n.Ib*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-a)<=n.Ib*Math.max(1,Math.abs(i),Math.abs(a))}var Y,G=M,X=c,V=l,H=f,q=b,W=w,U=S,Z=(Y=i(),function(t,e,r,n,i,o){var a,s;for(e||(e=2),r||(r=0),s=n?Math.min(n*e+r,t.length):t.length,a=r;a<s;a+=e)Y[0]=t[a],Y[1]=t[a+1],i(Y,Y,o),t[a]=Y[0],t[a+1]=Y[1];return t})},21706:(t,e,r)=>{"use strict";r.r(e),r.d(e,{create:()=>i,clone:()=>o,length:()=>a,fromValues:()=>s,copy:()=>u,set:()=>h,add:()=>c,subtract:()=>l,multiply:()=>f,divide:()=>d,ceil:()=>p,floor:()=>g,min:()=>v,max:()=>y,round:()=>m,scale:()=>x,scaleAndAdd:()=>b,distance:()=>w,squaredDistance:()=>M,squaredLength:()=>S,negate:()=>_,inverse:()=>k,normalize:()=>E,dot:()=>C,cross:()=>P,lerp:()=>A,hermite:()=>I,bezier:()=>O,random:()=>T,transformMat4:()=>N,transformMat3:()=>D,transformQuat:()=>B,rotateX:()=>j,rotateY:()=>R,rotateZ:()=>L,angle:()=>z,zero:()=>F,str:()=>Y,exactEquals:()=>G,equals:()=>X,sub:()=>H,mul:()=>q,div:()=>W,dist:()=>U,sqrDist:()=>Z,len:()=>K,sqrLen:()=>$,forEach:()=>Q});var n=r(32933);function i(){var t=new n.WT(3);return n.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=new n.WT(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function s(t,e,r){var i=new n.WT(3);return i[0]=t,i[1]=e,i[2]=r,i}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function h(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function c(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function l(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function f(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function d(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function p(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function g(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function v(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function y(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function m(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function x(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function b(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function w(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.hypot(r,n,i)}function M(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function S(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function _(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function k(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function E(t,e){var r=e[0],n=e[1],i=e[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function C(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function P(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2];return t[0]=i*u-o*s,t[1]=o*a-n*u,t[2]=n*s-i*a,t}function A(t,e,r,n){var i=e[0],o=e[1],a=e[2];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t[2]=a+n*(r[2]-a),t}function I(t,e,r,n,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,h=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+r[0]*u+n[0]*h+i[0]*c,t[1]=e[1]*s+r[1]*u+n[1]*h+i[1]*c,t[2]=e[2]*s+r[2]*u+n[2]*h+i[2]*c,t}function O(t,e,r,n,i,o){var a=1-o,s=a*a,u=o*o,h=s*a,c=3*o*s,l=3*u*a,f=u*o;return t[0]=e[0]*h+r[0]*c+n[0]*l+i[0]*f,t[1]=e[1]*h+r[1]*c+n[1]*l+i[1]*f,t[2]=e[2]*h+r[2]*c+n[2]*l+i[2]*f,t}function T(t,e){e=e||1;var r=2*n.FD()*Math.PI,i=2*n.FD()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(r)*o,t[1]=Math.sin(r)*o,t[2]=i*e,t}function N(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,t[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,t[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,t}function D(t,e,r){var n=e[0],i=e[1],o=e[2];return t[0]=n*r[0]+i*r[3]+o*r[6],t[1]=n*r[1]+i*r[4]+o*r[7],t[2]=n*r[2]+i*r[5]+o*r[8],t}function B(t,e,r){var n=r[0],i=r[1],o=r[2],a=r[3],s=e[0],u=e[1],h=e[2],c=i*h-o*u,l=o*s-n*h,f=n*u-i*s,d=i*f-o*l,p=o*c-n*f,g=n*l-i*c,v=2*a;return c*=v,l*=v,f*=v,d*=2,p*=2,g*=2,t[0]=s+c+d,t[1]=u+l+p,t[2]=h+f+g,t}function j(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function R(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function L(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function z(t,e){var r=t[0],n=t[1],i=t[2],o=e[0],a=e[1],s=e[2],u=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(o*o+a*a+s*s),h=u&&C(t,e)/u;return Math.acos(Math.min(Math.max(h,-1),1))}function F(t){return t[0]=0,t[1]=0,t[2]=0,t}function Y(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function G(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function X(t,e){var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(r-a)<=n.Ib*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=n.Ib*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)<=n.Ib*Math.max(1,Math.abs(o),Math.abs(u))}var V,H=l,q=f,W=d,U=w,Z=M,K=a,$=S,Q=(V=i(),function(t,e,r,n,i,o){var a,s;for(e||(e=3),r||(r=0),s=n?Math.min(n*e+r,t.length):t.length,a=r;a<s;a+=e)V[0]=t[a],V[1]=t[a+1],V[2]=t[a+2],i(V,V,o),t[a]=V[0],t[a+1]=V[1],t[a+2]=V[2];return t})},75172:(t,e,r)=>{var n=r(89224);t.exports={Graph:n.Graph,json:r(17401),alg:r(54613),version:n.version}},91606:(t,e,r)=>{var n=r(95329);t.exports=function(t){var e,r={},i=[];function o(i){n.has(r,i)||(r[i]=!0,e.push(i),n.each(t.successors(i),o),n.each(t.predecessors(i),o))}return n.each(t.nodes(),(function(t){e=[],o(t),e.length&&i.push(e)})),i}},21482:(t,e,r)=>{var n=r(95329);function i(t,e,r,o,a,s){n.has(o,e)||(o[e]=!0,r||s.push(e),n.each(a(e),(function(e){i(t,e,r,o,a,s)})),r&&s.push(e))}t.exports=function(t,e,r){n.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),a=[],s={};return n.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);i(t,e,"post"===r,s,o,a)})),a}},40845:(t,e,r)=>{var n=r(13746),i=r(95329);t.exports=function(t,e,r){return i.transform(t.nodes(),(function(i,o){i[o]=n(t,o,e,r)}),{})}},13746:(t,e,r)=>{var n=r(95329),i=r(36614);t.exports=function(t,e,r,n){return function(t,e,r,n){var o,a,s={},u=new i,h=function(t){var e=t.v!==o?t.v:t.w,n=s[e],i=r(t),h=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+i);h<n.distance&&(n.distance=h,n.predecessor=o,u.decrease(e,h))};t.nodes().forEach((function(t){var r=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:r},u.add(t,r)}));for(;u.size()>0&&(o=u.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)n(o).forEach(h);return s}(t,String(e),r||o,n||function(e){return t.outEdges(e)})};var o=n.constant(1)},59324:(t,e,r)=>{var n=r(95329),i=r(94558);t.exports=function(t){return n.filter(i(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},22893:(t,e,r)=>{var n=r(95329);t.exports=function(t,e,r){return function(t,e,r){var n={},i=t.nodes();return i.forEach((function(t){n[t]={},n[t][t]={distance:0},i.forEach((function(e){t!==e&&(n[t][e]={distance:Number.POSITIVE_INFINITY})})),r(t).forEach((function(r){var i=r.v===t?r.w:r.v,o=e(r);n[t][i]={distance:o,predecessor:t}}))})),i.forEach((function(t){var e=n[t];i.forEach((function(r){var o=n[r];i.forEach((function(r){var n=o[t],i=e[r],a=o[r],s=n.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),n}(t,e||i,r||function(e){return t.outEdges(e)})};var i=n.constant(1)},54613:(t,e,r)=>{t.exports={components:r(91606),dijkstra:r(13746),dijkstraAll:r(40845),findCycles:r(59324),floydWarshall:r(22893),isAcyclic:r(588),postorder:r(98049),preorder:r(67158),prim:r(66058),tarjan:r(94558),topsort:r(7793)}},588:(t,e,r)=>{var n=r(7793);t.exports=function(t){try{n(t)}catch(t){if(t instanceof n.CycleException)return!1;throw t}return!0}},98049:(t,e,r)=>{var n=r(21482);t.exports=function(t,e){return n(t,e,"post")}},67158:(t,e,r)=>{var n=r(21482);t.exports=function(t,e){return n(t,e,"pre")}},66058:(t,e,r)=>{var n=r(95329),i=r(6349),o=r(36614);t.exports=function(t,e){var r,a=new i,s={},u=new o;function h(t){var n=t.v===r?t.w:t.v,i=u.priority(n);if(void 0!==i){var o=e(t);o<i&&(s[n]=r,u.decrease(n,o))}}if(0===t.nodeCount())return a;n.each(t.nodes(),(function(t){u.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),u.decrease(t.nodes()[0],0);var c=!1;for(;u.size()>0;){if(r=u.removeMin(),n.has(s,r))a.setEdge(r,s[r]);else{if(c)throw new Error("Input graph is not connected: "+t);c=!0}t.nodeEdges(r).forEach(h)}return a}},94558:(t,e,r)=>{var n=r(95329);t.exports=function(t){var e=0,r=[],i={},o=[];function a(s){var u=i[s]={onStack:!0,lowlink:e,index:e++};if(r.push(s),t.successors(s).forEach((function(t){n.has(i,t)?i[t].onStack&&(u.lowlink=Math.min(u.lowlink,i[t].index)):(a(t),u.lowlink=Math.min(u.lowlink,i[t].lowlink))})),u.lowlink===u.index){var h,c=[];do{h=r.pop(),i[h].onStack=!1,c.push(h)}while(s!==h);o.push(c)}}return t.nodes().forEach((function(t){n.has(i,t)||a(t)})),o}},7793:(t,e,r)=>{var n=r(95329);function i(t){var e={},r={},i=[];if(n.each(t.sinks(),(function a(s){if(n.has(r,s))throw new o;n.has(e,s)||(r[s]=!0,e[s]=!0,n.each(t.predecessors(s),a),delete r[s],i.push(s))})),n.size(e)!==t.nodeCount())throw new o;return i}function o(){}t.exports=i,i.CycleException=o,o.prototype=new Error},36614:(t,e,r)=>{var n=r(95329);function i(){this._arr=[],this._keyIndices={}}t.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},i.prototype.has=function(t){return n.has(this._keyIndices,t)},i.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(t,e){var r=this._keyIndices;if(t=String(t),!n.has(r,t)){var i=this._arr,o=i.length;return r[t]=o,i.push({key:t,priority:e}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},i.prototype.decrease=function(t,e){var r=this._keyIndices[t];if(e>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[r].priority+" New: "+e);this._arr[r].priority=e,this._decrease(r)},i.prototype._heapify=function(t){var e=this._arr,r=2*t,n=r+1,i=t;r<e.length&&(i=e[r].priority<e[i].priority?r:i,n<e.length&&(i=e[n].priority<e[i].priority?n:i),i!==t&&(this._swap(t,i),this._heapify(i)))},i.prototype._decrease=function(t){for(var e,r=this._arr,n=r[t].priority;0!==t&&!(r[e=t>>1].priority<n);)this._swap(t,e),t=e},i.prototype._swap=function(t,e){var r=this._arr,n=this._keyIndices,i=r[t],o=r[e];r[t]=o,r[e]=i,n[o.key]=t,n[i.key]=e}},6349:(t,e,r)=>{"use strict";var n=r(95329);t.exports=o;var i="\0";function o(t){this._isDirected=!n.has(t,"directed")||t.directed,this._isMultigraph=!!n.has(t,"multigraph")&&t.multigraph,this._isCompound=!!n.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=n.constant(void 0),this._defaultEdgeLabelFn=n.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(t,e){t[e]?t[e]++:t[e]=1}function s(t,e){--t[e]||delete t[e]}function u(t,e,r,i){var o=""+e,a=""+r;if(!t&&o>a){var s=o;o=a,a=s}return o+""+a+""+(n.isUndefined(i)?"\0":i)}function h(t,e,r,n){var i=""+e,o=""+r;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return n&&(s.name=n),s}function c(t,e){return u(t,e.v,e.w,e.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(t){return this._label=t,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(t){return n.isFunction(t)||(t=n.constant(t)),this._defaultNodeLabelFn=t,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return n.keys(this._nodes)},o.prototype.sources=function(){var t=this;return n.filter(this.nodes(),(function(e){return n.isEmpty(t._in[e])}))},o.prototype.sinks=function(){var t=this;return n.filter(this.nodes(),(function(e){return n.isEmpty(t._out[e])}))},o.prototype.setNodes=function(t,e){var r=arguments,i=this;return n.each(t,(function(t){r.length>1?i.setNode(t,e):i.setNode(t)})),this},o.prototype.setNode=function(t,e){return n.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=i,this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},o.prototype.node=function(t){return this._nodes[t]},o.prototype.hasNode=function(t){return n.has(this._nodes,t)},o.prototype.removeNode=function(t){var e=this;if(n.has(this._nodes,t)){var r=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],n.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),n.each(n.keys(this._in[t]),r),delete this._in[t],delete this._preds[t],n.each(n.keys(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},o.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(n.isUndefined(e))e=i;else{for(var r=e+="";!n.isUndefined(r);r=this.parent(r))if(r===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},o.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},o.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==i)return e}},o.prototype.children=function(t){if(n.isUndefined(t)&&(t=i),this._isCompound){var e=this._children[t];if(e)return n.keys(e)}else{if(t===i)return this.nodes();if(this.hasNode(t))return[]}},o.prototype.predecessors=function(t){var e=this._preds[t];if(e)return n.keys(e)},o.prototype.successors=function(t){var e=this._sucs[t];if(e)return n.keys(e)},o.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return n.union(e,this.successors(t))},o.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},o.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var r=this;n.each(this._nodes,(function(r,n){t(n)&&e.setNode(n,r)})),n.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,r.edge(t))}));var i={};function o(t){var n=r.parent(t);return void 0===n||e.hasNode(n)?(i[t]=n,n):n in i?i[n]:o(n)}return this._isCompound&&n.each(e.nodes(),(function(t){e.setParent(t,o(t))})),e},o.prototype.setDefaultEdgeLabel=function(t){return n.isFunction(t)||(t=n.constant(t)),this._defaultEdgeLabelFn=t,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return n.values(this._edgeObjs)},o.prototype.setPath=function(t,e){var r=this,i=arguments;return n.reduce(t,(function(t,n){return i.length>1?r.setEdge(t,n,e):r.setEdge(t,n),n})),this},o.prototype.setEdge=function(){var t,e,r,i,o=!1,s=arguments[0];"object"==typeof s&&null!==s&&"v"in s?(t=s.v,e=s.w,r=s.name,2===arguments.length&&(i=arguments[1],o=!0)):(t=s,e=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),t=""+t,e=""+e,n.isUndefined(r)||(r=""+r);var c=u(this._isDirected,t,e,r);if(n.has(this._edgeLabels,c))return o&&(this._edgeLabels[c]=i),this;if(!n.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[c]=o?i:this._defaultEdgeLabelFn(t,e,r);var l=h(this._isDirected,t,e,r);return t=l.v,e=l.w,Object.freeze(l),this._edgeObjs[c]=l,a(this._preds[e],t),a(this._sucs[t],e),this._in[e][c]=l,this._out[t][c]=l,this._edgeCount++,this},o.prototype.edge=function(t,e,r){var n=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,t,e,r);return this._edgeLabels[n]},o.prototype.hasEdge=function(t,e,r){var i=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,t,e,r);return n.has(this._edgeLabels,i)},o.prototype.removeEdge=function(t,e,r){var n=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,t,e,r),i=this._edgeObjs[n];return i&&(t=i.v,e=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],s(this._preds[e],t),s(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this},o.prototype.inEdges=function(t,e){var r=this._in[t];if(r){var i=n.values(r);return e?n.filter(i,(function(t){return t.v===e})):i}},o.prototype.outEdges=function(t,e){var r=this._out[t];if(r){var i=n.values(r);return e?n.filter(i,(function(t){return t.w===e})):i}},o.prototype.nodeEdges=function(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))}},89224:(t,e,r)=>{t.exports={Graph:r(6349),version:r(16544)}},17401:(t,e,r)=>{var n=r(95329),i=r(6349);function o(t){return n.map(t.nodes(),(function(e){var r=t.node(e),i=t.parent(e),o={v:e};return n.isUndefined(r)||(o.value=r),n.isUndefined(i)||(o.parent=i),o}))}function a(t){return n.map(t.edges(),(function(e){var r=t.edge(e),i={v:e.v,w:e.w};return n.isUndefined(e.name)||(i.name=e.name),n.isUndefined(r)||(i.value=r),i}))}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:o(t),edges:a(t)};n.isUndefined(t.graph())||(e.value=n.clone(t.graph()));return e},read:function(t){var e=new i(t.options).setGraph(t.value);return n.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),n.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},95329:(t,e,r)=>{var n;try{n={clone:r(97915),constant:r(10061),each:r(93056),filter:r(14350),has:r(32913),isArray:r(68469),isEmpty:r(10861),isFunction:r(16814),isUndefined:r(5123),keys:r(91820),map:r(31124),reduce:r(35941),size:r(64834),transform:r(17697),union:r(7704),values:r(16090)}}catch(t){}n||(n=window._),t.exports=n},16544:t=>{t.exports="2.1.8"},81104:t=>{"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},34508:t=>{var e=[],r=[];function n(t,n){if(n=n||{},void 0===t)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var i,o=!0===n.prepend?"prepend":"append",a=void 0!==n.container?n.container:document.querySelector("head"),s=e.indexOf(a);return-1===s&&(s=e.push(a)-1,r[s]={}),void 0!==r[s]&&void 0!==r[s][o]?i=r[s][o]:(i=r[s][o]=function(){var t=document.createElement("style");return t.setAttribute("type","text/css"),t}(),"prepend"===o?a.insertBefore(i,a.childNodes[0]):a.appendChild(i)),65279===t.charCodeAt(0)&&(t=t.substr(1,t.length)),i.styleSheet?i.styleSheet.cssText+=t:i.textContent+=t,i}t.exports=n,t.exports.insertCss=n},22948:t=>{t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},83938:(t,e,r)=>{var n=r(17830)(r(16311),"DataView");t.exports=n},24249:(t,e,r)=>{var n=r(99718),i=r(90705),o=r(15328),a=r(6407),s=r(746);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},32202:(t,e,r)=>{var n=r(91661),i=r(30804),o=r(92281),a=r(38606),s=r(20040);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},6133:(t,e,r)=>{var n=r(17830)(r(16311),"Map");t.exports=n},78330:(t,e,r)=>{var n=r(55575),i=r(43027),o=r(5697),a=r(14001),s=r(29811);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},64169:(t,e,r)=>{var n=r(17830)(r(16311),"Promise");t.exports=n},38507:(t,e,r)=>{var n=r(17830)(r(16311),"Set");t.exports=n},53600:(t,e,r)=>{var n=r(78330),i=r(61228),o=r(55183);function a(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},98658:(t,e,r)=>{var n=r(32202),i=r(27515),o=r(31530),a=r(75081),s=r(99514),u=r(77874);function h(t){var e=this.__data__=new n(t);this.size=e.size}h.prototype.clear=i,h.prototype.delete=o,h.prototype.get=a,h.prototype.has=s,h.prototype.set=u,t.exports=h},84831:(t,e,r)=>{var n=r(16311).Symbol;t.exports=n},597:(t,e,r)=>{var n=r(16311).Uint8Array;t.exports=n},23943:(t,e,r)=>{var n=r(17830)(r(16311),"WeakMap");t.exports=n},50486:t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},10420:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},19608:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}},86535:(t,e,r)=>{var n=r(50495);t.exports=function(t,e){return!!(null==t?0:t.length)&&n(t,e,0)>-1}},78614:t=>{t.exports=function(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}},55855:(t,e,r)=>{var n=r(62833),i=r(13151),o=r(68469),a=r(64077),s=r(17935),u=r(41861),h=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),c=!r&&i(t),l=!r&&!c&&a(t),f=!r&&!c&&!l&&u(t),d=r||c||l||f,p=d?n(t.length,String):[],g=p.length;for(var v in t)!e&&!h.call(t,v)||d&&("length"==v||l&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},25294:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},24558:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},12654:t=>{t.exports=function(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}},1307:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},83099:(t,e,r)=>{var n=r(51394)("length");t.exports=n},35388:(t,e,r)=>{var n=r(23432),i=r(29898);t.exports=function(t,e,r){(void 0!==r&&!i(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}},49020:(t,e,r)=>{var n=r(23432),i=r(29898),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];o.call(t,e)&&i(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},70907:(t,e,r)=>{var n=r(29898);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},68095:(t,e,r)=>{var n=r(47273),i=r(91820);t.exports=function(t,e){return t&&n(e,i(e),t)}},17782:(t,e,r)=>{var n=r(47273),i=r(542);t.exports=function(t,e){return t&&n(e,i(e),t)}},23432:(t,e,r)=>{var n=r(23505);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},6790:(t,e,r)=>{var n=r(98658),i=r(10420),o=r(49020),a=r(68095),s=r(17782),u=r(42069),h=r(63174),c=r(1870),l=r(76275),f=r(17512),d=r(43291),p=r(66415),g=r(40990),v=r(89922),y=r(87794),m=r(68469),x=r(64077),b=r(22113),w=r(38667),M=r(11253),S=r(91820),_=r(542),k="[object Arguments]",E="[object Function]",C="[object Object]",P={};P[k]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[C]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[E]=P["[object WeakMap]"]=!1,t.exports=function t(e,r,A,I,O,T){var N,D=1&r,B=2&r,j=4&r;if(A&&(N=O?A(e,I,O,T):A(e)),void 0!==N)return N;if(!w(e))return e;var R=m(e);if(R){if(N=g(e),!D)return h(e,N)}else{var L=p(e),z=L==E||"[object GeneratorFunction]"==L;if(x(e))return u(e,D);if(L==C||L==k||z&&!O){if(N=B||z?{}:y(e),!D)return B?l(e,s(N,e)):c(e,a(N,e))}else{if(!P[L])return O?e:{};N=v(e,L,D)}}T||(T=new n);var F=T.get(e);if(F)return F;T.set(e,N),M(e)?e.forEach((function(n){N.add(t(n,r,A,n,e,T))})):b(e)&&e.forEach((function(n,i){N.set(i,t(n,r,A,i,e,T))}));var Y=R?void 0:(j?B?d:f:B?_:S)(e);return i(Y||e,(function(n,i){Y&&(n=e[i=n]),o(N,i,t(n,r,A,i,e,T))})),N}},62113:(t,e,r)=>{var n=r(38667),i=Object.create,o=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=o},55194:(t,e,r)=>{var n=r(71737),i=r(32231)(n);t.exports=i},27435:(t,e,r)=>{var n=r(86658);t.exports=function(t,e,r){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(void 0===u?s==s&&!n(s):r(s,u)))var u=s,h=a}return h}},24593:(t,e,r)=>{var n=r(55194);t.exports=function(t,e){var r=[];return n(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}},92215:t=>{t.exports=function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},31002:(t,e,r)=>{var n=r(24558),i=r(6353);t.exports=function t(e,r,o,a,s){var u=-1,h=e.length;for(o||(o=i),s||(s=[]);++u<h;){var c=e[u];r>0&&o(c)?r>1?t(c,r-1,o,a,s):n(s,c):a||(s[s.length]=c)}return s}},50289:(t,e,r)=>{var n=r(7337)();t.exports=n},71737:(t,e,r)=>{var n=r(50289),i=r(91820);t.exports=function(t,e){return t&&n(t,e,i)}},41517:(t,e,r)=>{var n=r(82115),i=r(58575);t.exports=function(t,e){for(var r=0,o=(e=n(e,t)).length;null!=t&&r<o;)t=t[i(e[r++])];return r&&r==o?t:void 0}},48507:(t,e,r)=>{var n=r(24558),i=r(68469);t.exports=function(t,e,r){var o=e(t);return i(t)?o:n(o,r(t))}},18648:(t,e,r)=>{var n=r(84831),i=r(68020),o=r(35825),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},39326:t=>{t.exports=function(t,e){return t>e}},69163:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t,r){return null!=t&&e.call(t,r)}},22140:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},50495:(t,e,r)=>{var n=r(92215),i=r(34777),o=r(88315);t.exports=function(t,e,r){return e==e?o(t,e,r):n(t,i,r)}},95766:(t,e,r)=>{var n=r(18648),i=r(67880);t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},28602:(t,e,r)=>{var n=r(90332),i=r(67880);t.exports=function t(e,r,o,a,s){return e===r||(null==e||null==r||!i(e)&&!i(r)?e!=e&&r!=r:n(e,r,o,a,t,s))}},90332:(t,e,r)=>{var n=r(98658),i=r(33745),o=r(86422),a=r(81328),s=r(66415),u=r(68469),h=r(64077),c=r(41861),l="[object Arguments]",f="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,g,v,y){var m=u(t),x=u(e),b=m?f:s(t),w=x?f:s(e),M=(b=b==l?d:b)==d,S=(w=w==l?d:w)==d,_=b==w;if(_&&h(t)){if(!h(e))return!1;m=!0,M=!1}if(_&&!M)return y||(y=new n),m||c(t)?i(t,e,r,g,v,y):o(t,e,b,r,g,v,y);if(!(1&r)){var k=M&&p.call(t,"__wrapped__"),E=S&&p.call(e,"__wrapped__");if(k||E){var C=k?t.value():t,P=E?e.value():e;return y||(y=new n),v(C,P,r,g,y)}}return!!_&&(y||(y=new n),a(t,e,r,g,v,y))}},24149:(t,e,r)=>{var n=r(66415),i=r(67880);t.exports=function(t){return i(t)&&"[object Map]"==n(t)}},97885:(t,e,r)=>{var n=r(98658),i=r(28602);t.exports=function(t,e,r,o){var a=r.length,s=a,u=!o;if(null==t)return!s;for(t=Object(t);a--;){var h=r[a];if(u&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++a<s;){var c=(h=r[a])[0],l=t[c],f=h[1];if(u&&h[2]){if(void 0===l&&!(c in t))return!1}else{var d=new n;if(o)var p=o(l,f,c,t,e,d);if(!(void 0===p?i(f,l,3,o,d):p))return!1}}return!0}},34777:t=>{t.exports=function(t){return t!=t}},81112:(t,e,r)=>{var n=r(16814),i=r(42815),o=r(38667),a=r(38698),s=/^\[object .+?Constructor\]$/,u=Function.prototype,h=Object.prototype,c=u.toString,l=h.hasOwnProperty,f=RegExp("^"+c.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(n(t)?f:s).test(a(t))}},21345:(t,e,r)=>{var n=r(66415),i=r(67880);t.exports=function(t){return i(t)&&"[object Set]"==n(t)}},69991:(t,e,r)=>{var n=r(18648),i=r(29907),o=r(67880),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[n(t)]}},69421:(t,e,r)=>{var n=r(97303),i=r(30860),o=r(33901),a=r(68469),s=r(64876);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):n(t):s(t)}},9851:(t,e,r)=>{var n=r(11698),i=r(21082),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))o.call(t,r)&&"constructor"!=r&&e.push(r);return e}},70565:(t,e,r)=>{var n=r(38667),i=r(11698),o=r(39953),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=i(t),r=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&r.push(s);return r}},53908:t=>{t.exports=function(t,e){return t<e}},69538:(t,e,r)=>{var n=r(55194),i=r(32714);t.exports=function(t,e){var r=-1,o=i(t)?Array(t.length):[];return n(t,(function(t,n,i){o[++r]=e(t,n,i)})),o}},97303:(t,e,r)=>{var n=r(97885),i=r(63976),o=r(77360);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},30860:(t,e,r)=>{var n=r(28602),i=r(8107),o=r(96763),a=r(22621),s=r(66291),u=r(77360),h=r(58575);t.exports=function(t,e){return a(t)&&s(e)?u(h(t),e):function(r){var a=i(r,t);return void 0===a&&a===e?o(r,t):n(e,a,3)}}},12474:(t,e,r)=>{var n=r(98658),i=r(35388),o=r(50289),a=r(13008),s=r(38667),u=r(542),h=r(78986);t.exports=function t(e,r,c,l,f){e!==r&&o(r,(function(o,u){if(f||(f=new n),s(o))a(e,r,u,c,t,l,f);else{var d=l?l(h(e,u),o,u+"",e,r,f):void 0;void 0===d&&(d=o),i(e,u,d)}}),u)}},13008:(t,e,r)=>{var n=r(35388),i=r(42069),o=r(72353),a=r(63174),s=r(87794),u=r(13151),h=r(68469),c=r(54353),l=r(64077),f=r(16814),d=r(38667),p=r(70674),g=r(41861),v=r(78986),y=r(29903);t.exports=function(t,e,r,m,x,b,w){var M=v(t,r),S=v(e,r),_=w.get(S);if(_)n(t,r,_);else{var k=b?b(M,S,r+"",t,e,w):void 0,E=void 0===k;if(E){var C=h(S),P=!C&&l(S),A=!C&&!P&&g(S);k=S,C||P||A?h(M)?k=M:c(M)?k=a(M):P?(E=!1,k=i(S,!0)):A?(E=!1,k=o(S,!0)):k=[]:p(S)||u(S)?(k=M,u(M)?k=y(M):d(M)&&!f(M)||(k=s(S))):E=!1}E&&(w.set(S,k),x(k,S,m,b,w),w.delete(S)),n(t,r,k)}}},4481:(t,e,r)=>{var n=r(25294),i=r(41517),o=r(69421),a=r(69538),s=r(63822),u=r(8681),h=r(64902),c=r(33901),l=r(68469);t.exports=function(t,e,r){e=e.length?n(e,(function(t){return l(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[c];var f=-1;e=n(e,u(o));var d=a(t,(function(t,r,i){return{criteria:n(e,(function(e){return e(t)})),index:++f,value:t}}));return s(d,(function(t,e){return h(t,e,r)}))}},93897:(t,e,r)=>{var n=r(95873),i=r(96763);t.exports=function(t,e){return n(t,e,(function(e,r){return i(t,r)}))}},95873:(t,e,r)=>{var n=r(41517),i=r(68434),o=r(82115);t.exports=function(t,e,r){for(var a=-1,s=e.length,u={};++a<s;){var h=e[a],c=n(t,h);r(c,h)&&i(u,o(h,t),c)}return u}},51394:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},50142:(t,e,r)=>{var n=r(41517);t.exports=function(t){return function(e){return n(e,t)}}},94899:t=>{var e=Math.ceil,r=Math.max;t.exports=function(t,n,i,o){for(var a=-1,s=r(e((n-t)/(i||1)),0),u=Array(s);s--;)u[o?s:++a]=t,t+=i;return u}},40251:t=>{t.exports=function(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r}},97216:(t,e,r)=>{var n=r(33901),i=r(82619),o=r(45335);t.exports=function(t,e){return o(i(t,e,n),t+"")}},68434:(t,e,r)=>{var n=r(49020),i=r(82115),o=r(17935),a=r(38667),s=r(58575);t.exports=function(t,e,r,u){if(!a(t))return t;for(var h=-1,c=(e=i(e,t)).length,l=c-1,f=t;null!=f&&++h<c;){var d=s(e[h]),p=r;if("__proto__"===d||"constructor"===d||"prototype"===d)return t;if(h!=l){var g=f[d];void 0===(p=u?u(g,d,f):void 0)&&(p=a(g)?g:o(e[h+1])?[]:{})}n(f,d,p),f=f[d]}return t}},42022:(t,e,r)=>{var n=r(10061),i=r(23505),o=r(33901),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:o;t.exports=a},63822:t=>{t.exports=function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}},62833:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},91469:(t,e,r)=>{var n=r(84831),i=r(25294),o=r(68469),a=r(86658),s=n?n.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r}},8681:t=>{t.exports=function(t){return function(e){return t(e)}}},41860:(t,e,r)=>{var n=r(53600),i=r(86535),o=r(78614),a=r(92230),s=r(76522),u=r(81788);t.exports=function(t,e,r){var h=-1,c=i,l=t.length,f=!0,d=[],p=d;if(r)f=!1,c=o;else if(l>=200){var g=e?null:s(t);if(g)return u(g);f=!1,c=a,p=new n}else p=e?[]:d;t:for(;++h<l;){var v=t[h],y=e?e(v):v;if(v=r||0!==v?v:0,f&&y==y){for(var m=p.length;m--;)if(p[m]===y)continue t;e&&p.push(y),d.push(v)}else c(p,y,r)||(p!==d&&p.push(y),d.push(v))}return d}},56053:(t,e,r)=>{var n=r(25294);t.exports=function(t,e){return n(e,(function(e){return t[e]}))}},46319:t=>{t.exports=function(t,e,r){for(var n=-1,i=t.length,o=e.length,a={};++n<i;){var s=n<o?e[n]:void 0;r(a,t[n],s)}return a}},92230:t=>{t.exports=function(t,e){return t.has(e)}},79586:(t,e,r)=>{var n=r(33901);t.exports=function(t){return"function"==typeof t?t:n}},82115:(t,e,r)=>{var n=r(68469),i=r(22621),o=r(57202),a=r(18313);t.exports=function(t,e){return n(t)?t:i(t,e)?[t]:o(a(t))}},70157:(t,e,r)=>{var n=r(597);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},42069:(t,e,r)=>{t=r.nmd(t);var n=r(16311),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}},19071:(t,e,r)=>{var n=r(70157);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},70243:t=>{var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},88501:(t,e,r)=>{var n=r(84831),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},72353:(t,e,r)=>{var n=r(70157);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},36962:(t,e,r)=>{var n=r(86658);t.exports=function(t,e){if(t!==e){var r=void 0!==t,i=null===t,o=t==t,a=n(t),s=void 0!==e,u=null===e,h=e==e,c=n(e);if(!u&&!c&&!a&&t>e||a&&s&&h&&!u&&!c||i&&s&&h||!r&&h||!o)return 1;if(!i&&!a&&!c&&t<e||c&&r&&o&&!i&&!a||u&&r&&o||!s&&o||!h)return-1}return 0}},64902:(t,e,r)=>{var n=r(36962);t.exports=function(t,e,r){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,u=r.length;++i<s;){var h=n(o[i],a[i]);if(h)return i>=u?h:h*("desc"==r[i]?-1:1)}return t.index-e.index}},63174:t=>{t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},47273:(t,e,r)=>{var n=r(49020),i=r(23432);t.exports=function(t,e,r,o){var a=!r;r||(r={});for(var s=-1,u=e.length;++s<u;){var h=e[s],c=o?o(r[h],t[h],h,r,t):void 0;void 0===c&&(c=t[h]),a?i(r,h,c):n(r,h,c)}return r}},1870:(t,e,r)=>{var n=r(47273),i=r(97381);t.exports=function(t,e){return n(t,i(t),e)}},76275:(t,e,r)=>{var n=r(47273),i=r(40345);t.exports=function(t,e){return n(t,i(t),e)}},6866:(t,e,r)=>{var n=r(16311)["__core-js_shared__"];t.exports=n},66901:(t,e,r)=>{var n=r(97216),i=r(77041);t.exports=function(t){return n((function(e,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(r[0],r[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++n<o;){var u=r[n];u&&t(e,u,n,a)}return e}))}},32231:(t,e,r)=>{var n=r(32714);t.exports=function(t,e){return function(r,i){if(null==r)return r;if(!n(r))return t(r,i);for(var o=r.length,a=e?o:-1,s=Object(r);(e?a--:++a<o)&&!1!==i(s[a],a,s););return r}}},7337:t=>{t.exports=function(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===r(o[u],u,o))break}return e}}},51431:(t,e,r)=>{var n=r(69421),i=r(32714),o=r(91820);t.exports=function(t){return function(e,r,a){var s=Object(e);if(!i(e)){var u=n(r,3);e=o(e),r=function(t){return u(s[t],t,s)}}var h=t(e,r,a);return h>-1?s[u?e[h]:h]:void 0}}},34027:(t,e,r)=>{var n=r(94899),i=r(77041),o=r(87198);t.exports=function(t){return function(e,r,a){return a&&"number"!=typeof a&&i(e,r,a)&&(r=a=void 0),e=o(e),void 0===r?(r=e,e=0):r=o(r),a=void 0===a?e<r?1:-1:o(a),n(e,r,a,t)}}},76522:(t,e,r)=>{var n=r(38507),i=r(88694),o=r(81788),a=n&&1/o(new n([,-0]))[1]==1/0?function(t){return new n(t)}:i;t.exports=a},23505:(t,e,r)=>{var n=r(17830),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},33745:(t,e,r)=>{var n=r(53600),i=r(1307),o=r(92230);t.exports=function(t,e,r,a,s,u){var h=1&r,c=t.length,l=e.length;if(c!=l&&!(h&&l>c))return!1;var f=u.get(t),d=u.get(e);if(f&&d)return f==e&&d==t;var p=-1,g=!0,v=2&r?new n:void 0;for(u.set(t,e),u.set(e,t);++p<c;){var y=t[p],m=e[p];if(a)var x=h?a(m,y,p,e,t,u):a(y,m,p,t,e,u);if(void 0!==x){if(x)continue;g=!1;break}if(v){if(!i(e,(function(t,e){if(!o(v,e)&&(y===t||s(y,t,r,a,u)))return v.push(e)}))){g=!1;break}}else if(y!==m&&!s(y,m,r,a,u)){g=!1;break}}return u.delete(t),u.delete(e),g}},86422:(t,e,r)=>{var n=r(84831),i=r(597),o=r(29898),a=r(33745),s=r(95587),u=r(81788),h=n?n.prototype:void 0,c=h?h.valueOf:void 0;t.exports=function(t,e,r,n,h,l,f){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!l(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=s;case"[object Set]":var p=1&n;if(d||(d=u),t.size!=e.size&&!p)return!1;var g=f.get(t);if(g)return g==e;n|=2,f.set(t,e);var v=a(d(t),d(e),n,h,l,f);return f.delete(t),v;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},81328:(t,e,r)=>{var n=r(17512),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,o,a,s){var u=1&r,h=n(t),c=h.length;if(c!=n(e).length&&!u)return!1;for(var l=c;l--;){var f=h[l];if(!(u?f in e:i.call(e,f)))return!1}var d=s.get(t),p=s.get(e);if(d&&p)return d==e&&p==t;var g=!0;s.set(t,e),s.set(e,t);for(var v=u;++l<c;){var y=t[f=h[l]],m=e[f];if(o)var x=u?o(m,y,f,e,t,s):o(y,m,f,t,e,s);if(!(void 0===x?y===m||a(y,m,r,o,s):x)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(t),s.delete(e),g}},63793:(t,e,r)=>{var n=r(90219),i=r(82619),o=r(45335);t.exports=function(t){return o(i(t,void 0,n),t+"")}},42884:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},17512:(t,e,r)=>{var n=r(48507),i=r(97381),o=r(91820);t.exports=function(t){return n(t,o,i)}},43291:(t,e,r)=>{var n=r(48507),i=r(40345),o=r(542);t.exports=function(t){return n(t,o,i)}},99139:(t,e,r)=>{var n=r(31102);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},63976:(t,e,r)=>{var n=r(66291),i=r(91820);t.exports=function(t){for(var e=i(t),r=e.length;r--;){var o=e[r],a=t[o];e[r]=[o,a,n(a)]}return e}},17830:(t,e,r)=>{var n=r(81112),i=r(31162);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},16079:(t,e,r)=>{var n=r(84859)(Object.getPrototypeOf,Object);t.exports=n},68020:(t,e,r)=>{var n=r(84831),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var i=a.call(t);return n&&(e?t[s]=r:delete t[s]),i}},97381:(t,e,r)=>{var n=r(19608),i=r(11059),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},40345:(t,e,r)=>{var n=r(24558),i=r(16079),o=r(97381),a=r(11059),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,o(t)),t=i(t);return e}:a;t.exports=s},66415:(t,e,r)=>{var n=r(83938),i=r(6133),o=r(64169),a=r(38507),s=r(23943),u=r(18648),h=r(38698),c="[object Map]",l="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",g=h(n),v=h(i),y=h(o),m=h(a),x=h(s),b=u;(n&&b(new n(new ArrayBuffer(1)))!=p||i&&b(new i)!=c||o&&b(o.resolve())!=l||a&&b(new a)!=f||s&&b(new s)!=d)&&(b=function(t){var e=u(t),r="[object Object]"==e?t.constructor:void 0,n=r?h(r):"";if(n)switch(n){case g:return p;case v:return c;case y:return l;case m:return f;case x:return d}return e}),t.exports=b},31162:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},84756:(t,e,r)=>{var n=r(82115),i=r(13151),o=r(68469),a=r(17935),s=r(29907),u=r(58575);t.exports=function(t,e,r){for(var h=-1,c=(e=n(e,t)).length,l=!1;++h<c;){var f=u(e[h]);if(!(l=null!=t&&r(t,f)))break;t=t[f]}return l||++h!=c?l:!!(c=null==t?0:t.length)&&s(c)&&a(f,c)&&(o(t)||i(t))}},41215:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},99718:(t,e,r)=>{var n=r(52193);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},90705:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},15328:(t,e,r)=>{var n=r(52193),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},6407:(t,e,r)=>{var n=r(52193),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},746:(t,e,r)=>{var n=r(52193);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},40990:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},89922:(t,e,r)=>{var n=r(70157),i=r(19071),o=r(70243),a=r(88501),s=r(72353);t.exports=function(t,e,r){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,r);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return o(t);case"[object Set]":return new u;case"[object Symbol]":return a(t)}}},87794:(t,e,r)=>{var n=r(62113),i=r(16079),o=r(11698);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:n(i(t))}},6353:(t,e,r)=>{var n=r(84831),i=r(13151),o=r(68469),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},17935:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},77041:(t,e,r)=>{var n=r(29898),i=r(32714),o=r(17935),a=r(38667);t.exports=function(t,e,r){if(!a(r))return!1;var s=typeof e;return!!("number"==s?i(r)&&o(e,r.length):"string"==s&&e in r)&&n(r[e],t)}},22621:(t,e,r)=>{var n=r(68469),i=r(86658),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},31102:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},42815:(t,e,r)=>{var n,i=r(6866),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!o&&o in t}},11698:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},66291:(t,e,r)=>{var n=r(38667);t.exports=function(t){return t==t&&!n(t)}},91661:t=>{t.exports=function(){this.__data__=[],this.size=0}},30804:(t,e,r)=>{var n=r(70907),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():i.call(e,r,1),--this.size,!0)}},92281:(t,e,r)=>{var n=r(70907);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},38606:(t,e,r)=>{var n=r(70907);t.exports=function(t){return n(this.__data__,t)>-1}},20040:(t,e,r)=>{var n=r(70907);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},55575:(t,e,r)=>{var n=r(24249),i=r(32202),o=r(6133);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},43027:(t,e,r)=>{var n=r(99139);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},5697:(t,e,r)=>{var n=r(99139);t.exports=function(t){return n(this,t).get(t)}},14001:(t,e,r)=>{var n=r(99139);t.exports=function(t){return n(this,t).has(t)}},29811:(t,e,r)=>{var n=r(99139);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},95587:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},77360:t=>{t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}},25308:(t,e,r)=>{var n=r(23595);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},52193:(t,e,r)=>{var n=r(17830)(Object,"create");t.exports=n},21082:(t,e,r)=>{var n=r(84859)(Object.keys,Object);t.exports=n},39953:t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},12526:(t,e,r)=>{t=r.nmd(t);var n=r(42884),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&n.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},35825:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},84859:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},82619:(t,e,r)=>{var n=r(50486),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var h=Array(e+1);++a<e;)h[a]=o[a];return h[e]=r(u),n(t,this,h)}}},16311:(t,e,r)=>{var n=r(42884),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();t.exports=o},78986:t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},61228:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},55183:t=>{t.exports=function(t){return this.__data__.has(t)}},81788:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},45335:(t,e,r)=>{var n=r(42022),i=r(68232)(n);t.exports=i},68232:t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var i=e(),o=16-(i-n);if(n=i,o>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},27515:(t,e,r)=>{var n=r(32202);t.exports=function(){this.__data__=new n,this.size=0}},31530:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},75081:t=>{t.exports=function(t){return this.__data__.get(t)}},99514:t=>{t.exports=function(t){return this.__data__.has(t)}},77874:(t,e,r)=>{var n=r(32202),i=r(6133),o=r(78330);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(a)}return r.set(t,e),this.size=r.size,this}},88315:t=>{t.exports=function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}},68426:(t,e,r)=>{var n=r(83099),i=r(41215),o=r(58582);t.exports=function(t){return i(t)?o(t):n(t)}},57202:(t,e,r)=>{var n=r(25308),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,r,n,i){e.push(n?i.replace(o,"$1"):r||t)})),e}));t.exports=a},58575:(t,e,r)=>{var n=r(86658);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},38698:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},58582:t=>{var e="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+r+"|"+n+")"+"?",u="[\\ufe0e\\ufe0f]?",h=u+s+("(?:\\u200d(?:"+[i,o,a].join("|")+")"+u+s+")*"),c="(?:"+[i+r+"?",r,o,a,e].join("|")+")",l=RegExp(n+"(?="+n+")|"+c+h,"g");t.exports=function(t){for(var e=l.lastIndex=0;l.test(t);)++e;return e}},97915:(t,e,r)=>{var n=r(6790);t.exports=function(t){return n(t,4)}},95108:(t,e,r)=>{var n=r(6790);t.exports=function(t){return n(t,5)}},10061:t=>{t.exports=function(t){return function(){return t}}},69907:(t,e,r)=>{var n=r(97216),i=r(29898),o=r(77041),a=r(542),s=Object.prototype,u=s.hasOwnProperty,h=n((function(t,e){t=Object(t);var r=-1,n=e.length,h=n>2?e[2]:void 0;for(h&&o(e[0],e[1],h)&&(n=1);++r<n;)for(var c=e[r],l=a(c),f=-1,d=l.length;++f<d;){var p=l[f],g=t[p];(void 0===g||i(g,s[p])&&!u.call(t,p))&&(t[p]=c[p])}return t}));t.exports=h},93056:(t,e,r)=>{t.exports=r(73008)},29898:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},14350:(t,e,r)=>{var n=r(19608),i=r(24593),o=r(69421),a=r(68469);t.exports=function(t,e){return(a(t)?n:i)(t,o(e,3))}},26658:(t,e,r)=>{var n=r(51431)(r(20218));t.exports=n},20218:(t,e,r)=>{var n=r(92215),i=r(69421),o=r(74870),a=Math.max;t.exports=function(t,e,r){var s=null==t?0:t.length;if(!s)return-1;var u=null==r?0:o(r);return u<0&&(u=a(s+u,0)),n(t,i(e,3),u)}},90219:(t,e,r)=>{var n=r(31002);t.exports=function(t){return(null==t?0:t.length)?n(t,1):[]}},73008:(t,e,r)=>{var n=r(10420),i=r(55194),o=r(79586),a=r(68469);t.exports=function(t,e){return(a(t)?n:i)(t,o(e))}},43834:(t,e,r)=>{var n=r(50289),i=r(79586),o=r(542);t.exports=function(t,e){return null==t?t:n(t,i(e),o)}},8107:(t,e,r)=>{var n=r(41517);t.exports=function(t,e,r){var i=null==t?void 0:n(t,e);return void 0===i?r:i}},32913:(t,e,r)=>{var n=r(69163),i=r(84756);t.exports=function(t,e){return null!=t&&i(t,e,n)}},96763:(t,e,r)=>{var n=r(22140),i=r(84756);t.exports=function(t,e){return null!=t&&i(t,e,n)}},33901:t=>{t.exports=function(t){return t}},13151:(t,e,r)=>{var n=r(95766),i=r(67880),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},68469:t=>{var e=Array.isArray;t.exports=e},32714:(t,e,r)=>{var n=r(16814),i=r(29907);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},54353:(t,e,r)=>{var n=r(32714),i=r(67880);t.exports=function(t){return i(t)&&n(t)}},64077:(t,e,r)=>{t=r.nmd(t);var n=r(16311),i=r(34382),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?n.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u},10861:(t,e,r)=>{var n=r(9851),i=r(66415),o=r(13151),a=r(68469),s=r(32714),u=r(64077),h=r(11698),c=r(41861),l=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||c(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(h(t))return!n(t).length;for(var r in t)if(l.call(t,r))return!1;return!0}},16814:(t,e,r)=>{var n=r(18648),i=r(38667);t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},29907:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},22113:(t,e,r)=>{var n=r(24149),i=r(8681),o=r(12526),a=o&&o.isMap,s=a?i(a):n;t.exports=s},38667:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},67880:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},70674:(t,e,r)=>{var n=r(18648),i=r(16079),o=r(67880),a=Function.prototype,s=Object.prototype,u=a.toString,h=s.hasOwnProperty,c=u.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=n(t))return!1;var e=i(t);if(null===e)return!0;var r=h.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==c}},11253:(t,e,r)=>{var n=r(21345),i=r(8681),o=r(12526),a=o&&o.isSet,s=a?i(a):n;t.exports=s},71030:(t,e,r)=>{var n=r(18648),i=r(68469),o=r(67880);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==n(t)}},86658:(t,e,r)=>{var n=r(18648),i=r(67880);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==n(t)}},41861:(t,e,r)=>{var n=r(69991),i=r(8681),o=r(12526),a=o&&o.isTypedArray,s=a?i(a):n;t.exports=s},5123:t=>{t.exports=function(t){return void 0===t}},91820:(t,e,r)=>{var n=r(55855),i=r(9851),o=r(32714);t.exports=function(t){return o(t)?n(t):i(t)}},542:(t,e,r)=>{var n=r(55855),i=r(70565),o=r(32714);t.exports=function(t){return o(t)?n(t,!0):i(t)}},44312:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},31124:(t,e,r)=>{var n=r(25294),i=r(69421),o=r(69538),a=r(68469);t.exports=function(t,e){return(a(t)?n:o)(t,i(e,3))}},26041:(t,e,r)=>{var n=r(23432),i=r(71737),o=r(69421);t.exports=function(t,e){var r={};return e=o(e,3),i(t,(function(t,i,o){n(r,i,e(t,i,o))})),r}},26805:(t,e,r)=>{var n=r(27435),i=r(39326),o=r(33901);t.exports=function(t){return t&&t.length?n(t,o,i):void 0}},23595:(t,e,r)=>{var n=r(78330);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},34233:(t,e,r)=>{var n=r(12474),i=r(66901)((function(t,e,r){n(t,e,r)}));t.exports=i},88964:(t,e,r)=>{var n=r(27435),i=r(53908),o=r(33901);t.exports=function(t){return t&&t.length?n(t,o,i):void 0}},36392:(t,e,r)=>{var n=r(27435),i=r(69421),o=r(53908);t.exports=function(t,e){return t&&t.length?n(t,i(e,2),o):void 0}},88694:t=>{t.exports=function(){}},1869:(t,e,r)=>{var n=r(16311);t.exports=function(){return n.Date.now()}},15496:(t,e,r)=>{var n=r(93897),i=r(63793)((function(t,e){return null==t?{}:n(t,e)}));t.exports=i},64876:(t,e,r)=>{var n=r(51394),i=r(50142),o=r(22621),a=r(58575);t.exports=function(t){return o(t)?n(a(t)):i(t)}},26013:(t,e,r)=>{var n=r(34027)();t.exports=n},35941:(t,e,r)=>{var n=r(12654),i=r(55194),o=r(69421),a=r(40251),s=r(68469);t.exports=function(t,e,r){var u=s(t)?n:a,h=arguments.length<3;return u(t,o(e,4),r,h,i)}},64834:(t,e,r)=>{var n=r(9851),i=r(66415),o=r(32714),a=r(71030),s=r(68426);t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)?s(t):t.length;var e=i(t);return"[object Map]"==e||"[object Set]"==e?t.size:n(t).length}},84914:(t,e,r)=>{var n=r(31002),i=r(4481),o=r(97216),a=r(77041),s=o((function(t,e){if(null==t)return[];var r=e.length;return r>1&&a(t,e[0],e[1])?e=[]:r>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,n(e,1),[])}));t.exports=s},11059:t=>{t.exports=function(){return[]}},34382:t=>{t.exports=function(){return!1}},87198:(t,e,r)=>{var n=r(9920),i=1/0;t.exports=function(t){return t?(t=n(t))===i||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},74870:(t,e,r)=>{var n=r(87198);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},9920:(t,e,r)=>{var n=r(38667),i=r(86658),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,h=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var r=s.test(t);return r||u.test(t)?h(t.slice(2),r?2:8):a.test(t)?NaN:+t}},29903:(t,e,r)=>{var n=r(47273),i=r(542);t.exports=function(t){return n(t,i(t))}},18313:(t,e,r)=>{var n=r(91469);t.exports=function(t){return null==t?"":n(t)}},17697:(t,e,r)=>{var n=r(10420),i=r(62113),o=r(71737),a=r(69421),s=r(16079),u=r(68469),h=r(64077),c=r(16814),l=r(38667),f=r(41861);t.exports=function(t,e,r){var d=u(t),p=d||h(t)||f(t);if(e=a(e,4),null==r){var g=t&&t.constructor;r=p?d?new g:[]:l(t)&&c(g)?i(s(t)):{}}return(p?n:o)(t,(function(t,n,i){return e(r,t,n,i)})),r}},7704:(t,e,r)=>{var n=r(31002),i=r(97216),o=r(41860),a=r(54353),s=i((function(t){return o(n(t,1,a,!0))}));t.exports=s},5228:(t,e,r)=>{var n=r(18313),i=0;t.exports=function(t){var e=++i;return n(t)+e}},16090:(t,e,r)=>{var n=r(56053),i=r(91820);t.exports=function(t){return null==t?[]:n(t,i(t))}},8585:(t,e,r)=>{var n=r(49020),i=r(46319);t.exports=function(t,e){return i(t||[],e||[],n)}},75029:(t,e,r)=>{"use strict";var n=r(22948),i=Array.prototype.concat,o=Array.prototype.slice,a=t.exports=function(t){for(var e=[],r=0,a=t.length;r<a;r++){var s=t[r];n(s)?e=i.call(e,o.call(s)):e.push(s)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},29231:(t,e,r)=>{var n;!function(i){var o=/^\s+/,a=/\s+$/,s=0,u=i.round,h=i.min,c=i.max,l=i.random;function f(t,e){if(e=e||{},(t=t||"")instanceof f)return t;if(!(this instanceof f))return new f(t,e);var r=function(t){var e={r:0,g:0,b:0},r=1,n=null,s=null,u=null,l=!1,f=!1;"string"==typeof t&&(t=function(t){t=t.replace(o,"").replace(a,"").toLowerCase();var e,r=!1;if(I[t])t=I[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=X.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=X.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=X.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=X.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=X.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=X.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=X.hex8.exec(t))return{r:B(e[1]),g:B(e[2]),b:B(e[3]),a:z(e[4]),format:r?"name":"hex8"};if(e=X.hex6.exec(t))return{r:B(e[1]),g:B(e[2]),b:B(e[3]),format:r?"name":"hex"};if(e=X.hex4.exec(t))return{r:B(e[1]+""+e[1]),g:B(e[2]+""+e[2]),b:B(e[3]+""+e[3]),a:z(e[4]+""+e[4]),format:r?"name":"hex8"};if(e=X.hex3.exec(t))return{r:B(e[1]+""+e[1]),g:B(e[2]+""+e[2]),b:B(e[3]+""+e[3]),format:r?"name":"hex"};return!1}(t));"object"==typeof t&&(V(t.r)&&V(t.g)&&V(t.b)?(d=t.r,p=t.g,g=t.b,e={r:255*N(d,255),g:255*N(p,255),b:255*N(g,255)},l=!0,f="%"===String(t.r).substr(-1)?"prgb":"rgb"):V(t.h)&&V(t.s)&&V(t.v)?(n=R(t.s),s=R(t.v),e=function(t,e,r){t=6*N(t,360),e=N(e,100),r=N(r,100);var n=i.floor(t),o=t-n,a=r*(1-e),s=r*(1-o*e),u=r*(1-(1-o)*e),h=n%6;return{r:255*[r,s,a,a,u,r][h],g:255*[u,r,r,s,a,a][h],b:255*[a,a,u,r,r,s][h]}}(t.h,n,s),l=!0,f="hsv"):V(t.h)&&V(t.s)&&V(t.l)&&(n=R(t.s),u=R(t.l),e=function(t,e,r){var n,i,o;function a(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(t=N(t,360),e=N(e,100),r=N(r,100),0===e)n=i=o=r;else{var s=r<.5?r*(1+e):r+e-r*e,u=2*r-s;n=a(u,s,t+1/3),i=a(u,s,t),o=a(u,s,t-1/3)}return{r:255*n,g:255*i,b:255*o}}(t.h,n,u),l=!0,f="hsl"),t.hasOwnProperty("a")&&(r=t.a));var d,p,g;return r=T(r),{ok:l,format:t.format||f,r:h(255,c(e.r,0)),g:h(255,c(e.g,0)),b:h(255,c(e.b,0)),a:r}}(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=u(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=r.ok,this._tc_id=s++}function d(t,e,r){t=N(t,255),e=N(e,255),r=N(r,255);var n,i,o=c(t,e,r),a=h(t,e,r),s=(o+a)/2;if(o==a)n=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case t:n=(e-r)/u+(e<r?6:0);break;case e:n=(r-t)/u+2;break;case r:n=(t-e)/u+4}n/=6}return{h:n,s:i,l:s}}function p(t,e,r){t=N(t,255),e=N(e,255),r=N(r,255);var n,i,o=c(t,e,r),a=h(t,e,r),s=o,u=o-a;if(i=0===o?0:u/o,o==a)n=0;else{switch(o){case t:n=(e-r)/u+(e<r?6:0);break;case e:n=(r-t)/u+2;break;case r:n=(t-e)/u+4}n/=6}return{h:n,s:i,v:s}}function g(t,e,r,n){var i=[j(u(t).toString(16)),j(u(e).toString(16)),j(u(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function v(t,e,r,n){return[j(L(n)),j(u(t).toString(16)),j(u(e).toString(16)),j(u(r).toString(16))].join("")}function y(t,e){e=0===e?0:e||10;var r=f(t).toHsl();return r.s-=e/100,r.s=D(r.s),f(r)}function m(t,e){e=0===e?0:e||10;var r=f(t).toHsl();return r.s+=e/100,r.s=D(r.s),f(r)}function x(t){return f(t).desaturate(100)}function b(t,e){e=0===e?0:e||10;var r=f(t).toHsl();return r.l+=e/100,r.l=D(r.l),f(r)}function w(t,e){e=0===e?0:e||10;var r=f(t).toRgb();return r.r=c(0,h(255,r.r-u(-e/100*255))),r.g=c(0,h(255,r.g-u(-e/100*255))),r.b=c(0,h(255,r.b-u(-e/100*255))),f(r)}function M(t,e){e=0===e?0:e||10;var r=f(t).toHsl();return r.l-=e/100,r.l=D(r.l),f(r)}function S(t,e){var r=f(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,f(r)}function _(t){var e=f(t).toHsl();return e.h=(e.h+180)%360,f(e)}function k(t){var e=f(t).toHsl(),r=e.h;return[f(t),f({h:(r+120)%360,s:e.s,l:e.l}),f({h:(r+240)%360,s:e.s,l:e.l})]}function E(t){var e=f(t).toHsl(),r=e.h;return[f(t),f({h:(r+90)%360,s:e.s,l:e.l}),f({h:(r+180)%360,s:e.s,l:e.l}),f({h:(r+270)%360,s:e.s,l:e.l})]}function C(t){var e=f(t).toHsl(),r=e.h;return[f(t),f({h:(r+72)%360,s:e.s,l:e.l}),f({h:(r+216)%360,s:e.s,l:e.l})]}function P(t,e,r){e=e||6,r=r||30;var n=f(t).toHsl(),i=360/r,o=[f(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,o.push(f(n));return o}function A(t,e){e=e||6;for(var r=f(t).toHsv(),n=r.h,i=r.s,o=r.v,a=[],s=1/e;e--;)a.push(f({h:n,s:i,v:o})),o=(o+s)%1;return a}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,r,n=this.toRgb();return t=n.r/255,e=n.g/255,r=n.b/255,.2126*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:i.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=T(t),this._roundA=u(100*this._a)/100,this},toHsv:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=p(this._r,this._g,this._b),e=u(360*t.h),r=u(100*t.s),n=u(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+n+"%)":"hsva("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=d(this._r,this._g,this._b),e=u(360*t.h),r=u(100*t.s),n=u(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+n+"%)":"hsla("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,r,n,i){var o=[j(u(t).toString(16)),j(u(e).toString(16)),j(u(r).toString(16)),j(L(n))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*N(this._r,255))+"%",g:u(100*N(this._g,255))+"%",b:u(100*N(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*N(this._r,255))+"%, "+u(100*N(this._g,255))+"%, "+u(100*N(this._b,255))+"%)":"rgba("+u(100*N(this._r,255))+"%, "+u(100*N(this._g,255))+"%, "+u(100*N(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(O[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+v(this._r,this._g,this._b,this._a),r=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var i=f(t);r="#"+v(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,n=this._a<1&&this._a>=0;return e||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(b,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(M,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(P,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},f.fromRatio=function(t,e){if("object"==typeof t){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]="a"===n?t[n]:R(t[n]));t=r}return f(t,e)},f.equals=function(t,e){return!(!t||!e)&&f(t).toRgbString()==f(e).toRgbString()},f.random=function(){return f.fromRatio({r:l(),g:l(),b:l()})},f.mix=function(t,e,r){r=0===r?0:r||50;var n=f(t).toRgb(),i=f(e).toRgb(),o=r/100;return f({r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a})},f.readability=function(t,e){var r=f(t),n=f(e);return(i.max(r.getLuminance(),n.getLuminance())+.05)/(i.min(r.getLuminance(),n.getLuminance())+.05)},f.isReadable=function(t,e,r){var n,i,o=f.readability(t,e);switch(i=!1,(n=function(t){var e,r;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==r&&"large"!==r&&(r="small");return{level:e,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},f.mostReadable=function(t,e,r){var n,i,o,a,s=null,u=0;i=(r=r||{}).includeFallbackColors,o=r.level,a=r.size;for(var h=0;h<e.length;h++)(n=f.readability(t,e[h]))>u&&(u=n,s=f(e[h]));return f.isReadable(t,s,{level:o,size:a})||!i?s:(r.includeFallbackColors=!1,f.mostReadable(t,["#fff","#000"],r))};var I=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=f.hexNames=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}(I);function T(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function N(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=h(e,c(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function D(t){return h(1,c(0,t))}function B(t){return parseInt(t,16)}function j(t){return 1==t.length?"0"+t:""+t}function R(t){return t<=1&&(t=100*t+"%"),t}function L(t){return i.round(255*parseFloat(t)).toString(16)}function z(t){return B(t)/255}var F,Y,G,X=(Y="[\\s|\\(]+("+(F="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",G="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",{CSS_UNIT:new RegExp(F),rgb:new RegExp("rgb"+Y),rgba:new RegExp("rgba"+G),hsl:new RegExp("hsl"+Y),hsla:new RegExp("hsla"+G),hsv:new RegExp("hsv"+Y),hsva:new RegExp("hsva"+G),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(t){return!!X.CSS_UNIT.exec(t)}t.exports?t.exports=f:void 0===(n=function(){return f}.call(e,r,e,t))||(t.exports=n)}(Math)},9143:(t,e,r)=>{"use strict";r.d(e,{default:()=>Ch});var n={};r.r(n),r.d(n,{calculationItemsBBox:()=>k,cloneEvent:()=>M,formatPadding:()=>w,isNaN:()=>_,isViewportChanged:()=>S,processParallelEdges:()=>E});var i={};r.r(i),r.d(i,{getColorsWithSubjectColor:()=>X,mixColor:()=>G});var o={};r.r(o),r.d(o,{Line:()=>Qt,applyMatrix:()=>jt,distance:()=>zt,floydWarshall:()=>Yt,fractionToLine:()=>re,getAdjMatrix:()=>Gt,getBBoxBoundLine:()=>Jt,getCircleCenterByPoints:()=>Lt,getCircleIntersectByPoint:()=>Dt,getDegree:()=>Wt,getEllipseIntersectByPoint:()=>Bt,getLineIntersect:()=>Tt,getPointsCenter:()=>ne,getRectIntersectByPoint:()=>Nt,intersectBBox:()=>Kt,invertMatrix:()=>Rt,isPointInPolygon:()=>Zt,isPointsOverlap:()=>ae,isPolygonsIntersect:()=>$t,itemIntersectByLine:()=>ee,move:()=>Vt,pointLineSquareDist:()=>oe,pointRectSquareDist:()=>se,rotate:()=>qt,scale:()=>Ht,scaleMatrix:()=>Ft,squareDist:()=>ie,translate:()=>Xt});var a={};r.r(a),r.d(a,{getClosedSpline:()=>ye,getControlPoint:()=>pe,getSpline:()=>de,paddedHull:()=>Me,pathToPoints:()=>ve,pointsToPolygon:()=>ge,roundedHull:()=>we});var s={};r.r(s),r.d(s,{getBBox:()=>Je,getChartRegion:()=>fr,getComboBBox:()=>lr,getLabelPosition:()=>er,getLetterWidth:()=>sr,getLoopCfgs:()=>tr,getTextSize:()=>ur,plainCombosToTrees:()=>hr,radialLayout:()=>ar,reconstructTree:()=>cr,traverseTree:()=>ir,traverseTreeUp:()=>or});var u={};r.r(u),r.d(u,{assign:()=>Na,default:()=>Ja,defaultI18n:()=>Ra,format:()=>$a,parse:()=>Qa,setGlobalDateI18n:()=>za,setGlobalDateMasks:()=>Ka});var h={};r.r(h),r.d(h,{adjMatrix:()=>no,breadthFirstSearch:()=>Bu,degree:()=>Qi,depthFirstSearch:()=>Nu,detectAllCycles:()=>Fu,detectAllDirectedCycle:()=>zu,detectAllUndirectedCycle:()=>Lu,detectDirectedCycle:()=>Yu,findAllPath:()=>Vu,findShortestPath:()=>Xu,floydWarshall:()=>io,getConnectedComponents:()=>Ru,getPageRank:()=>$u,minimumSpanningTree:()=>Ku});var c=r(85053),l=r(78724);const f={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(t){var e=this,r=this.events;this.graph=t,"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||t.get("canvas").set("draggable",!0),(0,c.default)(r,(function(e,r){t.on(r,e)})),document.addEventListener("visibilitychange",(function(){e.keydown=!1}))},unbind:function(t){var e=this.events;"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||t.get("canvas").set("draggable",!1),(0,c.default)(e,(function(e,r){t.off(r,e)}))},get:function(t){return this[t]},set:function(t,e){return this[t]=e,this}};const d=function(){function t(){}return t.registerBehavior=function(e,r){if(!r)throw new Error("please specify handler for this behavior: "+e);var n=(0,l.d9)(f);Object.assign(n,r);var i=function(t){var e=this;Object.assign(this,this.getDefaultCfg(),t);var r=this.getEvents();this.events=null;var n={};r&&((0,l.S6)(r,(function(t,r){n[r]=(0,l.Ko)(e,t)})),this.events=n)};i.prototype=n,t.types[e]=i},t.hasBehavior=function(e){return!!t.types[e]},t.getBehavior=function(e){return t.types[e]},t.types={},t}();var p;!function(t){t.CLICK="click",t.DBLCLICK="dblclick",t.MOUSEDOWN="mousedown",t.MOUDEUP="mouseup",t.CONTEXTMENU="contextmenu",t.MOUSEENTER="mouseenter",t.MOUSEOUT="mouseout",t.MOUSEOVER="mouseover",t.MOUSEMOVE="mousemove",t.MOUSELEAVE="mouseleave",t.DRAGSTART="dragstart",t.DRAGEND="dragend",t.DRAG="drag",t.DRAGENTER="dragenter",t.DRAGLEAVE="dragleave",t.DRAGOVER="dragover",t.DRAGOUT="dragout",t.DDROP="drop",t.KEYUP="keyup",t.KEYDOWN="keydown",t.WHEEL="wheel",t.FOCUS="focus",t.BLUR="blur",t.TOUCHSTART="touchstart",t.TOUCHMOVE="touchmove",t.TOUCHEND="touchend",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_CLICK="node:click",t.NODE_DBLCLICK="node:dblclick",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEOUT="node:mouseout",t.NODE_MOUSEOVER="node:mouseover",t.NODE_DROP="node:drop",t.NODE_DRAGOVER="node:dragover",t.NODE_DRAGENTER="node:dragenter",t.NODE_DRAGLEAVE="node:dragleave",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DRAGEND="node:dragend",t.COMBO_CONTEXTMENU="combo:contextmenu",t.COMBO_CLICK="combo:click",t.COMBO_DBLCLICK="combo:dblclick",t.COMBO_MOUSEDOWN="combo:mousedown",t.COMBO_MOUSEUP="combo:mouseup",t.COMBO_MOUSEENTER="combo:mouseenter",t.COMBO_MOUSELEAVE="combo:mouseleave",t.COMBO_MOUSEMOVE="combo:mousemove",t.COMBO_MOUSEOUT="combo:mouseout",t.COMBO_MOUSEOVER="combo:mouseover",t.COMBO_DROP="combo:drop",t.COMBO_DRAGOVER="combo:dragover",t.COMBO_DRAGENTER="combo:dragenter",t.COMBO_DRAGLEAVE="combo:dragleave",t.COMBO_DRAGSTART="combo:dragstart",t.COMBO_DRAG="combo:drag",t.COMBO_DRAGEND="combo:dragend",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_CLICK="edge:click",t.EDGE_DBLCLICK="edge:dblclick",t.EDGE_MOUSEDOWN="edge:mousedown",t.EDGE_MOUSEUP="edge:mouseup",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_MOUSEMOVE="edge:mousemove",t.EDGE_MOUSEOUT="edge:mouseout",t.EDGE_MOUSEOVER="edge:mouseover",t.EDGE_DROP="edge:drop",t.EDGE_DRAGOVER="edge:dragover",t.EDGE_DRAGENTER="edge:dragenter",t.EDGE_DRAGLEAVE="edge:dragleave",t.CANVAS_CONTEXTMENU="canvas:contextmenu",t.CANVAS_CLICK="canvas:click",t.CANVAS_DBLCLICK="canvas:dblclick",t.CANVAS_MOUSEDOWN="canvas:mousedown",t.CANVAS_MOUSEUP="canvas:mouseup",t.CANVAS_MOUSEENTER="canvas:mouseenter",t.CANVAS_MOUSELEAVE="canvas:mouseleave",t.CANVAS_MOUSEMOVE="canvas:mousemove",t.CANVAS_MOUSEOUT="canvas:mouseout",t.CANVAS_MOUSEOVER="canvas:mouseover",t.CANVAS_DROP="canvas:drop",t.CANVAS_DRAGENTER="canvas:dragenter",t.CANVAS_DRAGLEAVE="canvas:dragleave",t.CANVAS_DRAGSTART="canvas:dragstart",t.CANVAS_DRAG="canvas:drag",t.CANVAS_DRAGEND="canvas:dragend",t.BEFORERENDER="beforerender",t.AFTERRENDER="afterrender",t.BEFOREADDITEM="beforeadditem",t.AFTERADDITEM="afteradditem",t.BEFOREREMOVEITEM="beforeremoveitem",t.AFTERREMOVEITEM="afterremoveitem",t.BEFOREUPDATEITEM="beforeupdateitem",t.AFTERUPDATEITEM="afterupdateitem",t.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",t.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",t.BEFOREITEMSTATECHANGE="beforeitemstatechange",t.AFTERITEMSTATECHANGE="afteritemstatechange",t.BEFOREITEMREFRESH="beforeitemrefresh",t.AFTERITEMREFRESH="afteritemrefresh",t.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",t.AFTERITEMSTATESCLEAR="afteritemstatesclear",t.BEFOREMODECHANGE="beforemodechange",t.AFTERMODECHANGE="aftermodechange",t.BEFORELAYOUT="beforelayout",t.AFTERLAYOUT="afterlayout",t.BEFORECREATEEDGE="beforecreateedge",t.AFTERCREATEEDGE="aftercreateedge",t.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",t.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",t.BEFOREGRAPHREFRESH="beforegraphrefresh",t.AFTERGRAPHREFRESH="aftergraphrefresh",t.BEFOREANIMATE="beforeanimate",t.AFTERANIMATE="afteranimate",t.BEFOREPAINT="beforepaint",t.AFTERPAINT="afterpaint",t.GRAPHSTATECHANGE="graphstatechange",t.AFTERACTIVATERELATIONS="afteractivaterelations",t.NODESELECTCHANGE="nodeselectchange",t.TOOLTIPCHANGE="tooltipchange",t.WHEELZOOM="wheelzoom",t.VIEWPORTCHANGE="viewportchange",t.DRAGNODEEND="dragnodeend",t.STACKCHANGE="stackchange"}(p||(p={}));var g=r(25007),v=r(95877),y=r(59260),m=r(41581),x=r(40466),b=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.item=r.item,n.canvasX=r.canvasX,n.canvasY=r.canvasY,n.wheelDelta=r.wheelDelta,n.detail=r.detail,n}return(0,x.__extends)(e,t),e}(r(7284).Z),w=function(t){var e=0,r=0,n=0,i=0;if((0,y.default)(t))e=r=n=i=t;else if((0,m.default)(t)){e=r=n=i=parseInt(t,10)}else(0,g.default)(t)&&(e=t[0],n=(0,v.default)(t[1])?t[0]:t[1],i=(0,v.default)(t[2])?t[0]:t[2],r=(0,v.default)(t[3])?n:t[3]);return[e,n,i,r]},M=function(t){var e=new b(t.type,t);return e.clientX=t.clientX,e.clientY=t.clientY,e.x=t.x,e.y=t.y,e.target=t.target,e.currentTarget=t.currentTarget,e.bubbles=!0,e.item=t.item,e},S=function(t){if(!t)return!1;for(var e=[1,0,0,0,1,0,0,0,1],r=0;r<9;r++)if(t[r]!==e[r])return!0;return!1},_=function(t){return Number.isNaN(Number(t))},k=function(t){for(var e=1/0,r=-1/0,n=1/0,i=-1/0,o=0;o<t.length;o++){var a=t[o].getBBox(),s=a.minX,u=a.minY,h=a.maxX,c=a.maxY;s<e&&(e=s),u<n&&(n=u),h>r&&(r=h),c>i&&(i=c)}return{x:Math.floor(e),y:Math.floor(n),width:Math.ceil(r)-Math.floor(e),height:Math.ceil(i)-Math.floor(n),minX:e,minY:n,maxX:r,maxY:i}},E=function(t,e){void 0===e&&(e=15);for(var r=t.length,n=2*e,i=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],o={},a=[],s={},u=0;u<r;u++){var h=t[u],c=h.source,l=h.target,f=c+"-"+l;if(!a[u]){o[f]||(o[f]=[]),a[u]=!0,o[f].push(h);for(var d=0;d<r;d++)if(u!==d){var p=t[d],g=p.source,v=p.target;a[d]||(c===v&&l===g?(o[f].push(p),a[d]=!0,s[g+"|"+v+"|"+(o[f].length-1)]=!0):c===g&&l===v&&(o[f].push(p),a[d]=!0))}}}for(var y in o)for(var m=o[y],x=m.length,b=0;b<x;b++){var w=m[b];if(w.source!==w.target){w.type="quadratic";var M=(b%2==0?1:-1)*(s[w.source+"|"+w.target+"|"+b]?-1:1);w.curveOffset=x%2==1?M*Math.ceil(b/2)*n:M*(Math.floor(b/2)*n+e)}else w.type="loop",w.loopCfg={position:i[b%8],dist:20*Math.floor(b/8)+50}}return t},C=Math.abs,P=["shift","ctrl","alt","control"];const A={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(t){var e=this.origin,r=+t.clientX,n=+t.clientY;if(!_(r)&&!_(n)){var i=r-e.x,o=n-e.y;"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(i=0),this.origin={x:r,y:n};var a=this.graph.get("width"),s=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox();(u.minX<=a+this.scalableRange&&u.minX+i>a+this.scalableRange||u.maxX+this.scalableRange>=0&&u.maxX+this.scalableRange+i<0)&&(i=0),(u.minY<=s+this.scalableRange&&u.minY+o>s+this.scalableRange||u.maxY+this.scalableRange>=0&&u.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(i,o)}},onMouseDown:function(t){var e=this,r=t.originalEvent;if((!r||0===r.button)&&(t.name===p.TOUCHSTART||!window||!window.event||"undefined"==typeof window||window.event.buttons||window.event.button)&&!e.keydown&&!t.shape&&(e.origin={x:t.clientX,y:t.clientY},e.dragging=!1,this.enableOptimize)){for(var n=this.graph,i=n.getEdges(),o=0,a=i.length;o<a;o++){var s=i[o].get("group").get("children");s&&s.forEach((function(t){t.hide()}))}for(var u=n.getNodes(),h=0,c=u.length;h<c;h++)for(var l=0,f=u[h].getContainer().get("children");l<f.length;l++){var d=f[l];d.get("isKeyShape")||d.hide()}}},onMouseMove:function(t){var e=this.graph;if(!this.keydown&&!t.shape&&(t=M(t),this.origin)){if(this.dragging)t.type="drag",e.emit("canvas:drag",t);else{if(C(this.origin.x-t.clientX)+C(this.origin.y-t.clientY)<10)return;this.shouldBegin.call(this,t)&&(t.type="dragstart",e.emit("canvas:dragstart",t),this.dragging=!0)}this.shouldUpdate.call(this,t)&&this.updateViewport(t)}},onMouseUp:function(t){var e=this.graph;if(!this.keydown&&!t.shape){if(this.enableOptimize){for(var r=e.getEdges(),n=0,i=r.length;n<i;n++){var o=r[n].get("group").get("children");o&&o.forEach((function(t){t.show()}))}for(var a=e.getNodes(),s=0,u=a.length;s<u;s++)for(var h=0,c=a[s].getContainer().get("children");h<c.length;h++){var l=c[h];l.get("isKeyShape")||l.show()}}this.dragging?(t=M(t),this.shouldEnd.call(this,t)&&this.updateViewport(t),t.type="dragend",e.emit("canvas:dragend",t),this.endDrag()):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(t){var e=t.key;e&&(P.indexOf(e.toLowerCase())>-1?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}};var I=r(90112),O=r.n(I),T=r(29231),N=r.n(T),D=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function B(t,e,r){var n;return(n=Math.round(t.h)>=60&&Math.round(t.h)<=240?r?Math.round(t.h)-2*e:Math.round(t.h)+2*e:r?Math.round(t.h)+2*e:Math.round(t.h)-2*e)<0?n+=360:n>=360&&(n-=360),n}function j(t,e,r){return 0===t.h&&0===t.s?t.s:((n=r?t.s-.16*e:4===e?t.s+.16:t.s+.05*e)>1&&(n=1),r&&5===e&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2)));var n}function R(t,e,r){var n;return(n=r?t.v+.05*e:t.v-.15*e)>1&&(n=1),Number(n.toFixed(2))}function L(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],n=N()(t),i=5;i>0;i-=1){var o=n.toHsv(),a=N()({h:B(o,i,!0),s:j(o,i,!0),v:R(o,i,!0)}).toHexString();r.push(a)}r.push(n.toHexString());for(var s=1;s<=4;s+=1){var u=n.toHsv(),h=N()({h:B(u,s),s:j(u,s),v:R(u,s)}).toHexString();r.push(h)}return"dark"===e.theme?D.map((function(t){var n=t.index,i=t.opacity;return N().mix(e.backgroundColor||"#141414",r[n],100*i).toHexString()})):r}var z={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},F={},Y={};Object.keys(z).forEach((function(t){F[t]=L(z[t]),F[t].primary=F[t][5],Y[t]=L(z[t],{theme:"dark",backgroundColor:"#141414"}),Y[t].primary=Y[t][5]}));F.red,F.volcano,F.gold,F.orange,F.yellow,F.lime,F.green,F.cyan,F.blue,F.geekblue,F.purple,F.magenta,F.grey;var G=function(t,e,r){var n=O()(t),i=O()(e);return O()([(1-r)*n.color[0]+r*i.color[0],(1-r)*n.color[1]+r*i.color[1],(1-r)*n.color[2]+r*i.color[2]]).rgb()},X=function(t,e,r,n){void 0===e&&(e="#fff"),void 0===r&&(r="default"),void 0===n&&(n="rgb(150, 150, 150)");var i=G(e,t,.05).rgb().toString(),o=G(e,n,.02).rgb().toString(),a=G(e,n,.05).rgb().toString(),s=G(e,n,.1).rgb().toString(),u=G(e,n,.2).rgb().toString(),h=G(e,n,.3).rgb().toString(),c=L(t,{theme:r,backgroundColor:e}),l=O()(t).hex().toLowerCase(),f=c.indexOf(l),d=t;return-1!==f&&(d=c[f+1]),{mainStroke:t,mainFill:G(e,t,.1).rgb().toString(),activeStroke:t,activeFill:i,inactiveStroke:G(e,t,.4).rgb().toString(),inactiveFill:i,selectedStroke:t,selectedFill:e,highlightStroke:d,highlightFill:G(e,t,.2).rgb().toString(),disableStroke:h,disableFill:a,edgeMainStroke:h,edgeActiveStroke:t,edgeInactiveStroke:u,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:s,comboMainStroke:h,comboMainFill:o,comboActiveStroke:t,comboActiveFill:i,comboInactiveStroke:h,comboInactiveFill:o,comboSelectedStroke:t,comboSelectedFill:o,comboHighlightStroke:d,comboHighlightFill:o,comboDisableStroke:u,comboDisableFill:a}},V="rgb(0, 0, 0)",H=X("rgb(95, 149, 255)","rgb(255, 255, 255)");const q={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:H.mainStroke,fill:H.mainFill},size:20,color:H.mainStroke,linkPoints:{size:8,lineWidth:1,fill:H.activeFill,stroke:H.activeStroke}},nodeStateStyles:{active:{fill:H.activeFill,stroke:H.activeStroke,lineWidth:2,shadowColor:H.mainStroke,shadowBlur:10},selected:{fill:H.selectedFill,stroke:H.selectedStroke,lineWidth:4,shadowColor:H.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:H.highlightFill,stroke:H.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:H.inactiveFill,stroke:H.inactiveStroke,lineWidth:1},disable:{fill:H.disableFill,stroke:H.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:V,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:H.edgeMainStroke,lineAppendWidth:2},color:H.edgeMainStroke},edgeStateStyles:{active:{stroke:H.edgeActiveStroke,lineWidth:1},selected:{stroke:H.edgeSelectedStroke,lineWidth:2,shadowColor:H.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:H.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:H.edgeInactiveStroke,lineWidth:1},disable:{stroke:H.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:V,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:H.comboMainFill,lineWidth:1,stroke:H.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:H.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:H.comboActiveStroke,lineWidth:1,fill:H.comboActiveFill},selected:{stroke:H.comboSelectedStroke,lineWidth:2,fill:H.comboSelectedFill,shadowColor:H.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:H.comboHighlightStroke,lineWidth:2,fill:H.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:H.comboInactiveStroke,fill:H.comboInactiveFill,lineWidth:1},disable:{stroke:H.comboDisableStroke,fill:H.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},W={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(t){return!(!this.origin||!t||t.destroyed)&&"combo"===t.getType()},onDragStart:function(t){var e=this;if(this.shouldBegin.call(this,t)){var r=t.item;if(r&&!r.destroyed&&!r.hasLocked()){r.getContainer().set("capture",!1);var n=t.target;if(n)if(n.get("isAnchorPoint"))return;var i=this.graph;this.targets=[],this.targetCombo=null;var o=i.findAllByState("node",this.selectedState),a=r.get("id");0===o.filter((function(t){var e=t.get("id");return a===e})).length?this.targets.push(r):o.length>1?o.forEach((function(t){t.hasLocked()||e.targets.push(t)})):this.targets.push(r);var s=[];this.targets.forEach((function(t){s.push((0,l.d9)(t.getModel()))})),this.set("beforeDragNodes",s),this.origin={x:t.x,y:t.y},this.point={},this.originPoint={}}}},onDrag:function(t){var e=this;this.origin&&this.shouldUpdate(this,t)&&(this.get("enableDelegate")?this.updateDelegate(t):this.targets.map((function(r){e.update(r,t)})))},onDragEnd:function(t){if(this.origin&&this.shouldEnd.call(this,t)){var e=t.item;if(e)e.getContainer().set("capture",!0);this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(t);var r=this.graph;if(r.get("enabledStack")){var n={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach((function(t){n.after.nodes.push(t.getModel())})),r.pushStack("update",(0,l.d9)(n))}r.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(t){var e=t.item;if(this.validationCombo(e)){this.updatePositions(t);var r=this.graph;if(this.comboActiveState&&r.setItemState(e,this.comboActiveState,!1),this.targetCombo=e,this.onlyChangeComboSize)r.updateCombos();else{var n=e.getModel();this.targets.map((function(t){t.getModel().comboId!==n.id&&r.updateComboTree(t,n.id)})),r.updateCombo(e)}r.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(t){var e=this.graph;this.targets&&0!==this.targets.length&&(this.updatePositions(t),this.onlyChangeComboSize?e.updateCombos():this.targets.map((function(t){t.getModel().comboId&&e.updateComboTree(t)})))},onDropNode:function(t){if(this.targets&&0!==this.targets.length){var e=this,r=t.item;this.updatePositions(t);var n=e.graph,i=r.getModel().comboId;if(i){var o=n.findById(i);e.comboActiveState&&n.setItemState(o,e.comboActiveState,!1),this.targets.map((function(t){var e=t.getModel();i!==e.comboId&&n.updateComboTree(t,i)})),n.updateCombo(o)}else this.targets.map((function(t){t.getModel().comboId&&n.updateComboTree(t)}));n.emit("dragnodeend",{items:this.targets,targetItem:r})}},onDragEnter:function(t){var e=t.item;if(this.validationCombo(e)){var r=this.graph;this.comboActiveState&&r.setItemState(e,this.comboActiveState,!0)}},onDragLeave:function(t){var e=t.item;if(this.validationCombo(e)){var r=this.graph;this.comboActiveState&&r.setItemState(e,this.comboActiveState,!1)}},updatePositions:function(t){var e=this;this.targets&&0!==this.targets.length&&this.get("enableDelegate")&&this.targets.map((function(r){return e.update(r,t)}))},update:function(t,e){var r=this.origin,n=t.get("model"),i=t.get("id");this.point[i]||(this.point[i]={x:n.x||0,y:n.y||0});var o={x:e.x-r.x+this.point[i].x,y:e.y-r.y+this.point[i].y};this.get("updateEdge")?this.graph.updateItem(t,o,!1):t.updatePosition(o)},updateDelegate:function(t){this.graph;if(this.delegateRect){var e=t.x-this.origin.x+this.originPoint.minX,r=t.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:e,y:r})}else{var n=this.graph.get("group"),i=(0,l.b$)({},q.delegateStyle,this.delegateStyle),o=this.calculationGroupPosition(t),a=o.x,s=o.y,u=o.width,h=o.height,c=o.minX,f=o.minY;this.originPoint={x:a,y:s,width:u,height:h,minX:c,minY:f},this.delegateRect=n.addShape("rect",{attrs:(0,x.__assign)({width:u,height:h,x:a,y:s},i),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(t){var e=this.graph.findAllByState("node",this.selectedState);0===e.length&&e.push(t.item);for(var r=1/0,n=-1/0,i=1/0,o=-1/0,a=0;a<e.length;a++){var s=e[a].getBBox(),u=s.minX,h=s.minY,c=s.maxX,l=s.maxY;u<r&&(r=u),h<i&&(i=h),c>n&&(n=c),l>o&&(o=l)}return{x:Math.floor(r),y:Math.floor(i),width:Math.ceil(n)-Math.floor(r),height:Math.ceil(o)-Math.floor(i),minX:r,minY:i}}};var U=Math.min,Z=Math.max,K=Math.abs,$="shift",Q=["drag","shift","ctrl","alt","control"];const J={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:$,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return Q.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=$,console.warn("Behavior brush-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),"drag"===this.trigger?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(t){var e=t.item,r=this.brush;e||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),r||(r=this.createBrush()),this.originPoint={x:t.canvasX,y:t.canvasY},r.attr({width:0,height:0}),r.show(),this.dragging=!0)},onMouseMove:function(t){this.dragging&&("drag"===this.trigger||this.keydown)&&this.updateBrush(t)},onMouseUp:function(t){this.graph;(this.brush||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(t),this.dragging=!1)},clearStates:function(){var t=this.graph,e=this.selectedState,r=t.findAllByState("node",e),n=t.findAllByState("edge",e);r.forEach((function(r){return t.setItemState(r,e,!1)})),n.forEach((function(r){return t.setItemState(r,e,!1)})),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(t){var e=this,r=this,n=r.graph,i=r.originPoint,o=r.shouldUpdate,a=this.selectedState,s={x:t.x,y:t.y},u=n.getPointByCanvas(i.x,i.y),h=U(s.x,u.x),c=Z(s.x,u.x),l=U(s.y,u.y),f=Z(s.y,u.y),d=[],p=[];n.getNodes().forEach((function(t){var e=t.getBBox();if(e.centerX>=h&&e.centerX<=c&&e.centerY>=l&&e.centerY<=f&&o(t,"select")){d.push(t);var r=t.getModel();p.push(r.id),n.setItemState(t,a,!0)}}));var g=[];this.includeEdges&&d.forEach((function(t){t.getOutEdges().forEach((function(t){var r=t.getModel(),i=r.source,a=r.target;p.includes(i)&&p.includes(a)&&o(t,"select")&&(g.push(t),n.setItemState(t,e.selectedState,!0))}))})),this.selectedEdges=g,this.selectedNodes=d,this.onSelect&&this.onSelect(d,g),n.emit("nodeselectchange",{selectedItems:{nodes:d,edges:g},select:!0})},createBrush:function(){var t=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,t},updateBrush:function(t){var e=this.originPoint;this.brush.attr({width:K(t.canvasX-e.x),height:K(t.canvasY-e.y),x:U(t.canvasX,e.x),y:U(t.canvasY,e.y)})},onKeyDown:function(t){var e=t.key;if(e){var r=this.trigger.toLowerCase(),n=e.toLowerCase();this.keydown=n===r||"control"===n&&"ctrl"===r||"ctrl"===n&&"control"===r}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}};var tt="shift",et=["shift","ctrl","alt","control"];const rt={getDefaultCfg:function(){return{multiple:!0,trigger:tt,selectedState:"selected"}},getEvents:function(){var t=this;return et.indexOf(t.trigger.toLowerCase())>-1||(t.trigger=tt,console.warn("Behavior brush-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),t.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(t){var e=this,r=t.item;if(r&&!r.destroyed){var n=r.getType(),i=this,o=i.graph,a=i.keydown,s=i.multiple,u=i.shouldUpdate;if(i.shouldBegin.call(this,t)){if(!a||!s){var h=o.findAllByState(n,this.selectedState);(0,c.default)(h,(function(t){t!==r&&o.setItemState(t,e.selectedState,!1)}))}if(r.hasState(this.selectedState)){u.call(this,t)&&o.setItemState(r,this.selectedState,!1);var l=o.findAllByState("node",this.selectedState),f=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:r,selectedItems:{nodes:l,combos:f},select:!1})}else{u.call(this,t)&&o.setItemState(r,this.selectedState,!0);l=o.findAllByState("node",this.selectedState),f=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:r,selectedItems:{nodes:l,combos:f},select:!0})}}}},onCanvasClick:function(){var t=this,e=this.graph,r=e.findAllByState("node",this.selectedState);(0,c.default)(r,(function(r){e.setItemState(r,t.selectedState,!1)}));var n=e.findAllByState("combo",this.selectedState);(0,c.default)(n,(function(r){e.setItemState(r,t.selectedState,!1)})),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.trigger.toLowerCase()||"control"===e.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}};var nt=r(25519);nt.translate=function(t,e,r){var n=new Array(9);return nt.fromTranslation(n,r),nt.multiply(t,n,e)},nt.rotate=function(t,e,r){var n=new Array(9);return nt.fromRotation(n,r),nt.multiply(t,n,e)},nt.scale=function(t,e,r){var n=new Array(9);return nt.fromScaling(n,r),nt.multiply(t,n,e)},nt.transform=function(t,e){for(var r=[].concat(t),n=0,i=e.length;n<i;n++){var o=e[n];switch(o[0]){case"t":nt.translate(r,r,[o[1],o[2]]);break;case"s":nt.scale(r,r,[o[1],o[2]]);break;case"r":nt.rotate(r,r,o[1])}}return r};const it=nt;var ot=r(8554),at=r(84677);ot.angle=function(t,e){var r=ot.dot(t,e)/(ot.length(t)*ot.length(e));return Math.acos((0,at.clamp)(r,-1,1))},ot.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},ot.angleTo=function(t,e,r){var n=ot.angle(t,e),i=ot.direction(t,e)>=0;return r?i?2*Math.PI-n:n:i?n:2*Math.PI-n},ot.vertical=function(t,e,r){return r?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t};const st=ot;const ut=r(54069),ht=function(t,e){var r=t?(0,at.clone)(t):[1,0,0,0,1,0,0,0,1];return(0,at.each)(e,(function(t){switch(t[0]){case"t":it.translate(r,r,[t[1],t[2]]);break;case"s":it.scale(r,r,[t[1],t[2]]);break;case"r":it.rotate(r,r,t[1]);break;case"m":it.multiply(r,r,t[1]);break;default:return!1}})),r};const ct={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var t=this.fixSelectedItems;return t.fixState||(t.fixState="selected"),t.fixAll&&(t.fixLineWidth=!0,t.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(t){var e=t.originalEvent.touches,r=e[0],n=e[1];t.preventDefault(),n&&(this.startPoint={pageX:r.pageX,pageY:r.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(t){if(this.moveable){t.preventDefault();var e=t.originalEvent.touches,r=e[0],n=e[1];if(n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var i=function(t,e){return Math.hypot(e.x-t.x,e.y-t.y)},o=i({x:r.pageX,y:r.pageY},{x:n.pageX,y:n.pageY})/i({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),a=this.originScale*o;this.currentScale=a;var s=this.get("minZoom")||this.graph.get("minZoom");if(!(a>(this.get("maxZoom")||this.graph.get("maxZoom"))||a<s)){var u=this.graph.get("canvas").getPointByClient(t.clientX,t.clientY);this.graph.zoomTo(a,{x:u.x,y:u.y}),this.graph.emit("wheelzoom",t)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(t){var e=this,r=this.graph,n=this.fixSelectedItems;if(this.shouldUpdate.call(this,t)){t.preventDefault();var i,o=r.get("canvas").getPointByClient(t.clientX,t.clientY),a=this.get("sensitivity"),s=r.getZoom();i=s*(t.wheelDelta<0?1-.05*a:1/(1-.05*a));var u=this.get("minZoom")||r.get("minZoom");if(!(i>(this.get("maxZoom")||r.get("maxZoom"))||i<u)){if(this.get("enableOptimize")){var h=this.get("optimizeZoom"),c=this.get("optimized"),l=r.getNodes(),f=r.getEdges(),d=l.length,p=f.length;if(!c){for(var g=0;g<d;g++){if(!(k=l[g]).destroyed)for(var v=(W=k.get("group").get("children")).length,y=0;y<v;y++){(B=W[y]).destoryed||B.get("isKeyShape")||B.hide()}}for(var m=0;m<p;m++)for(v=(W=(q=f[m]).get("group").get("children")).length,y=0;y<v;y++){(B=W[y]).hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var x=setTimeout((function(){var t=r.getZoom();if(e.get("optimized")){e.set("optimized",!1);for(var n=0;n<d;n++){var i=l[n],o=(u=i.get("group").get("children")).length;if(t<h)i.getKeyShape().show();else for(var a=0;a<o;a++){(g=u[a]).get("visible")||g.show()}}for(var s=0;s<p;s++){var u,c=f[s];o=(u=c.get("group").get("children")).length;if(t<h)c.getKeyShape().show();else for(a=0;a<o;a++){var g;(g=u[a]).get("visible")||g.show()}}}}),500);this.set("timeout",x)}if(s<=1){var b=void 0,w=void 0;if(n.fixAll||n.fixLineWidth||n.fixLabel){b=r.findAllByState("node",n.fixState),w=r.findAllByState("edge",n.fixState);for(var M=s/i,S=b.length,_=0;_<S;_++){var k,E=(k=b[_]).getContainer(),C=k.getModel(),P=k.getOriginStyle(),A=k.getStateStyle(n.fixState),I=k.get("shapeFactory").getShape(C.shape||C.type).getStateStyle(n.fixState,k)[n.fixState];if(n.fixAll){if(i<=1){var O=(0,at.clone)(E.getMatrix());O||(O=[1,0,0,0,1,0,0,0,1]);var T=k.getModel(),N=T.x,D=T.y;it.translate(O,O,[-N,-D]),it.scale(O,O,[M,M]),it.translate(O,O,[N,D]),E.setMatrix(O)}}else for(v=(W=E.get("children")).length,y=0;y<v;y++){var B=W[y],j=void 0,R=void 0;if(n.fixLabel)if("text"===B.get("type")){j=B.attr("fontSize")||12;var L=A[B.get("name")],z=I[B.get("name")],F=L?L.fontSize:12,Y=z?z.fontSize:12,G=F||Y||12;if(i<=1&&B.attr("fontSize",G/i),R)break}if(n.fixLineWidth&&B.get("isKeyShape")){R=B.attr("lineWidth")||0;var X=A.lineWidth||I.lineWidth||P.lineWidth||0;if(i<=1&&B.attr("lineWidth",X/i),j)break}}}for(var V=w.length,H=0;H<V;H++){var q,W=(E=(q=w[H]).getContainer()).get("children");for(C=q.getModel(),A=q.getStateStyle(n.fixState),I=q.get("shapeFactory").getShape(C.shape||C.type).getStateStyle(n.fixState,q)[n.fixState],v=W.length,y=0;y<v;y++){B=W[y],j=void 0,R=void 0;if(n.fixLabel||n.fixAll)if("text"===B.get("type")){j=B.attr("fontSize")||12;L=A[B.get("name")],z=I[B.get("name")],F=L?L.fontSize:12,Y=z?z.fontSize:12,G=F||Y||12;if(i<=1&&B.attr("fontSize",G/i),R)break}if((n.fixLineWidth||n.fixAll)&&B.get("isKeyShape")){R=B.attr("lineWidth")||0;X=A.lineWidth||I.lineWidth||1;if(i<=1&&B.attr("lineWidth",X/i),j)break}}}}}r.zoomTo(i,{x:o.x,y:o.y}),r.emit("wheelzoom",t)}}}};var lt=r(61586),ft=r(27566);const dt={onMouseEnter:function(t){var e=t.item;this.currentTarget=e,this.showTooltip(t),this.graph.emit("tooltipchange",{item:t.item,action:"show"})},onMouseMove:function(t){this.shouldUpdate(t)?this.currentTarget&&t.item===this.currentTarget&&this.updatePosition(t):this.hideTooltip()},onMouseLeave:function(t){this.shouldEnd(t)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(t){var e=this.container;if(t.item&&!t.item.destroyed){e||(e=this.createTooltip(this.graph.get("canvas")),this.container=e);var r=this.formatText(t.item.get("model"),t);e.innerHTML=r,(0,lt.Z)(this.container,{visibility:"visible"}),this.updatePosition(t)}},hideTooltip:function(){(0,lt.Z)(this.container,{visibility:"hidden"})},updatePosition:function(t){var e=this.get("shouldBegin"),r=this,n=r.width,i=r.height,o=r.container,a=r.graph;if(e(t)){var s=a.getPointByClient(t.clientX,t.clientY),u=a.getCanvasByPoint(s.x,s.y),h=u.x,c=u.y,l=o.getBoundingClientRect();h>n/2?h-=l.width:h+=this.offset,c>i/2?c-=l.height:c+=this.offset;var f=h+"px",d=c+"px";(0,lt.Z)(this.container,{left:f,top:d,visibility:"visible"})}else(0,lt.Z)(o,{visibility:"hidden"})},createTooltip:function(t){var e=t.get("el");e.style.position="relative";var r=(0,ft.Z)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return e.parentNode.appendChild(r),(0,lt.Z)(r,{position:"absolute",visibility:"visible"}),this.width=t.get("width"),this.height=t.get("height"),this.container=r,this.graph.get("tooltips").push(r),r}},pt=(0,x.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},dt),gt=(0,x.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},dt);var vt=r(22195);const yt={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(t){var e=this.graph,r=t.target.get("groupId");if(r){var n=e.get("customGroupControll"),i=n.customGroup,o=i[r].nodeGroup;this.targetGroup=o,this.mouseOrigin={x:t.x,y:t.y};for(var a=e.save().groups,s=null,u=0;u<a.length;u++){var h=a[u];if(r===h.id){s=h.parentId;break}}if(s){var c=i[s].nodeGroup;n.setGroupStyle(c.get("keyShape"),"hover")}}},onDrag:function(t){this.mouseOrigin&&this.updateDelegate(t)},onDragEnd:function(t){var e=this.graph,r=t.target.get("groupId");if(this.delegateShapes[r]&&(this.delegateShapeBBox=this.delegateShapes[r].getBBox(),this.delegateShapes[r].remove(),delete this.delegateShapes[r]),this.delegateShapeBBox){var n=e.get("customGroupControll"),i=this.delegateShapeBBoxs[r];n.updateGroup(r,i,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,n.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(t){var e=this.graph,r=t.target.get("groupId"),n=this.targetGroup.get("keyShape"),i=this.delegateShapes[r],o=n.getBBox(),a=n.get("type");if(i){var s=this.mouseOrigin,u=this.shapeOrigin,h=t.x-s.x,c=t.y-s.y,l=h+u.x,f=c+u.y;i.attr({x:l,y:f}),this.delegateShapeBBoxs[r]=i.getBBox()}else{var d=e.get("delegateGroup"),p=o.x,g=o.y,v=o.width,y=o.height,m=(0,x.__assign)({width:v,height:y},(0,vt.default)({},q.delegateStyle,this.delegateStyle));if("circle"===a){var b=v>y?v/2:y/2,w=p+b,M=g+b;i=d.addShape("circle",{attrs:(0,x.__assign)({x:w,y:M,r:b},m),name:"circle-delegate-shape"}),this.shapeOrigin={x:w,y:M}}else i=d.addShape("rect",{attrs:(0,x.__assign)({x:p,y:g},m),name:"rect-delegate-shape"}),this.shapeOrigin={x:p,y:g};this.delegateShapes[r]=i,this.delegateShapeBBoxs[r]=i.getBBox()}},onOutOfRange:function(t){var e=this,r=this.graph.get("canvas").get("el");this.mouseOrigin&&document.body.addEventListener("mouseup",(function n(i){i.target!==r&&(e.onDragEnd(t),document.body.removeEventListener("mouseup",n,!0))}),!0)}};var mt=document.body;const xt={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(t){var e=this.graph,r=t.target.get("groupId");if(r&&this.origin){var n=e.get("customGroupControll"),i=n.getDeletageGroupById(r);if(i){var o=i.nodeGroup.get("keyShape");this.inGroupId=r,n.setGroupStyle(o,"hover")}}},onDragLeave:function(t){var e=this.graph,r=t.target.get("groupId");if(r&&this.origin){var n=e.get("customGroupControll"),i=n.getDeletageGroupById(r);if(i){var o=i.nodeGroup.get("keyShape");n.setGroupStyle(o,"default")}}r||(this.inGroupId=null)},onDragStart:function(t){var e=this.graph;if(this.shouldBegin.call(this,t)){var r=t.item;this.target=r;var n=r.getModel().groupId;if(n){var i=e.get("customGroupControll"),o=i.getDeletageGroupById(n);if(o){var a=o.nodeGroup.get("keyShape");i.setGroupStyle(a,"hover"),this.inGroupId=n}}this.origin={x:t.x,y:t.y},this.point={},this.originPoint={}}},onDrag:function(t){if(this.origin&&this.get("shouldUpdate").call(this,t)){this.update(this.target,t,!0);var e=t.item,r=this.graph,n=e.getModel().groupId;if(n){var i=r.get("customGroupControll"),o=i.getDeletageGroupById(n);if(o){var a=o.nodeGroup.get("keyShape");this.inGroupId!==n?i.setGroupStyle(a,"default"):i.setGroupStyle(a,"hover")}}}},onDragEnd:function(t){if(this.origin&&this.shouldEnd.call(this,t)){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var e=this.target.get("delegateShape");e&&(e.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,t),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(t)}},setCurrentGroupStyle:function(t){var e=this.graph,r=t.item,n=r.getModel(),i=n.groupId,o=n.id,a=e.get("customGroupControll"),s=a.customGroup,u=e.get("groupNodes");if(this.inGroupId&&i){if(!(w=s[i].nodeGroup))return;var h=w.get("keyShape"),c=r.getBBox(),l=h.getBBox(),f=c.centerX,d=c.centerY,p=l.minX,g=l.minY,v=l.maxX,y=l.maxY;if(!(f<v*this.maxMultiple&&f>p*this.minMultiple&&d<y*this.maxMultiple&&d>g*this.minMultiple)||this.inGroupId!==i){var m=u[i];u[i]=m.filter((function(t){return t!==o})),a.dynamicChangeGroupSize(t,w,h),delete n.groupId}if(this.inGroupId!==i){if(!(b=s[this.inGroupId].nodeGroup))return;var x=b.get("keyShape");-1===u[this.inGroupId].indexOf(o)&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,a.dynamicChangeGroupSize(t,b,x)}a.setGroupStyle(h,"default")}else if(this.inGroupId&&!i){var b;if(!(b=s[this.inGroupId].nodeGroup))return;h=b.get("keyShape");-1===u[this.inGroupId].indexOf(o)&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,a.dynamicChangeGroupSize(t,b,h)}else if(!this.inGroupId&&i){var w;if(Object.keys(u).forEach((function(t){var e=u[t];u[t]=e.filter((function(t){return t!==o}))})),!(w=s[i].nodeGroup))return;h=w.get("keyShape");a.dynamicChangeGroupSize(t,w,h),delete n.groupId}this.inGroupId=null},onOutOfRange:function(t){var e=this,r=e.graph.get("canvas").get("el");e.origin&&mt.addEventListener("mouseup",(function n(i){i.target!==r&&(t.item=e.target,e.onDragEnd(t),document.body.removeEventListener("mouseup",n,!0))}),!0)},update:function(t,e,r){var n=this.origin,i=t.get("model"),o=t.get("id");this.point[o]||(this.point[o]={x:i.x,y:i.y});var a=e.x-n.x+this.point[o].x,s=e.y-n.y+this.point[o].y;if(r)this.updateDelegate(e,a,s);else{var u={x:a,y:s};this.get("updateEdge")?this.graph.updateItem(t,u):(t.updatePosition(u),this.graph.paint())}},updateDelegate:function(t,e,r){var n=this.graph,i=t.item,o=n.get("groupType"),a=i.get("keyShape").getBBox();if(!this.shape){var s=n.get("delegateGroup"),u=(0,vt.default)({},q.delegateStyle,this.delegateStyle);this.target&&(this.shape=s.addShape("rect",{attrs:(0,x.__assign)({width:a.width,height:a.height,x:e-a.width/2,y:r-a.height/2},u),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&("circle"===o?this.shape.attr({x:e-a.width/2,y:r-a.height/2}):"rect"===o&&this.shape.attr({x:e,y:r}))}};var bt="dblclick",wt=["click","dblclick"];const Mt={getDefaultCfg:function(){return{trigger:bt}},getEvents:function(){var t,e;return wt.includes(this.trigger)?e=this.trigger:(e=bt,console.warn("Behavior collapse-expand-group 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),(t={})[""+e]="onGroupClick",t},onGroupClick:function(t){var e=t.target,r=this.graph,n=e.get("groupId");n&&r.get("customGroupControll").collapseExpandGroup(n)}};var St="click",_t=["click","dblclick"];const kt={getDefaultCfg:function(){return{trigger:St,onChange:function(){}}},getEvents:function(){var t,e;return _t.includes(this.trigger)?e=this.trigger:(e=St,console.warn("Behavior collapse-expand 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),(t={})["node:"+e]="onNodeClick",t.touchstart="onNodeClick",t},onNodeClick:function(t){var e=t.item,r=this.graph.findDataById(e.get("id"));if(r){var n=r.children;if(n&&0!==n.length){var i=!r.collapsed;if(this.shouldBegin(t,i)&&(r.collapsed=i,e.getModel().collapsed=i,this.graph.emit("itemcollapsed",{item:t.item,collapsed:i}),this.shouldUpdate(t,i))){try{this.onChange(e,i)}catch(t){console.warn("G6 自 3.0.4 版本支持直接从 item.getModel() 获取源数据(临时通知，将在3.2.0版本中清除)",t)}this.graph.layout()}}}}};var Et=function t(e,r){if(!1!==r(e)&&e){var n=e.get("combos");if(0===n.length)return!1;(0,l.S6)(n,(function(e){t(e,r)}))}};const Ct={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(t){var e=t.item;return!(!e||e.destroyed)&&(!!this.shouldUpdate(this,t)&&"combo"===e.getType())},onDragStart:function(t){var e=this,r=this.graph,n=t.item;if(this.validationCombo(t)){this.targets=[];var i=r.findAllByState("combo",this.selectedState),o=n.get("id");0===i.filter((function(t){var e=t.get("id");return o===e})).length?this.targets.push(n):this.targets=i,this.activeState&&this.targets.map((function(t){var n=t.getModel();if(n.parentId){var i=r.findById(n.parentId);i&&r.setItemState(i,e.activeState,!0)}})),this.point={},this.originPoint={},this.origin={x:t.x,y:t.y},this.currentItemChildCombos=[],Et(n,(function(t){if(t.destroyed)return!1;var r=t.getModel();return e.currentItemChildCombos.push(r.id),!0}))}},onDrag:function(t){var e=this;if(this.origin&&this.validationCombo(t))if(this.enableDelegate)this.updateDelegate(t);else{if(this.activeState){var r=this.graph,n=t.item,i=n.getModel(),o=r.getCombos(),a=n.getBBox(),s=a.centerX,u=a.centerY,h=a.width;o.filter((function(t){var r=t.getModel();return i.parentId,r.id!==i.id&&!e.currentItemChildCombos.includes(r.id)})).map((function(t){var n=t.getBBox(),i=n.centerX,o=n.centerY,a=n.width,c=s-i,l=u-o,f=2*Math.sqrt(c*c+l*l);h+a-f>.8*h?r.setItemState(t,e.activeState,!0):r.setItemState(t,e.activeState,!1)}))}(0,l.S6)(this.targets,(function(r){e.updateCombo(r,t)}))}},updatePositions:function(t){var e=this;this.enableDelegate&&(0,l.S6)(this.targets,(function(r){e.updateCombo(r,t)}))},onDrop:function(t){var e=this,r=t.item;if(r&&this.targets&&!r.destroyed){this.updatePositions(t);var n=this.graph,i=r.getModel();this.targets.map((function(t){t.getModel().parentId!==i.id?(e.activeState&&n.setItemState(r,e.activeState,!1),e.onlyChangeComboSize?n.updateCombo(t):n.updateComboTree(t,i.id)):n.updateCombo(r)})),this.end(r,t),this.endComparison=!0}},onNodeDrop:function(t){var e=this;if(this.targets&&0!==this.targets.length){this.updatePositions(t);var r,n=this.graph,i=t.item.getModel().comboId;if(i){if(this.activeState){var o=n.findById(i);n.setItemState(o,this.activeState,!1)}this.targets.map((function(t){e.onlyChangeComboSize?n.updateCombo(t):i!==t.getID()&&(r=n.findById(i),i!==t.getModel().parentId&&n.updateComboTree(t,i))}))}else this.targets.map((function(t){e.onlyChangeComboSize?n.updateCombo(t):t.getModel().comboId&&n.updateComboTree(t)}));this.endComparison=!0,this.end(r,t)}},onDragEnter:function(t){if(this.origin&&this.validationCombo(t)){var e=t.item,r=this.graph;this.activeState&&r.setItemState(e,this.activeState,!0)}},onDragLeave:function(t){if(this.origin&&this.validationCombo(t)){var e=t.item,r=this.graph;this.activeState&&r.setItemState(e,this.activeState,!1)}},onDragEnd:function(t){if(this.targets&&0!==this.targets.length){var e=t.item;this.updatePositions(t);var r=this.getParentCombo(e.getModel().parentId),n=this.graph;r&&this.activeState&&n.setItemState(r,this.activeState,!1),this.end(void 0,t)}},end:function(t,e){var r=this;if(this.origin){var n=this.graph;if(this.delegateShape)n.get("delegateGroup").clear(),this.delegateShape=null;t&&this.activeState&&n.setItemState(t,this.activeState,!1),t||this.targets.map((function(t){r.onlyChangeComboSize?n.updateCombo(t):n.updateComboTree(t)})),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(t,e){var r=this;if(!1!==e(t)&&t){var n=t.get("combos");(0,l.S6)(n,(function(t){r.traverse(t,e)}));var i=t.get("nodes");(0,l.S6)(i,(function(t){r.traverse(t,e)}))}},updateCombo:function(t,e){var r=this;this.traverse(t,(function(t){return!t.destroyed&&(r.updateSignleItem(t,e),!0)}))},updateSignleItem:function(t,e){var r=this.origin,n=this.graph,i=t.getModel(),o=t.get("id");this.point[o]||(this.point[o]={x:i.x,y:i.y});var a=e.x-r.x+this.point[o].x,s=e.y-r.y+this.point[o].y;n.updateItem(t,{x:a,y:s})},getParentCombo:function(t){var e=this.graph;if(t){var r=e.findById(t);if(r)return r}},updateDelegate:function(t){var e=this.graph;if(this.delegateShape){var r=t.x-this.origin.x+this.originPoint.minX,n=t.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:r,y:n})}else{var i=e.get("delegateGroup"),o=null,a=(o=this.targets.length>1?k(this.targets):this.targets[0].getBBox()).x,s=o.y,u=o.width,h=o.height,c=o.minX,l=o.minY;this.originPoint={x:a,y:s,width:u,height:h,minX:c,minY:l};var f=(0,x.__assign)((0,x.__assign)({},q.delegateStyle),this.delegateStyle);this.delegateShape=i.addShape("rect",{attrs:(0,x.__assign)({width:o.width,height:o.height,x:o.x,y:o.y},f),name:"combo-delegate-shape"})}}};var Pt="dblclick",At=["click","dblclick"];const It={getDefaultCfg:function(){return{trigger:Pt,relayout:!0}},getEvents:function(){var t,e;return At.includes(this.trigger)?e=this.trigger:(e=Pt,console.warn("Behavior collapse-expand-group 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),(t={})["combo:"+e]="onComboClick",t},onComboClick:function(t){var e=t.item,r=this.graph,n=this.relayout;if(e&&!e.destroyed&&"combo"===e.getType()){var i=e.getModel().id;i&&(r.collapseExpandCombo(i),n&&r.get("layout")?r.layout():r.refreshPositions())}}};var Ot=function(t,e,r){return t>=e&&t<=r},Tt=function(t,e,r,n){var i=r.x-t.x,o=r.y-t.y,a=e.x-t.x,s=e.y-t.y,u=n.x-r.x,h=n.y-r.y,c=a*h-s*u,l=null;if(c*c>.001*(a*a+s*s)*(u*u+h*h)){var f=(i*h-o*u)/c,d=(i*s-o*a)/c;Ot(f,0,1)&&Ot(d,0,1)&&(l={x:t.x+f*a,y:t.y+f*s})}return l},Nt=function(t,e){var r=t.x,n=t.y,i=t.width,o=t.height,a=[],s={x:r+i/2,y:n+o/2};a.push({x:r,y:n}),a.push({x:r+i,y:n}),a.push({x:r+i,y:n+o}),a.push({x:r,y:n+o}),a.push({x:r,y:n});for(var u=null,h=1;h<a.length&&!(u=Tt(a[h-1],a[h],s,e));h++);return u},Dt=function(t,e){var r=t.x,n=t.y,i=t.r,o=e.x-r,a=e.y-n;if(Math.sqrt(o*o+a*a)<i)return null;var s=Math.sign(o),u=Math.sign(a),h=Math.atan(a/o);return{x:r+Math.abs(i*Math.cos(h))*s,y:n+Math.abs(i*Math.sin(h))*u}},Bt=function(t,e){var r=t.rx,n=t.ry,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=Math.atan2(s/n,a/r);return u<0&&(u+=2*Math.PI),{x:i+r*Math.cos(u),y:o+n*Math.sin(u)}},jt=function(t,e,r){void 0===r&&(r=1);var n=[t.x,t.y,r];return e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]),ut.transformMat3(n,n,e),{x:n[0],y:n[1]}},Rt=function(t,e,r){void 0===r&&(r=1),e&&!isNaN(e[0])||(e=[1,0,0,0,1,0,0,0,1]);var n=it.invert([],e);n||(n=[1,0,0,0,1,0,0,0,1]);var i=[t.x,t.y,r];return ut.transformMat3(i,i,n),{x:i[0],y:i[1]}},Lt=function(t,e,r){var n=t.x-e.x,i=t.y-e.y,o=t.x-r.x,a=t.y-r.y,s=(t.x*t.x-e.x*e.x-e.y*e.y+t.y*t.y)/2,u=(t.x*t.x-r.x*r.x-r.y*r.y+t.y*t.y)/2,h=i*o-n*a;return{x:-(a*s-i*u)/h,y:-(n*u-o*s)/h}},zt=function(t,e){var r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)},Ft=function(t,e){var r=[];return t.forEach((function(t){var n=[];t.forEach((function(t){n.push(t*e)})),r.push(n)})),r},Yt=function(t){for(var e=[],r=t.length,n=0;n<r;n+=1){e[n]=[];for(var i=0;i<r;i+=1)n===i?e[n][i]=0:0!==t[n][i]&&t[n][i]?e[n][i]=t[n][i]:e[n][i]=1/0}for(var o=0;o<r;o+=1)for(n=0;n<r;n+=1)for(i=0;i<r;i+=1)e[n][i]>e[n][o]+e[o][i]&&(e[n][i]=e[n][o]+e[o][i]);return e},Gt=function(t,e){var r=t.nodes,n=t.edges,i=[],o={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((function(t,e){o[t.id]=e;i.push([])})),n&&n.forEach((function(t){var r=t.source,n=t.target,a=o[r],s=o[n];i[a][s]=1,e||(i[s][a]=1)})),i},Xt=function(t,e){t.translate(e.x,e.y)},Vt=function(t,e){var r=t.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=t.getCanvasBBox(),i=e.x-n.minX,o=e.y-n.minY,a=ht(r,[["t",i,o]]);t.setMatrix(a)},Ht=function(t,e){var r=t.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=e;(0,g.default)(e)||(n=[e,e]),(0,g.default)(e)&&1===e.length&&(n=[e[0],e[0]]),r=ht(r,[["s",n[0],n[1]]]),t.setMatrix(r)},qt=function(t,e){var r=t.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]),r=ht(r,[["r",e]]),t.setMatrix(r)},Wt=function(t,e,r){for(var n=[],i=0;i<t;i++)n[i]=0;return r.forEach((function(t){t.source&&(n[e[t.source]]+=1),t.target&&(n[e[t.target]]+=1)})),n};function Ut(t,e,r){return(r[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(r[1]-t[1])&&Math.min(t[0],e[0])<=r[0]&&r[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=r[1]&&r[1]<=Math.max(t[1],e[1])}var Zt=function(t,e,r){var n=!1,i=t.length;function o(t){return Math.abs(t)<1e-6?0:t<0?-1:1}if(i<=2)return!1;for(var a=0;a<i;a++){var s=t[a],u=t[(a+1)%i];if(Ut(s,u,[e,r]))return!0;o(s[1]-r)>0!=o(u[1]-r)>0&&o(e-(r-s[1])*(s[0]-u[0])/(s[1]-u[1])-s[0])<0&&(n=!n)}return n},Kt=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},$t=function(t,e){var r=function(t){var e=t.map((function(t){return t[0]})),r=t.map((function(t){return t[1]}));return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,r),maxY:Math.max.apply(null,r)}},n=function(t){for(var e=[],r=t.length,n=0;n<r-1;n++){var i=t[n],o=t[n+1];e.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var a=t[0],s=t[r-1];e.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return e};if(t.length<2||e.length<2)return!1;var i=r(t),o=r(e);if(!Kt(i,o))return!1;var a=!1;if((0,at.each)(e,(function(e){if(Zt(t,e[0],e[1]))return a=!0,!1})),a)return!0;if((0,at.each)(t,(function(t){if(Zt(e,t[0],t[1]))return a=!0,!1})),a)return!0;var s=n(t),u=n(e),h=!1;return(0,at.each)(u,(function(t){if(function(t,e){var r=!1;return(0,at.each)(t,(function(t){if(Tt(t.from,t.to,e.from,e.to))return r=!0,!1})),r}(s,t))return h=!0,!1})),h},Qt=function(){function t(t,e,r,n){this.x1=t,this.y1=e,this.x2=r,this.y2=n}return t.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),r=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2);return{x:t,y:e,minX:t,minY:e,maxX:r,maxY:n,width:r-t,height:n-e}},t}(),Jt=function(t,e){return{top:[t.minX,t.minY,t.maxX,t.minY],left:[t.minX,t.minY,t.minX,t.maxY],bottom:[t.minX,t.maxY,t.maxX,t.maxY],right:[t.maxX,t.minY,t.maxX,t.maxY]}[e]},te=function(t,e){var r=(e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1),n=(t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1),i=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);if(i){var o=r/i,a=n/i;if(o>=0&&o<=1&&a>=0&&a<=1)return o}return Number.POSITIVE_INFINITY},ee=function(t,e){for(var r=["top","left","bottom","right"],n=t.getBBox(),i=0,o=[],a=0;a<4;a++){var s=Jt(n,r[a]),u=s[0],h=s[1],c=s[2],l=s[3];o[a]=Tt({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:u,y:h},{x:c,y:l}),o[a]&&(i+=1)}return[o,i]},re=function(t,e){for(var r=["top","left","bottom","right"],n=t.getBBox(),i=Number.POSITIVE_INFINITY,o=0,a=0;a<4;a++){var s=Jt(n,r[a]),u=s[0],h=s[1],c=s[2],l=s[3],f=te(e,new Qt(u,h,c,l));(f=Math.abs(f-.5))>=0&&f<=1&&(o+=1,i=f<i?f:i)}return 0===o?-1:i},ne=function(t){var e=0,r=0;if(t.length>0){for(var n=0,i=t;n<i.length;n++){var o=i[n];e+=o.x,r+=o.y}e/=t.length,r/=t.length}return{x:e,y:r}},ie=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},oe=function(t,e){var r,n=e.x1,i=e.y1,o=e.x2-n,a=e.y2-i,s=t.x-n,u=t.y-i,h=s*o+u*a;r=h<=0||(h=(s=o-s)*o+(u=a-u)*a)<=0?0:h*h/(o*o+a*a);var c=s*s+u*u-r;return c<0&&(c=0),c},ae=function(t,e,r){return void 0===r&&(r=.001),Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(r,2)},se=function(t,e){var r=t.x<e.x,n=t.x>e.x+e.width,i=t.y>e.y+e.height,o=t.y<e.y;if(!(r||n||i||o))return 0;if(i&&!r&&!n)return Math.pow(e.y+e.height-t.y,2);if(o&&!r&&!n)return Math.pow(t.y-e.y,2);if(r&&!i&&!o)return Math.pow(e.x-t.x,2);if(n&&!i&&!o)return Math.pow(e.x+e.width-t.x,2);var a=Math.min(Math.abs(e.x-t.x),Math.abs(e.x+e.width-t.x)),s=Math.min(Math.abs(e.y-t.y),Math.abs(e.y+e.height-t.y));return a*a+s*s};function ue(t,e){for(var r=[],n=0,i=t.length;i-2*!e>n;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?i-4===n?o[3]={x:+t[0],y:+t[1]}:i-2===n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),r.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return r}r(12244);var he="\t\n\v\f\r   ᠎             　\u2028\u2029",ce=new RegExp("([a-z])["+he+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+he+"]*,?["+he+"]*)+)","ig"),le=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+he+"]*,?["+he+"]*","ig");r(5647),r(51676);var fe=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,r){if("\\"===t.charAt(0))return t.slice(1);var n=e[r];return 0===n&&(n="0"),n||""})):t},de=function(t){var e=[];if(t.length<2)throw new Error("point length must largn than 2, now it's "+t.length);for(var r=0,n=t;r<n.length;r++){var i=n[r],o=i.x,a=i.y;e.push(o),e.push(a)}var s=ue(e);return s.unshift(["M",t[0].x,t[0].y]),s},pe=function(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i={x:(1-r)*t.x+r*e.x,y:(1-r)*t.y+r*e.y},o=[];st.normalize(o,[e.x-t.x,e.y-t.y]),0===o.length&&(o=[0,0]);var a=[-o[1]*n,o[0]*n];return i.x+=a[0],i.y+=a[1],i},ge=function(t,e){var r=t.length;if(!r)return"";for(var n="",i=0;i<r;i++){var o=t[i];n+=fe(0===i?"M{x} {y}":"L{x} {y}",o)}return e&&(n+="Z"),n},ve=function(t){var e=[];return t.forEach((function(t){if("A"!==t[0])for(var r=1;r<t.length;r+=2)e.push([t[r],t[r+1]]);else{var n=t.length;e.push([t[n-2],t[n-1]])}})),e},ye=function(t){if(t.length<2)throw new Error("point length must largn than 2, now it's "+t.length);var e=t[0],r=t[1],n=t[t.length-1],i=t[t.length-2];t.unshift(n),t.unshift(i),t.push(e),t.push(r);for(var o=[],a=1;a<t.length-2;a+=1){var s=t[a-1].x,u=t[a-1].y,h=t[a].x,c=t[a].y,l=t[a+1].x,f=t[a+1].y,d=h+(l-s)/6,p=c+(f-u)/6,g=l-((a!==t.length-2?t[a+2].x:l)-h)/6,v=f-((a!==t.length-2?t[a+2].y:f)-c)/6;o.push(["C",d,p,g,v,l,f])}return o.unshift(["M",n.x,n.y]),o},me=function(t,e){return st.scale([],st.normalize([],t),e)},xe=function(t,e){var r=[t[1]-e[1],e[0]-t[0]],n=Math.sqrt(r[0]*r[0]+r[1]*r[1]);if(0===n)throw new Error("p0 should not be equal to p1");return[r[0]/n,r[1]/n]},be=function(t,e){return[e[0]-t[0],e[1]-t[1]]};function we(t,e){if(!t||t.length<1)return"";if(1===t.length)return function(t){var r=[t[0][0],t[0][1]-e],n=[t[0][0],t[0][1]+e];return"M "+r+" A "+e+","+e+",0,0,0,"+n+" A "+e+","+e+",0,0,0,"+r}(t);if(2===t.length)return function(t){var r=st.scale([],xe(t[0],t[1]),e),n=st.scale([],r,-1),i=st.add([],t[0],r),o=st.add([],t[1],r),a=st.add([],t[1],n),s=st.add([],t[0],n);return"M "+i+" L "+o+" A "+[e,e,"0,0,0",a].join(",")+" L "+s+" A "+[e,e,"0,0,0",i].join(",")}(t);for(var r=new Array(t.length),n=0;n<r.length;++n){var i=0===n?t[t.length-1]:t[n-1],o=t[n],a=st.scale([],xe(i,o),e);r[n]=[st.add([],i,a),st.add([],o,a)]}var s="A "+[e,e,"0,0,0,"].join(",");return(r=r.map((function(t,e){var n="";return 0===e&&(n="M "+r[r.length-1][1]+" "),n+=s+t[0]+" L "+t[1]}))).join(" ")}function Me(t,e){var r,n,i,o=t.length;if(!t||o<1)return"";if(1===o)return n=[(r=t)[0][0],r[0][1]-e],i=[r[0][0],r[0][1]+e],"M "+n+" A "+[e,e,"0,0,0",i].join(",")+" A "+[e,e,"0,0,0",n].join(",");if(2===o)return function(t){var r=be(t[0],t[1]),n=me(r,e),i=st.add([],t[0],st.scale([],n,-1)),o=st.add([],t[1],n),a=1.2*e,s=me(st.normalize([],r),a),u=st.scale([],s,-1),h=st.add([],i,u),c=st.add([],o,u),l=st.add([],i,s);return"M "+i+" C "+[h,c,o].join(",")+" S "+[l,i].join(",")+" Z"}(t);for(var a=t.map((function(e,r){var n=t[(r+1)%o];return{p:e,v:st.normalize([],be(e,n))}})),s=0;s<a.length;++s){var u=s>0?s-1:o-1,h=st.normalize([],st.add([],a[u].v,st.scale([],a[s].v,-1)));a[s].p=st.add([],a[s].p,st.scale([],h,e))}return a.map((function(t){var e=t.p;return{x:e[0],y:e[1]}}))}var Se="shift",_e=["drag","shift","ctrl","alt","control"];var ke="click",Ee=["click","drag"],Ce=void 0,Pe=["shift","ctrl","control","alt","meta",void 0];var Ae="ctrl",Ie=["shift","ctrl","alt","control"];var Oe={"drag-canvas":A,"zoom-canvas":ct,"drag-node":W,"activate-relations":{getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return"mouseenter"===this.get("trigger")?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(t){var e=t.item,r=this.graph;if(this.item=e,this.shouldUpdate(t.item,{event:t,action:"activate"})){for(var n=this.activeState,i=this.inactiveState,o=r.getNodes(),a=r.getEdges(),s=o.length,u=a.length,h=0;h<s;h++){var c=o[h],l=c.hasState("selected");this.resetSelected&&l&&r.setItemState(c,"selected",!1),r.setItemState(c,n,!1),i&&r.setItemState(c,i,!0)}for(h=0;h<u;h++){var f=a[h];r.setItemState(f,n,!1),i&&r.setItemState(f,i,!0)}i&&r.setItemState(e,i,!1),r.setItemState(e,n,!0);var d=e.getEdges(),p=d.length;for(h=0;h<p;h++){var g=void 0;g=(f=d[h]).getSource()===e?f.getTarget():f.getSource(),i&&r.setItemState(g,i,!1),r.setItemState(g,n,!0),r.setItemState(f,i,!1),r.setItemState(f,n,!0),f.toFront()}r.emit("afteractivaterelations",{item:t.item,action:"activate"})}},clearActiveState:function(t){var e=this,r=e.get("graph");if(e.shouldUpdate(t.item,{event:t,action:"deactivate"})){var n=this.activeState,i=this.inactiveState,o=r.get("autoPaint");r.setAutoPaint(!1);for(var a=r.getNodes(),s=r.getEdges(),u=a.length,h=s.length,c=0;c<u;c++){var l=a[c];r.clearItemStates(l,[n,i])}for(c=0;c<h;c++){var f=s[c];r.clearItemStates(f,[n,i,"deactivate"])}r.paint(),r.setAutoPaint(o),r.emit("afteractivaterelations",{item:t.item||e.get("item"),action:"deactivate"})}},clearAllItemStates:function(t){var e=this,r=e.graph;if(e.shouldUpdate(t.item,{event:t,action:"deactivate"})){for(var n=this.activeState,i=this.inactiveState,o=r.getNodes(),a=r.getEdges(),s=o.length,u=a.length,h=0;h<s;h++){var c=o[h];r.clearItemStates(c,[n,i])}for(h=0;h<u;h++){var l=a[h];r.clearItemStates(l,[n,i,"deactivate"])}r.emit("afteractivaterelations",{item:t.item||e.get("item"),action:"deactivate"})}}},"brush-select":J,"click-select":rt,"lasso-select":{getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Se,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return _e.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Se,console.warn("Behavior lasso-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),"drag"===this.trigger?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(t){var e=this.lasso;t.item||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),e||(e=this.createLasso()),this.dragging=!0,this.originPoint={x:t.x,y:t.y},this.points.push(this.originPoint),e.show())},onDragMove:function(t){this.dragging&&("drag"===this.trigger||this.keydown)&&(this.points.push({x:t.x,y:t.y}),this.updateLasso(t))},onDragEnd:function(t){(this.lasso||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var t=this.points,e=[];return t.length&&(t.forEach((function(t,r){0===r?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e.push(["L",t[0].x,t[0].y])),e},clearStates:function(){var t=this.graph,e=this.selectedState,r=t.findAllByState("node",e),n=t.findAllByState("edge",e);r.forEach((function(r){return t.setItemState(r,e,!1)})),n.forEach((function(r){return t.setItemState(r,e,!1)})),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var t=this,e=this.graph,r=this.shouldUpdate,n=this.points.map((function(t){return[e.getCanvasByPoint(t.x,t.y).x,e.getCanvasByPoint(t.x,t.y).y]})),i=this.selectedState,o=[],a=[];e.getNodes().forEach((function(t){if(function(t,e){var r,n=t.getKeyShape();if("path"===t.get("type"))r=ve(n.attr("path"));else{var i=n.getCanvasBBox();r=[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}return $t(e,r)}(t,n)&&r(t,"select")){o.push(t);var s=t.getModel();a.push(s.id),e.setItemState(t,i,!0)}}));var s=[];this.includeEdges&&o.forEach((function(n){n.getOutEdges().forEach((function(n){var i=n.getModel(),o=i.source,u=i.target;a.includes(o)&&a.includes(u)&&r(n,"select")&&(s.push(n),e.setItemState(n,t.selectedState,!0))}))})),this.selectedEdges=s,this.selectedNodes=o,this.onSelect&&this.onSelect(o,s),e.emit("nodeselectchange",{selectedItems:{nodes:o,edges:s},select:!0})},createLasso:function(){var t=this.graph.get("delegateGroup").addShape("path",{attrs:(0,x.__assign)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.points=[],t},updateLasso:function(t){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(t){var e=t.key;e&&(e.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},tooltip:pt,"edge-tooltip":gt,"drag-group":yt,"drag-node-with-group":xt,"collapse-expand-group":Mt,"collapse-expand":kt,"drag-combo":Ct,"collapse-expand-combo":It,"create-edge":{getDefaultCfg:function(){return{trigger:ke,key:Ce,edgeConfig:{}}},getEvents:function(){var t,e=this;return Ee.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=ke,console.warn("Behavior create-edge 的 trigger 参数不合法，请输入 'click'，'drag'")),e.key&&-1===Pe.indexOf(e.key.toLowerCase())&&(e.trigger=Ce,console.warn("Behavior create-edge 的 key 参数不合法，请输入 'shift'，'ctrl'，'alt'，'control'，或 undefined")),"drag"===e.trigger?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:"click"===e.trigger&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),e.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(t){var e=this;if(!e.key||e.keydown){var r=t.item;r&&r.getID()!==e.source&&"node"===r.getType()||e.cancelCreating({item:e.edge,x:t.x,y:t.y})}},onClick:function(t){var e=this;if(!e.key||e.keydown){var r=t.item,n=e.graph,i=r.getModel();if(e.addingEdge&&e.edge){if(!e.shouldEnd.call(e,t))return;var o={target:i.id};e.source===i.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(e.edge,o),n.emit("aftercreateedge",{edge:e.edge}),e.edge.getKeyShape().set("capture",!0),e.edge=null,e.addingEdge=!1}else{if(!e.shouldBegin.call(e,t))return;e.edge=n.addItem("edge",(0,x.__assign)({source:i.id,target:i.id},e.edgeConfig),!1),e.source=i.id,e.addingEdge=!0,e.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(t){var e=this;if(!e.key||e.keydown){var r={x:t.x,y:t.y};e.graph.findById(e.source)?e.addingEdge&&e.edge&&e.graph.updateItem(e.edge,{target:r},!1):e.addingEdge=!1}},cancelCreating:function(t){var e=this;if(!e.key||e.keydown){var r=e.graph,n=t.item;if(e.addingEdge&&t.target&&t.target.isCanvas&&t.target.isCanvas())return r.removeItem(e.edge,!1),e.edge=null,void(e.addingEdge=!1);if(e.addingEdge&&e.edge===n){var i=!0;if(!r.get("groupByTypes"))for(var o=t.x,a=t.y,s=r.getNodes(),u=s.length,h=0;h<u;h++){var c=s[h],l=c.getModel(),f=c.getBBox();if(o<=f.maxX&&o>=f.minX&&a<=f.maxY&&a>=f.minY){if(!e.shouldEnd.call(e,{x:t.x,y:t.y,canvasX:t.canvasX,canvasY:t.canvasY,clientX:t.clientX,clientY:t.clientY,item:c}))return;r.emit("beforecreateedge",{}),r.updateItem(e.edge,{target:l.id}),r.emit("aftercreateedge",{edge:e.edge}),i=!1;break}}i&&r.removeItem(e.edge,!1),e.edge=null,e.addingEdge=!1}}},onKeyDown:function(t){var e=this,r=t.key;r&&(r.toLowerCase()===e.key.toLowerCase()?e.keydown=!0:e.keydown=!1)},onKeyUp:function(){var t=this;t.addingEdge&&t.edge&&(t.graph.removeItem(t.edge,!1),t.addingEdge=!1,t.edge=null),this.keydown=!1}},"shortcuts-call":{getDefaultCfg:function(){return{trigger:Ae,combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return Ie.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Ae,console.warn("Behavior shortcuts-fit-view 的 trigger 参数 '"+this.trigger+"' 不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(t){var e=t.key;if(e){var r=this.trigger.toLowerCase(),n=e.toLowerCase();this.triggerKeydown||(this.triggerKeydown=n===r||"control"===n&&"ctrl"===r||"ctrl"===n&&"control"===r);var i=this.graph;if(!i[this.functionName])return console.warn("Behavior shortcuts-fit-view 的 functionName 参数 '"+this.functionName+"' 不合法，它不是 Graph 的一个函数名"),{};if(!this.triggerKeydown||this.combinedKey){var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||"control"===n&&"ctrl"===o||"ctrl"===n&&"control"===o)&&(this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]())}else this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}}};(0,c.default)(Oe,(function(t,e){d.registerBehavior(e,t)}));const Te=d;var Ne=r(95472),De=r(56789),Be=r(43057),je=r(64916),Re=r(21227);const Le=function(){function t(t){this.graph=t,this.destroyed=!1,this.modes=t.get("modes")||{default:[]},this.formatModes(),this.mode=t.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return t.prototype.formatModes=function(){var t=this.modes;(0,c.default)(t,(function(t){(0,c.default)(t,(function(e,r){(0,m.default)(e)&&(t[r]={type:e})}))}))},t.prototype.setBehaviors=function(t){var e,r=this.graph,n=this.modes[t],i=[];(0,c.default)(n||[],(function(t){var n=d.getBehavior(t.type);n&&(e=new n(t))&&(e.bind(r),i.push(e))})),this.currentBehaves=i},t.mergeBehaviors=function(t,e){return(0,c.default)(e,(function(e){t.indexOf(e)<0&&((0,m.default)(e)&&(e={type:e}),t.push(e))})),t},t.filterBehaviors=function(t,e){var r=[];return t.forEach((function(t){var n="";n=(0,m.default)(t)?t:t.type,e.indexOf(n)<0&&r.push(t)})),r},t.prototype.setMode=function(t){var e=this.modes,r=this.graph,n=t;e[n]&&(r.emit("beforemodechange",{mode:t}),(0,c.default)(this.currentBehaves,(function(t){t.unbind(r)})),this.setBehaviors(n),r.emit("aftermodechange",{mode:t}),this.mode=t)},t.prototype.getMode=function(){return this.mode},t.prototype.manipulateBehaviors=function(e,r,n){var i,o=this;if(i=(0,g.default)(e)?e:[e],(0,g.default)(r))return(0,c.default)(r,(function(e){o.modes[e]?o.modes[e]=n?t.mergeBehaviors(o.modes[e]||[],i):t.filterBehaviors(o.modes[e]||[],i):n&&(o.modes[e]=i)})),this;var a=r;return r||(a=this.mode),this.modes[a]||n&&(this.modes[a]=i),this.modes[a]=n?t.mergeBehaviors(this.modes[a]||[],i):t.filterBehaviors(this.modes[a]||[],i),this.setMode(this.mode),this},t.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},t}();const ze=function(){function t(t){this.destroyed=!1,this.graph=t,this.destroyed=!1}return t.prototype.getViewCenter=function(){var t=this.getFormatPadding(),e=this.graph,r=this.graph.get("width"),n=e.get("height");return{x:(r-t[1]-t[3])/2+t[3],y:(n-t[0]-t[2])/2+t[0]}},t.prototype.fitCenter=function(){var t=this.graph,e=t.get("group");e.resetMatrix();var r=e.getCanvasBBox();if(0!==r.width&&0!==r.height){var n=this.getViewCenter(),i=r.x+r.width/2,o=r.y+r.height/2;t.translate(n.x-i,n.y-o)}},t.prototype.fitView=function(){var t=this.graph,e=this.getFormatPadding(),r=t.get("width"),n=t.get("height"),i=t.get("group");i.resetMatrix();var o=i.getCanvasBBox();if(0!==o.width&&0!==o.height){var a=this.getViewCenter(),s=o.x+o.width/2,u=o.y+o.height/2;t.translate(a.x-s,a.y-u);var h=(r-e[1]-e[3])/o.width,c=(n-e[0]-e[2])/o.height,l=h;h>c&&(l=c),t.zoom(l,a)}},t.prototype.getFormatPadding=function(){var t=this.graph.get("fitViewPadding");return w(t)},t.prototype.focusPoint=function(t,e,r){var n=this,i=this.getViewCenter(),o=this.getPointByCanvas(i.x,i.y),a=this.graph.get("group").getMatrix();if(a||(a=[1,0,0,0,1,0,0,0,1]),e){var s=(o.x-t.x)*a[0],u=(o.y-t.y)*a[4],h=0,c=0,l=0,f=0;this.graph.get("canvas").animate((function(t){l=s*t,f=u*t,n.graph.translate(l-h,f-c),h=l,c=f}),(0,x.__assign)({},r))}else this.graph.translate((o.x-t.x)*a[0],(o.y-t.y)*a[4])},t.prototype.getPointByCanvas=function(t,e){var r=this.graph.get("group").getMatrix();return r||(r=[1,0,0,0,1,0,0,0,1]),Rt({x:t,y:e},r)},t.prototype.getPointByClient=function(t,e){var r=this.graph.get("canvas").getPointByClient(t,e);return this.getPointByCanvas(r.x,r.y)},t.prototype.getClientByPoint=function(t,e){var r=this.graph.get("canvas"),n=this.getCanvasByPoint(t,e),i=r.getClientByPoint(n.x,n.y);return{x:i.x,y:i.y}},t.prototype.getCanvasByPoint=function(t,e){var r=this.graph.get("group").getMatrix();return r||(r=[1,0,0,0,1,0,0,0,1]),jt({x:t,y:e},r)},t.prototype.focus=function(t,e,r){(0,m.default)(t)&&(t=this.graph.findById(t));var n=t.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),t&&this.focusPoint({x:n[6],y:n[7]},e,r)},t.prototype.changeSize=function(t,e){var r=this.graph;if(!(0,y.default)(t)||!(0,y.default)(e))throw Error("invalid canvas width & height, please make sure width & height type is number");r.set({width:t,height:e}),r.get("canvas").changeSize(t,e),r.get("plugins").forEach((function(n){if(n.get("gridContainer")){var i=r.get("minZoom");(0,lt.Z)(n.get("container"),{width:t+"px",height:e+"px"}),(0,lt.Z)(n.get("gridContainer"),{width:t/i+"px",height:e/i+"px",left:0,top:0})}}))},t.prototype.destroy=function(){this.graph=null,this.destroyed=!1},t}();var Fe=r(12355),Ye=r(81133);const Ge=function(){function t(t){this.preItem=null,this.graph=t,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return t.prototype.initEvents=function(){var t=this.graph,e=this.extendEvents,r=t.get("canvas"),n=r.get("el"),i=(0,Ye.default)(this,"onCanvasEvents"),o=(0,Ye.default)(this,"onExtendEvents"),a=(0,Ye.default)(this,"onWheelEvent");r.on("*",i),this.canvasHandler=i,e.push((0,Fe.Z)(n,"DOMMouseScroll",a)),e.push((0,Fe.Z)(n,"mousewheel",a)),"undefined"!=typeof window&&(e.push((0,Fe.Z)(window,"keydown",o)),e.push((0,Fe.Z)(window,"keyup",o)),e.push((0,Fe.Z)(window,"focus",o)))},t.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},t.prototype.onCanvasEvents=function(e){var r=this.graph,n=r.get("canvas"),i=e.target,o=e.type;e.canvasX=e.x,e.canvasY=e.y;var a={x:e.canvasX,y:e.canvasY},s=r.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),S(s)&&(a=r.getPointByClient(e.clientX,e.clientY)),e.x=a.x,e.y=a.y,e.currentTarget=r,i===n)return"mousemove"===o&&this.handleMouseMove(e,"canvas"),e.target=n,e.item=null,r.emit(o,e),void r.emit("canvas:"+o,e);var u=t.getItemRoot(i);if(u){var h=u.get("item");if(!h.destroyed){var c=h.getType();if(e.target=i,e.item=h,e.canvasX===e.x&&e.canvasY===e.y){var l=r.getCanvasByPoint(e.x,e.y);e.canvasX=l.x,e.canvasY=l.y}r.emit(o,e),e.name&&!e.name.includes(":")?r.emit(c+":"+o,e):r.emit(e.name,e),"dragstart"===o&&(this.dragging=!0),"dragend"===o&&(this.dragging=!1),"mousemove"===o&&this.handleMouseMove(e,c)}}else r.emit(o,e)},t.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},t.prototype.onWheelEvent=function(t){(0,v.default)(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},t.prototype.handleMouseMove=function(t,e){var r=this.graph,n=this.preItem,i=r.get("canvas"),o=t.target===i?null:t.item;t=M(t),n&&n!==o&&!n.destroyed&&(t.item=n,this.emitCustomEvent(n.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(n.getType(),"dragleave",t)),o&&n!==o&&(t.item=o,this.emitCustomEvent(e,"mouseenter",t),this.dragging&&this.emitCustomEvent(e,"dragenter",t)),this.preItem=o},t.prototype.emitCustomEvent=function(t,e,r){r.type=e,this.graph.emit(t+":"+e,r)},t.prototype.destroy=function(){var t=this,e=t.graph,r=t.canvasHandler,n=t.extendEvents;e.get("canvas").off("*",r),(0,c.default)(n,(function(t){t.remove()})),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},t}();var Xe=r(17611),Ve=r(55671),He=r(38601),qe=r(22487);const We={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875};var Ue=Math.PI,Ze=Math.sin,Ke=Math.cos,$e=Ze(Ue/8),Qe=Ke(Ue/8),Je=function(t,e){var r=t.getBBox(),n={x:r.minX,y:r.minY},i={x:r.maxX,y:r.maxY};if(e){var o=e.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=jt(n,o),i=jt(i,o)}var a=n.x,s=n.y,u=i.x,h=i.y;return{x:a,y:s,minX:a,minY:s,maxX:u,maxY:h,width:u-a,height:h-s}},tr=function(t){var e=t.sourceNode||t.targetNode,r=e.get("group").getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=e.getKeyShape().getBBox(),i=t.loopCfg||{},o=i.dist||2*Math.max(n.width,n.height),a=i.position||q.defaultLoopPosition,s=[r[6],r[7]],u=[t.startPoint.x,t.startPoint.y],h=[t.endPoint.x,t.endPoint.y],c=n.height/2,l=n.height/2,f=c*$e,d=c*Qe,p=l*$e,g=l*Qe;if(u[0]===h[0]&&u[1]===h[1]){switch(a){case"top":u=[s[0]-f,s[1]-d],h=[s[0]+p,s[1]-g];break;case"top-right":c=n.height/2,l=n.width/2,u=[s[0]+(f=c*$e),s[1]-(d=c*Qe)],h=[s[0]+(g=l*Qe),s[1]-(p=l*$e)];break;case"right":c=n.width/2,l=n.width/2,u=[s[0]+(d=c*Qe),s[1]-(f=c*$e)],h=[s[0]+(g=l*Qe),s[1]+(p=l*$e)];break;case"bottom-right":c=n.width/2,l=n.height/2,u=[s[0]+(d=c*Qe),s[1]+(f=c*$e)],h=[s[0]+(p=l*$e),s[1]+(g=l*Qe)];break;case"bottom":c=n.height/2,l=n.height/2,u=[s[0]+(f=c*$e),s[1]+(d=c*Qe)],h=[s[0]-(p=l*$e),s[1]+(g=l*Qe)];break;case"bottom-left":c=n.height/2,l=n.width/2,u=[s[0]-(f=c*$e),s[1]+(d=c*Qe)],h=[s[0]-(g=l*Qe),s[1]+(p=l*$e)];break;case"left":c=n.width/2,l=n.width/2,u=[s[0]-(d=c*Qe),s[1]+(f=c*$e)],h=[s[0]-(g=l*Qe),s[1]-(p=l*$e)];break;case"top-left":c=n.width/2,l=n.height/2,u=[s[0]-(d=c*Qe),s[1]-(f=c*$e)],h=[s[0]-(p=l*$e),s[1]-(g=l*Qe)];break;default:c=n.width/2,l=n.width/2,u=[s[0]-(f=c*$e),s[1]-(d=c*Qe)],h=[s[0]+(p=l*$e),s[1]-(g=l*Qe)]}if(!1===i.clockwise){var v=[u[0],u[1]];u=[h[0],h[1]],h=[v[0],v[1]]}}var y=[u[0]-s[0],u[1]-s[1]],m=(c+o)/c,x=(l+o)/l;!1===i.clockwise&&(m=(l+o)/l,x=(c+o)/c);var b=st.scale([],y,m),w=[s[0]+b[0],s[1]+b[1]],M=[h[0]-s[0],h[1]-s[1]],S=st.scale([],M,x),_=[s[0]+S[0],s[1]+S[1]];return t.startPoint={x:u[0],y:u[1]},t.endPoint={x:h[0],y:h[1]},t.controlPoints=[{x:w[0],y:w[1]},{x:_[0],y:_[1]}],t},er=function(t,e,r,n,i){var o=1e-4,a=[],s=t.getPoint(e);if(null===s)return{x:0,y:0,angle:0};if(e<o)a=t.getStartTangent().reverse();else if(e>.9999)a=t.getEndTangent();else{var u=t.getPoint(e+o);a.push([s.x,s.y]),a.push([u.x,u.y])}var h=Math.atan2(a[1][1]-a[0][1],a[1][0]-a[0][0]);if(h<0&&(h+=2*Ue),r&&(s.x+=Ke(h)*r,s.y+=Ze(h)*r),n){var c=h-Ue/2;h>.5*Ue&&h<1.5*Ue&&(c-=Ue),s.x+=Ke(c)*n,s.y+=Ze(c)*n}var l={x:s.x,y:s.y,angle:h};return i?(h>.5*Ue&&h<1.5*Ue&&(h-=Ue),(0,x.__assign)({rotate:h},l)):l},rr=function t(e,r){if(!1===r(e))return!1;if(e&&e.children)for(var n=e.children.length-1;n>=0;n--)if(!t(e.children[n],r))return!1;return!0},nr=function t(e,r){if(e&&e.children)for(var n=e.children.length-1;n>=0;n--)if(!t(e.children[n],r))return;return!1!==r(e)},ir=function(t,e){"function"==typeof e&&rr(t,e)},or=function(t,e){"function"==typeof e&&nr(t,e)},ar=function(t,e){var r={x:1/0,y:1/0},n={x:-1/0,y:-1/0},i="x",o="y";e&&["V","TB","BT"].indexOf(e)>=0&&(o="x",i="y");var a=0;ir(t,(function(t){return a++,t.x>n.x&&(n.x=t.x),t.x<r.x&&(r.x=t.x),t.y>n.y&&(n.y=t.y),t.y<r.y&&(r.y=t.y),!0}));var s=2*Ue/a,u=n[o]-r[o];return 0===u||ir(t,(function(e){var n=(e[o]-r[o])/u*(2*Ue-s)+s,a=Math.abs("x"===i?e.x-t.x:e.y-t.y);return e.x=a*Math.cos(n),e.y=a*Math.sin(n),!0})),t},sr=function(t,e){return e*(We[t]||1)},ur=function(t,e){var r=0,n=new RegExp("[一-龥]+");return t.split("").forEach((function(t){n.test(t)?r+=e:r+=sr(t,e)})),[r,e]},hr=function(t,e){var r=[],n={},i={};t.forEach((function(t){i[t.id]=t})),t.forEach((function(t,e){var o=(0,at.clone)(t);o.itemType="combo",o.children=void 0,o.parentId===o.id?(console.warn("The parentId for combo "+o.id+" can not be the same as the combo's id"),delete o.parentId):o.parentId&&!i[o.parentId]&&(console.warn("The parent combo for combo "+o.id+" does not exist!"),delete o.parentId);var a=n[o.id];if(a){if(o.children=a.children,n[o.id]=o,!(a=o).parentId)return void r.push(a);var s=n[a.parentId];if(s)s.children?s.children.push(o):s.children=[o];else{var u={id:a.parentId,children:[a]};n[a.parentId]=u,n[o.id]=o}}else if((0,at.isString)(t.parentId)){var h=n[t.parentId];if(h)h.children?h.children.push(o):h.children=[o],n[o.id]=o;else{var c={id:t.parentId,children:[o]};n[c.id]=c,n[o.id]=o}}else r.push(o),n[o.id]=o}));var o={};return(e||[]).forEach((function(t){o[t.id]=t;var e=n[t.comboId];if(e){var r={id:t.id,comboId:t.comboId};e.children?e.children.push(r):e.children=[r],r.itemType="node",n[t.id]=r}})),r.forEach((function(t){t.depth=0,rr(t,(function(t){var e,r=n[t.id].itemType;e="node"===r?n[t.comboId]:n[t.parentId],t.depth=e?"node"===r?e.depth+1:e.depth+2:0;var i=o[t.id];return i&&(i.depth=t.depth),!0}))})),r},cr=function(t,e,r){var n,i=t,o={root:{children:t}},a=!1,s="root";(t||[]).forEach((function(t){if(!a)return t.id===e?(n=t,"combo"===t.itemType?n.parentId=r:n.comboId=r,void(a=!0)):void ir(t,(function(t){return o[t.id]={children:t.children},i=o[t.parentId||t.comboId||"root"].children,!t||!t.removed&&e!==t.id||!i||(s=t.parentId||t.comboId||"root",n=t,"combo"===t.itemType?n.parentId=r:n.comboId=r,a=!0,!1)}))}));var u=(i=o[s].children)?i.indexOf(n):-1;if(u>-1&&i.splice(u,1),a||(n={id:e,itemType:"node",comboId:r},o[e]={children:void 0}),e){var h=!1;if(r){var c=0;(t||[]).forEach((function(t){h||ir(t,(function(t){return r!==t.id||(h=!0,t.children?t.children.push(n):t.children=[n],c=t.depth,"node"===n.itemType?n.depth=c+2:n.depth=c+1,!1)}))}))}else r&&h||"node"===n.itemType||t.push(n);var l=n.depth;ir(n,(function(t){return"node"===t.itemType?l+=2:l+=1,t.depth=l,!0}))}return t},lr=function(t,e){var r={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return t&&0!==t.length?(t.forEach((function(t){var n=e.findById(t.id);if(n&&n.isVisible()){n.set("bboxCanvasCache",void 0);var i=n.getCanvasBBox();i.x&&r.minX>i.minX&&(r.minX=i.minX),i.y&&r.minY>i.minY&&(r.minY=i.minY),i.x&&r.maxX<i.maxX&&(r.maxX=i.maxX),i.y&&r.maxY<i.maxY&&(r.maxY=i.maxY)}})),r.x=(r.minX+r.maxX)/2,r.y=(r.minY+r.maxY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,Object.keys(r).forEach((function(t){r[t]!==1/0&&r[t]!==-1/0||(r[t]=void 0)})),r):r},fr=function(t){var e=t.group,r=t.height,n=t.width,i=t.x,o=t.y,a=e.get("canvas"),s=a.get("width"),u=a.get("height"),h={start:{x:0,y:0},end:{x:0,y:0}};return h.start.x=i/s,h.start.y=o/u,h.end.x=(i+n)/s,h.end.y=(o+r)/u,h};function dr(t){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pr(t){if("string"!=typeof t)return t;var e=function(t){if("string"!=typeof t)return t;try{return JSON.parse(t.trim())}catch(e){return t.trim()}},r=e(t);if("string"!=typeof r)return r;for(var n=function(t){return t[t.length-1]},i=t.trim(),o=[],a=[],s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.some((function(t){return n(a)===t}))},u=null,h=0,c="";h<i.length;){var l=i[h],f=s('"',"'");if(f||l.trim()){var d="\\"===i[h-1],p=s("}"),g=s("]"),v=s(","),y=n(o);if(f)if(n(a)!==l||d)c+=l;else{a.pop();var m=e(c);y.push(m),u=m,c=""}else if(g&&","===l)c&&(y.push(e(c)),c="");else if(p&&":"===l)a.push(","),c&&(y.push(c),c="");else if(v&&","===l)c&&(y.push(e(c)),c=""),a.pop();else if("}"===l&&(p||v)){c&&(y.push(e(c)),c=""),v&&a.pop();for(var x={},b=1;b<y.length;b+=2)x[y[b-1]]=y[b];o.pop(),o.length&&n(o).push(x),a.pop(),u=x}else"]"===l&&g?(c&&(y.push(e(c)),c=""),o.pop(),o.length&&n(o).push(y),a.pop(),u=y):"{"===l?(o.push([]),a.push("}")):"["===l?(o.push([]),a.push("]")):'"'===l?a.push('"'):"'"===l?a.push("'"):c+=l;h+=1}else h+=1}return u||c}function gr(t,e){var r={},n=t.getAttributeNames&&t.getAttributeNames()||[],i=t.children&&Array.from(t.children).map((function(t){return gr(t,e)})),o={},a=t.tagName?t.tagName.toLowerCase():"group";return"text"===a&&(r.text=t.innerText),o.type=a,"img"===a&&(o.type="image"),Array.from(n).forEach((function(e){var n=e.split("-").reduce((function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})),i=t.getAttribute(e);try{if("style"===n||"attrs"===n){var a=pr(i);r=(0,x.__assign)((0,x.__assign)({},r),a)}else o[n]=pr(i)}catch(t){if("style"===n)throw t;o[n]=i}})),o.attrs=r,e&&e.style&&o.name&&"object"===dr(e.style[o.name])&&(o.attrs=(0,x.__assign)((0,x.__assign)({},o.attrs),e.style[o.name])),e&&e.style&&o.keyshape&&(o.attrs=(0,x.__assign)((0,x.__assign)({},o.attrs),e.style)),i.length&&(o.children=i),o}function vr(t,e){var r;void 0===e&&(e={x:0,y:0});var n=(0,x.__assign)({x:0,y:0,width:0,height:0},e);if(null===(r=t.children)||void 0===r?void 0:r.length){var i=t.attrs,o=void 0===i?{}:i,a=o.marginTop,s=(0,x.__assign)({},e);a&&(s.y+=a);for(var u=0;u<t.children.length;u++){t.children[u].attrs.key=(o.key||"root")+" -"+u+" ";var h=vr(t.children[u],s);if(h.bbox){var c=h.bbox;"inline"===h.attrs.next?s.x+=h.bbox.width:s.y+=h.bbox.height,c.width+c.x>n.width&&(n.width=c.width+c.x),c.height+c.y>n.height&&(n.height=c.height+c.y)}}}return t.bbox=function(t,e,r){var n,i,o=t.attrs,a=void 0===o?{}:o,s={x:e.x||0,y:e.y||0,width:r.width||0,height:r.height||0};switch(t.type){case"maker":case"circle":a.r&&(i=2*a.r,n=2*a.r);break;case"text":a.text&&(i=ur(a.text,a.fontSize||12)[0],n=16,s.y+=n,s.height=n,s.width=i,t.attrs=(0,x.__assign)({fontSize:12,fill:"#000"},a));break;default:a.width&&(i=a.width),a.height&&(n=a.height)}return n>=0&&(s.height=n),i>=0&&(s.width=i),a.marginTop&&(s.y+=a.marginTop),a.marginLeft&&(s.x+=a.marginLeft),s}(t,e,n),t.attrs=(0,x.__assign)((0,x.__assign)({},t.attrs),t.bbox),t}function yr(t,e){var r,n,i,o,a=(t||{}).type,s=((null==e?void 0:e.attrs)||{}).key;if(s&&t&&(t.attrs.key=s),!t&&e)return{action:"delete",val:e,type:a,key:s};if(t&&!e)return{action:"add",val:t,type:a};if(!t&&!e)return{action:"same",type:a};var u=[];if((null===(r=t.children)||void 0===r?void 0:r.length)>0||(null===(n=e.children)||void 0===n?void 0:n.length)>0)for(var h=Math.max(null===(i=t.children)||void 0===i?void 0:i.length,null===(o=e.children)||void 0===o?void 0:o.length),c=e.children||[],l=t.children||[],f=0;f<h;f+=1)u.push(yr(l[f],c[f]));var d=Object.keys(e.attrs),p=Object.keys(t.attrs);return e.type!==t.type?{action:"restructure",nowTarget:t,formerTarget:e,key:s,children:u}:d.filter((function(t){return"children"!==t})).some((function(r){return t.attrs[r]!==e.attrs[r]||!p.includes(r)}))?{action:"change",val:t,children:u,type:a,key:s}:{action:"same",children:u,type:a,key:s}}function mr(t){var e={},r=function(e){var r=function(t){return function(e){for(var r=t.length,n=[],i=0,o="";i<r;)if("{"===t[i]&&"{"===t[i+1])n.push(o),o="",i+=2;else if("}"===t[i]&&"}"===t[i+1]){if(n.length){var a=n.pop();o=(0,qe.default)(e,o,a.endsWith("=")?'"{'+o+'}"':o),n.push(a+o)}i+=2,o=""}else o+=t[i],i+=1;return n.push(o),n.map((function(t,e){return n[e-1]&&n[e-1].endsWith("=")?'"{'+t+'}"':t})).join("")}}("function"==typeof t?t(e):t)(e),n=document.createElement("div");n.innerHTML=r;var i=vr(gr(n.children[0],e));return n.remove(),i};return{draw:function(t,n){var i=r(t),o=n;return function t(e){var r=e.attrs,i=void 0===r?{}:r,a=e.bbox,s=e.type,u=e.children,h=(0,x.__rest)(e,["attrs","bbox","type","children"]);if("group"!==e.type){var c=n.addShape(e.type,(0,x.__assign)({attrs:i,origin:{bbox:a,type:s,children:u}},h));e.keyshape&&(o=c)}e.children&&e.children.forEach((function(e){return t(e)}))}(i),e[t.id]=[i],o},update:function(t,n){e[t.id]||(e[t.id]=[]);var i=n.getContainer(),o=i.get("children"),a=r(t),s=yr(a,e[t.id].pop()),u=function t(e){var r;"group"!==e.type&&i.addShape(e.type,{attrs:e.attrs}),(null===(r=e.children)||void 0===r?void 0:r.length)&&e.children.map((function(e){return t(e)}))},h=function t(e){var r,n=o.find((function(t){return t.attrs.key===e.attrs.key}));n&&i.removeChild(n),(null===(r=e.children)||void 0===r?void 0:r.length)&&e.children.map((function(e){return t(e)}))};!function t(e){var r=e.key;if("group"!==e.type){var i=o.find((function(t){return t.attrs.key===r}));switch(e.action){case"change":if(i){var a=e.val.keyshape?n.getOriginStyle():{};i.attr((0,x.__assign)((0,x.__assign)({},a),e.val.attrs))}break;case"add":u(e.val);break;case"delete":h(e.val);break;case"restructure":h(e.formerTarget),u(e.nowTarget)}}e.children&&e.children.forEach((function(e){return t(e)}))}(s),e[t.id].push(a)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var xr={};function br(t){return xr[t]||(xr[t]=(0,at.upperFirst)(t)),xr[t]}var wr={defaultShapeType:"defaultType",className:null,getShape:function(t){var e=this;return e[t]||e[e.defaultShapeType]},draw:function(t,e,r){var n=this.getShape(t),i=n.draw(e,r);return n.afterDraw&&n.afterDraw(e,r,i),i},baseUpdate:function(t,e,r){var n=this.getShape(t);n.update&&n.update(e,r),n.afterUpdate&&n.afterUpdate(e,r)},setState:function(t,e,r,n){this.getShape(t).setState(e,r,n)},shouldUpdate:function(t){return!!this.getShape(t).update},getControlPoints:function(t,e){return this.getShape(t).getControlPoints(e)},getAnchorPoints:function(t,e){return this.getShape(t).getAnchorPoints(e)}},Mr={options:{},draw:function(t,e){return this.drawShape(t,e)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var e=this.options.anchorPoints;return t.anchorPoints||e}},Sr=function(){function t(){}return t.registerFactory=function(e,r){var n=br(e),i=wr,o=(0,x.__assign)((0,x.__assign)({},i),r);return t[n]=o,o.className=n,o},t.getFactory=function(e){return t[br(e)]},t.registerNode=function(e,r,n){var i,o=t.Node;if("string"==typeof r||"function"==typeof r){var a=mr(r);i=(0,x.__assign)((0,x.__assign)({},o.getShape("single-node")),a)}else if(r.jsx){a=mr(r.jsx);i=(0,x.__assign)((0,x.__assign)((0,x.__assign)({},o.getShape("single-node")),a),r)}else{var s=n?o.getShape(n):Mr;i=(0,x.__assign)((0,x.__assign)({},s),r)}return i.type=e,i.itemType="node",o[e]=i,i},t.registerEdge=function(e,r,n){var i=t.Edge,o=n?i.getShape(n):Mr,a=(0,x.__assign)((0,x.__assign)({},o),r);return a.type=e,a.itemType="edge",i[e]=a,a},t.registerCombo=function(e,r,n){var i=t.Combo,o=n?i.getShape(n):Mr,a=(0,x.__assign)((0,x.__assign)({},o),r);return a.type=e,a.itemType="combo",i[e]=a,a},t}();const _r=Sr;Sr.registerFactory("node",{defaultShapeType:"circle"}),Sr.registerFactory("edge",{defaultShapeType:"line"}),Sr.registerFactory("combo",{defaultShapeType:"circle"});var kr="bboxCache",Er="bboxCanvasCache";const Cr=function(){function t(t){this._cfg={},this.destroyed=!1;var e={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(e,this.getDefaultCfg(),t);var r=this.get("model"),n=r.id,i=this.get("type");n||(n=(0,at.uniqueId)(i),this.get("model").id=n),this.set("id",n);var o=t.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var a=r.shape||r.type||("edge"===i?"line":"circle"),s=this.get("shapeFactory");if(s&&s[a]){var u=s[a].options;if(u&&u.stateStyles){var h=this.get("styles")||r.stateStyles;h=(0,at.deepMix)({},u.stateStyles,h),this.set("styles",h)}}}return t.prototype.calculateBBox=function(){var t=this.get("keyShape"),e=this.get("group"),r=Je(t,e);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,r},t.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),r=Je(t,e);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,r},t.prototype.drawInner=function(){var t=this,e=t.get("shapeFactory"),r=t.get("group"),n=t.get("model");r.clear();var i=n.visible;if(void 0===i||i||t.changeVisibility(i),e){t.updatePosition(n);var o=t.getShapeCfg(n),a=o.shape||o.type,s=e.draw(a,o,r);s&&(t.set("keyShape",s),s.set("isKeyShape",!0),s.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",a),this.restoreStates(e,a)}},t.prototype.setOriginStyle=function(t){var e={},r=this.get("group").get("children"),n=this.getKeyShape(),i=this;(0,at.each)(r,(function(t){var r=t.get("name");if(r)e[r]=i.getShapeStyleByName(r);else{var o=n.get("name"),a=i.getShapeStyleByName();o?e[o]=a:Object.assign(e,a)}}));var o=this.getOriginStyle(),a={};a=t?(0,at.deepMix)({},o,e,t.style,{labelCfg:t.labelCfg}):(0,at.deepMix)({},o,e),i.set("originStyle",a)},t.prototype.restoreStates=function(t,e){var r=this,n=r.get("states");(0,at.each)(n,(function(n){t.setState(e,n,!0,r)}))},t.prototype.init=function(){var t=_r.getFactory(this.get("type"));this.set("shapeFactory",t)},t.prototype.get=function(t){return this._cfg[t]},t.prototype.set=function(t,e){(0,at.isPlainObject)(t)?this._cfg=(0,x.__assign)((0,x.__assign)({},this._cfg),t):this._cfg[t]=e},t.prototype.getDefaultCfg=function(){return{}},t.prototype.clearCache=function(){this.set(kr,null),this.set(Er,null)},t.prototype.beforeDraw=function(){},t.prototype.afterDraw=function(){},t.prototype.afterUpdate=function(){},t.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},t.prototype.getShapeStyleByName=function(t){var e=this.get("group"),r=this.getKeyShape();if(t&&(r=e.find((function(e){return e.get("name")===t}))),r){var n={};return(0,at.each)(r.attr(),(function(t,e){"img"!==e&&(n[e]=t)})),n}return{}},t.prototype.getShapeCfg=function(t){var e=this.get("styles");if(e){var r=t;return r.style=(0,x.__assign)((0,x.__assign)({},e),t.style),r}return t},t.prototype.getStateStyle=function(t){var e=this.get("styles");return e&&e[t]},t.prototype.getOriginStyle=function(){return this.get("originStyle")},t.prototype.getCurrentStatesStyle=function(){var t=this,e={};return(0,at.each)(t.getStates(),(function(r){e=Object.assign(e,t.getStateStyle(r))})),e},t.prototype.setState=function(t,e){var r=this.get("states"),n=this.get("shapeFactory"),i=t,o=t;(0,at.isString)(e)&&(i=t+":"+e,o=t+":");var a=r;if((0,at.isBoolean)(e)){var s=r.indexOf(o);if(e){if(s>-1)return;r.push(i)}else s>-1&&r.splice(s,1)}else if((0,at.isString)(e)){var u=r.filter((function(t){return t.includes(o)}));u.length>0&&this.clearStates(u),(a=a.filter((function(t){return!t.includes(o)}))).push(i),this.set("states",a)}if(n){var h=this.get("model"),c=h.shape||h.type;n.setState(c,t,e,this)}},t.prototype.clearStates=function(t){var e=this,r=e.getStates(),n=e.get("shapeFactory"),i=e.get("model"),o=i.shape||i.type;t||(t=r),(0,at.isString)(t)&&(t=[t]);var a=r.filter((function(e){return-1===t.indexOf(e)}));e.set("states",a),t.forEach((function(t){n.setState(o,t,!1,e)}))},t.prototype.getContainer=function(){return this.get("group")},t.prototype.getKeyShape=function(){return this.get("keyShape")},t.prototype.getModel=function(){return this.get("model")},t.prototype.getType=function(){return this.get("type")},t.prototype.getID=function(){return this.get("id")},t.prototype.isItem=function(){return!0},t.prototype.getStates=function(){return this.get("states")},t.prototype.hasState=function(t){return this.getStates().indexOf(t)>=0},t.prototype.refresh=function(){var t=this.get("model");this.updatePosition(t),this.updateShape(),this.afterUpdate(),this.clearCache()},t.prototype.isOnlyMove=function(t){return!1},t.prototype.update=function(t){var e=this.get("model"),r=e.visible,n=t.visible;r!==n&&void 0!==n&&this.changeVisibility(n);var i=e.x,o=e.y;t.x=isNaN(t.x)?e.x:t.x,t.y=isNaN(t.y)?e.y:t.y;var a=this.get("styles");if(t.stateStyles){var s=t.stateStyles;(0,at.mix)(a,s),delete t.stateStyles}Object.assign(e,t),this.isOnlyMove(t)?this.updatePosition(t):(i===t.x&&o===t.y||this.updatePosition(t),this.updateShape()),this.afterUpdate(),this.clearCache()},t.prototype.updateShape=function(){var t=this.get("shapeFactory"),e=this.get("model"),r=e.shape||e.type;if(t.shouldUpdate(r)&&r===this.get("currentShape")){var n=this.getShapeCfg(e);t.baseUpdate(r,n,this)}else this.draw();this.setOriginStyle(e),this.restoreStates(t,r)},t.prototype.updatePosition=function(t){var e=this.get("model"),r=(0,at.isNil)(t.x)?e.x:t.x,n=(0,at.isNil)(t.y)?e.y:t.y,i=this.get("group");(0,at.isNil)(r)||(0,at.isNil)(n)||(i.resetMatrix(),Xt(i,{x:r,y:n}),e.x=r,e.y=n,this.clearCache())},t.prototype.getBBox=function(){var t=this.get(kr);return t||(t=this.calculateBBox(),this.set(kr,t)),t},t.prototype.getCanvasBBox=function(){var t=this.get(Er);return t||(t=this.calculateCanvasBBox(),this.set(Er,t)),t},t.prototype.toFront=function(){this.get("group").toFront()},t.prototype.toBack=function(){this.get("group").toBack()},t.prototype.show=function(){this.changeVisibility(!0)},t.prototype.hide=function(){this.changeVisibility(!1)},t.prototype.changeVisibility=function(t){var e=this.get("group");t?e.show():e.hide(),this.set("visible",t)},t.prototype.isVisible=function(){return this.get("visible")},t.prototype.enableCapture=function(t){var e=this.get("group");e&&e.set("capture",t)},t.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),e.remove(),this._cfg=null,this.destroyed=!0}},t}();var Pr={source:"start",target:"end"},Ar="Node",Ir="Point";const Or=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,x.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,e){var r=Pr[t]+Ir,n=t+Ar,i=this.get(n);i&&!i.destroyed&&i.removeEdge(this),(0,at.isPlainObject)(e)?(this.set(r,e),this.set(n,null)):(e.addEdge(this),this.set(n,e),this.set(r,null))},e.prototype.getLinkPoint=function(t,e,r){var n=Pr[t]+Ir,i=t+Ar,o=this.get(n);if(!o){var a=this.get(i),s=t+"Anchor",u=this.getPrePoint(t,r),h=e[s];(0,at.isNil)(h)||(o=a.getLinkPointByAnchor(h)),o=o||a.getLinkPoint(u),(0,at.isNil)(o.index)||this.set(t+"AnchorIndex",o.index)}return o},e.prototype.getPrePoint=function(t,e){if(e&&e.length)return e["source"===t?0:e.length-1];var r="source"===t?"target":"source";return this.getEndPoint(r)},e.prototype.getEndPoint=function(t){var e=t+Ar,r=Pr[t]+Ir,n=this.get(e);return n?n.get("model"):this.get(r)},e.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),r=this.getEndPoint("target"),n=this.get("shapeFactory"),i=t.shape||t.type;return n.getControlPoints(i,{startPoint:e,endPoint:r})},e.prototype.getEndCenter=function(t){var e=t+Ar,r=Pr[t]+Ir,n=this.get(e);if(n){var i=n.getBBox();return{x:i.centerX,y:i.centerY}}return this.get(r)},e.prototype.init=function(){t.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(e){var r=this,n=r.get("linkCenter"),i=t.prototype.getShapeCfg.call(this,e);if(n)i.startPoint=r.getEndCenter("source"),i.endPoint=r.getEndCenter("target");else{var o=i.controlPoints||r.getControlPointsByCenter(i);i.startPoint=r.getLinkPoint("source",e,o),i.endPoint=r.getLinkPoint("target",e,o)}return i.sourceNode=r.get("sourceNode"),i.targetNode=r.get("targetNode"),i},e.prototype.getModel=function(){var t=this.get("model"),e=this.get("sourceNode"),r=this.get("targetNode");return e?delete t.sourceNode:t.source=this.get("startPoint"),r?delete t.targetNode:t.target=this.get("endPoint"),(0,at.isString)(t.source)||(0,at.isPlainObject)(t.source)||(t.source=t.source.getID()),(0,at.isString)(t.target)||(0,at.isPlainObject)(t.target)||(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){},e.prototype.update=function(t){var e=this.get("model"),r=e.visible,n=t.visible;r!==n&&void 0!==n&&this.changeVisibility(n);var i=this.get("styles");if(t.stateStyles){var o=t.stateStyles;(0,at.mix)(i,o),delete t.stateStyles}Object.assign(e,t),this.updateShape(),this.afterUpdate(),this.clearCache()},e.prototype.destroy=function(){var e=this.get("sourceNode"),r=this.get("targetNode");e&&!e.destroyed&&e.removeEdge(this),r&&!r.destroyed&&r.removeEdge(this),t.prototype.destroy.call(this)},e}(Cr);var Tr=r(15760),Nr="anchorPointsCache";const Dr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,x.__extends)(e,t),e.prototype.getNearestPoint=function(t,e){for(var r=0,n=t[0],i=zt(t[0],e),o=0;o<t.length;o++){var a=t[o],s=zt(a,e);s<i&&(n=a,i=s,r=o)}return n.anchorIndex=r,n},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter((function(e){return e.get("target")===t}))},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter((function(e){return e.get("source")===t}))},e.prototype.getNeighbors=function(t){var e=this,r=this.get("edges");if("target"===t){return r.filter((function(t){return t.getSource()===e})).map((function(t){return t.getTarget()}))}if("source"===t){return r.filter((function(t){return t.getTarget()===e})).map((function(t){return t.getSource()}))}return r.map((function(t){return t.getSource()===e?t.getTarget():t.getSource()}))},e.prototype.getLinkPointByAnchor=function(t){return this.getAnchorPoints()[t]},e.prototype.getLinkPoint=function(t){var e,r,n=this.get("keyShape").get("type"),i=this.get("type"),o=this.getBBox();"combo"===i?(e=(o.maxX+o.minX)/2,r=(o.maxY+o.minY)/2):(e=o.centerX,r=o.centerY);var a,s=this.getAnchorPoints();switch(n){case"circle":a=Dt({x:e,y:r,r:o.width/2},t);break;case"ellipse":a=Bt({x:e,y:r,rx:o.width/2,ry:o.height/2},t);break;default:a=Nt(o,t)}var u=a;return s.length&&(u||(u=t),u=this.getNearestPoint(s,u)),u||(u={x:e,y:r}),u},e.prototype.getAnchorPoints=function(){var t=this.get(Nr);if(!t){t=[];var e=this.get("shapeFactory"),r=this.getBBox(),n=this.get("model"),i=this.getShapeCfg(n),o=n.shape||n.type,a=e.getAnchorPoints(o,i)||[];(0,c.default)(a,(function(e,n){var i=(0,Tr.default)({x:r.minX+e[0]*r.width,y:r.minY+e[1]*r.height},e[2],{index:n});t.push(i)})),this.set(Nr,t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var e=this.getEdges(),r=e.indexOf(t);r>-1&&e.splice(r,1)},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set(Nr,null)},e.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!(0,v.default)(t.x),r=!(0,v.default)(t.y),n=Object.keys(t);return 1===n.length&&(e||r)||2===n.length&&e&&r},e}(Cr);var Br="bboxCanvasCache",jr="sizeCache";const Rr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,x.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var e=this.get("styles"),r=this.get("bbox");if(e&&r){var n=t,i={r:Math.hypot(r.height,r.width)/2||q.defaultCombo.size[0]/2,width:r.width||q.defaultCombo.size[0],height:r.height||q.defaultCombo.size[1]};n.style=(0,x.__assign)((0,x.__assign)((0,x.__assign)({},e),t.style),i);var o=t.padding||q.defaultCombo.padding;return(0,y.default)(o)?(i.r+=o,i.width+=2*o,i.height+=2*o):(i.r+=o[0],i.width+=o[1]+o[3]||2*o[1],i.height+=o[0]+o[2]||2*o[0]),this.set(jr,i),n}return t},e.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),r=Je(t,e);r.x=r.minX,r.y=r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2;var n=this.get(jr);n?("circle"===t.get("type")?(r.width=2*n.r,r.height=2*n.r):(r.width=n.width,r.height=n.height),r.minX=r.centerX-r.width/2,r.minY=r.centerY-r.height/2,r.maxX=r.centerX+r.width/2,r.maxY=r.centerY+r.height/2):(r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2);return r},e.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.addChild=function(t){switch(t.getType()){case"node":this.addNode(t);break;case"combo":this.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){return this.get("combos").push(t),!0},e.prototype.addNode=function(t){return this.get("nodes").push(t),!0},e.prototype.removeChild=function(t){switch(t.getType()){case"node":this.removeNode(t);break;case"combo":this.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(t){var e=this.getCombos(),r=e.indexOf(t);return r>-1&&(e.splice(r,1),!0)}},e.prototype.removeNode=function(t){if(t){var e=this.getNodes(),r=e.indexOf(t);return r>-1&&(e.splice(r,1),!0)}},e.prototype.isOnlyMove=function(t){return!1},e.prototype.getBBox=function(){return this.set(Br,null),this.calculateCanvasBBox()},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set(Br,null),this.set("anchorPointsCache",null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(jr,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},e}(Dr);var Lr="node",zr="edge",Fr="vedge",Yr="combo",Gr="Mapper",Xr="stateStyles",Vr=Object.hasOwnProperty;const Hr=function(){function t(t){this.graph=t,this.destroyed=!1}return t.prototype.addItem=function(t,e){var r=this,n=this.graph,i=t===Fr?zr:t,o=n.get(i+"Group")||n.get("group"),a=(0,He.default)(i),s=null,u=n.get(i+(0,He.default)(Xr))||{},h=n.get("default"+a);e.stateStyles&&(u=e.stateStyles);var l=n.get(i+Gr);if(l){var f=l(e);f.stateStyles&&(u=f.stateStyles,delete f.stateStyles),e=(0,vt.default)({},h,e,f)}else h&&(0,c.default)(h,(function(t,r){Vr.call(e,r)||((0,Ve.default)(t)?e[r]=(0,Xe.default)(t):e[r]=h[r])}));if(e.shape&&!e.type&&console.warn("shape 字段即将被废弃，请使用 type 代替"),n.emit("beforeadditem",{type:t,model:e}),t===zr||t===Fr){var d=void 0,p=void 0;if(d=e.source,p=e.target,d&&(0,m.default)(d)&&(d=n.findById(d)),p&&(0,m.default)(p)&&(p=n.findById(p)),!d||!p)return void console.warn("The source or target node of edge "+e.id+" does not exist!");d.getType&&"combo"===d.getType()&&(e.isComboEdge=!0,n.updateCombo(d)),p.getType&&"combo"===p.getType()&&(e.isComboEdge=!0,n.updateCombo(p)),s=new Or({model:e,source:d,target:p,styles:u,linkCenter:n.get("linkCenter"),group:o.addGroup()})}else if(t===Lr)s=new Dr({model:e,styles:u,group:o.addGroup()});else if(t===Yr){var g=e.children,v=lr(g,n);e.x=v.x||e.x||100*Math.random(),e.y=v.y||e.y||100*Math.random();var y=o.addGroup();y.setZIndex(e.depth);var x=(s=new Rr({model:e,styles:u,bbox:v,group:y})).getModel();(g||[]).forEach((function(t){var e=n.findById(t.id);s.addChild(e),t.depth=x.depth+2})),e.collapsed&&setTimeout((function(){n.collapseCombo(s),r.updateCombo(s,[])}),250)}if(s)return n.get(t+"s").push(s),n.get("itemMap")[s.get("id")]=s,n.emit("afteradditem",{item:s,model:e}),s},t.prototype.updateItem=function(t,e){var r=this.graph;if((0,m.default)(t)&&(t=r.findById(t)),t&&!t.destroyed){var n="";t.getType&&(n=t.getType());var i=r.get(n+Gr),o=t.getModel();if(i){var a=i((0,vt.default)({},o,e)),s=(0,vt.default)({},o,a,e);a.stateStyles&&(t.set("styles",s.stateStyles),delete s.stateStyles),(0,c.default)(s,(function(t,r){e[r]=t}))}else(0,c.default)(e,(function(t,r){o[r]&&(0,Ve.default)(t)&&!(0,g.default)(t)&&(e[r]=(0,x.__assign)((0,x.__assign)({},o[r]),e[r]))}));if(r.emit("beforeupdateitem",{item:t,cfg:e}),n===zr){if(e.source){var u=e.source;(0,m.default)(u)&&(u=r.findById(u)),t.setSource(u)}if(e.target){var h=e.target;(0,m.default)(h)&&(h=r.findById(h)),t.setTarget(h)}}if(t.update(e),n===Lr||n===Yr){var l=t.getEdges();(0,c.default)(l,(function(t){t.refresh()}))}r.emit("afterupdateitem",{item:t,cfg:e})}},t.prototype.updateCombo=function(t,e){var r=this.graph;if((0,m.default)(t)&&(t=r.findById(t)),t&&!t.destroyed){var n=lr(e,r);t.set("bbox",n),t.update({x:n.x,y:n.y});for(var i=t.getEdges()||[],o=i.length,a=0;a<o;a++){var s=i[a];null==s||s.refresh()}}},t.prototype.collapseCombo=function(t){var e=this.graph;(0,m.default)(t)&&(t=e.findById(t));var r=t.getChildren();r.nodes.forEach((function(t){e.hideItem(t)})),r.combos.forEach((function(t){e.hideItem(t)}))},t.prototype.expandCombo=function(t){var e=this.graph;(0,m.default)(t)&&(t=e.findById(t));var r=t.getChildren();r.nodes.forEach((function(t){e.showItem(t)})),r.combos.forEach((function(t){t.getModel().collapsed?t.show():e.showItem(t)}))},t.prototype.removeItem=function(t){var e=this,r=this.graph;if((0,m.default)(t)&&(t=r.findById(t)),t&&!t.destroyed){var n=(0,Xe.default)(t.getModel());r.emit("beforeremoveitem",{item:n});var i="";t.getType&&(i=t.getType());var o=r.get(i+"s"),a=o.indexOf(t);if(a>-1&&o.splice(a,1),i===zr){var s=r.get("v"+i+"s"),u=s.indexOf(t);u>-1&&s.splice(u,1)}var h=t.get("id");delete r.get("itemMap")[h];var c=r.get("comboTrees"),l=t.get("id");if(i===Lr){var f=t.getModel().comboId;if(c){var d=c,p=!1;c.forEach((function(t){p||ir(t,(function(t){if(t.id===l&&d){var e=d.indexOf(t);return d.splice(e,1),p=!0,!1}return d=t.children,!0}))}))}for(var g=(b=t.getEdges()).length-1;g>=0;g--)r.removeItem(b[g],!1);f&&r.updateCombo(f)}else if(i===Yr){var v,y=t.getModel().parentId,x=!1;(c||[]).forEach((function(t){x||ir(t,(function(t){return t.id!==l||(v=t,x=!0,!1)}))})),v.removed=!0,v&&v.children&&v.children.forEach((function(t){e.removeItem(t.id)}));var b;for(g=(b=t.getEdges()).length;g>=0;g--)r.removeItem(b[g],!1);y&&r.updateCombo(y)}t.destroy(),r.emit("afterremoveitem",{item:n})}},t.prototype.setItemState=function(t,e,r){var n=this.graph,i=e;(0,m.default)(r)&&(i=e+":"+r),t.hasState(i)===r||(0,m.default)(r)&&t.hasState(i)||(n.emit("beforeitemstatechange",{item:t,state:i,enabled:r}),t.setState(e,r),n.autoPaint(),n.emit("afteritemstatechange",{item:t,state:i,enabled:r}))},t.prototype.priorityState=function(t,e){var r=this.graph,n=t;(0,m.default)(t)&&(n=r.findById(t)),this.setItemState(n,e,!1),this.setItemState(n,e,!0)},t.prototype.clearItemStates=function(t,e){var r=this.graph;(0,m.default)(t)&&(t=r.findById(t)),r.emit("beforeitemstatesclear",{item:t,states:e}),t.clearStates(e),r.emit("afteritemstatesclear",{item:t,states:e})},t.prototype.refreshItem=function(t){var e=this.graph;(0,m.default)(t)&&(t=e.findById(t)),e.emit("beforeitemrefresh",{item:t}),t.refresh(),e.emit("afteritemrefresh",{item:t})},t.prototype.addCombos=function(t,e){var r=this,n=this.graph;(t||[]).forEach((function(t){or(t,(function(t){var n;return e.forEach((function(e){e.id===t.id&&(e.children=t.children,e.depth=t.depth,n=e)})),n&&r.addItem("combo",n),!0}))}));var i=n.get("comboGroup");i&&i.sort()},t.prototype.changeItemVisibility=function(t,e){var r=this,n=this.graph;if((0,m.default)(t)&&(t=n.findById(t)),t){if(n.emit("beforeitemvisibilitychange",{item:t,visible:e}),t.changeVisibility(e),t.getType&&t.getType()===Lr){var i=t.getEdges();(0,c.default)(i,(function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&r.changeItemVisibility(t,e)}))}else if(t.getType&&t.getType()===Yr){var o=n.get("comboTrees"),a=t.get("id"),s=[],u=!1;(o||[]).forEach((function(t){u||t.children&&0!==t.children.length&&ir(t,(function(t){return t.id!==a||(s=t.children,u=!0,!1)}))})),s.forEach((function(t){var i=n.findById(t.id);r.changeItemVisibility(i,e)}));i=t.getEdges();(0,c.default)(i,(function(t){(!e||t.get("source").isVisible()&&t.get("target").isVisible())&&r.changeItemVisibility(t,e)}))}return n.emit("afteritemvisibilitychange",{item:t,visible:e}),t}console.warn("The item to be shown or hidden does not exist!")},t.prototype.destroy=function(){this.graph=null,this.destroyed=!0},t}();var qr=function(){function t(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return t.prototype.init=function(t){var e=this;e.nodes=t.nodes||[],e.edges=t.edges||[],e.combos=t.combos||[]},t.prototype.execute=function(){},t.prototype.layout=function(t){this.init(t),this.execute()},t.prototype.getDefaultCfg=function(){return{}},t.prototype.updateCfg=function(t){(0,Tr.default)(this,t)},t.prototype.destroy=function(){var t=this;t.positions=null,t.nodes=null,t.edges=null,t.destroyed=!0},t}(),Wr={registerLayout:function(t,e,r){if(void 0===r&&(r=qr),!e)throw new Error("please specify handler for this layout: "+t);var n=function(t){function r(r){var n=t.call(this)||this,i=n,o={},a=i.getDefaultCfg();return(0,Tr.default)(o,a,e,r),(0,c.default)(o,(function(t,e){i[e]=t})),n}return(0,x.__extends)(r,t),r}(r);Wr[t]=n}};const Ur=Wr;function Zr(t,e){return t.degree<e.degree?-1:t.degree>e.degree?1:0}const Kr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.radius=null,e.startRadius=null,e.endRadius=null,e.startAngle=0,e.endAngle=2*Math.PI,e.clockwise=!0,e.divisions=1,e.ordering=null,e.angleRatio=1,e.nodes=[],e.edges=[],e.nodeMap={},e.degrees=[],e.width=300,e.height=300,e}return(0,x.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.edges,n=e.length,i=t.center;if(0!==n){if(1===n)return e[0].x=i[0],void(e[0].y=i[1]);var o=t.radius,a=t.startRadius,s=t.endRadius,u=t.divisions,h=t.startAngle,c=t.endAngle,l=(c-h)/n,f={};e.forEach((function(t,e){f[t.id]=e})),t.nodeMap=f;var d=Wt(e.length,f,r);t.degrees=d,t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),o||a||s?!a&&s?a=s:a&&!s&&(s=a):o=t.height>t.width?t.width/2:t.height/2;var p=l*t.angleRatio;t.astep=p;var g=t.ordering,v=[];v="topology"===g?t.topologyOrdering():"topology-directed"===g?t.topologyOrdering(!0):"degree"===g?t.degreeOrdering():e;for(var y=t.clockwise,m=Math.ceil(n/u),x=0;x<n;++x){var b=o;b||null===a||null===s||(b=a+x*(s-a)/(n-1)),b||(b=10+100*x/(n-1));var w=h+x%m*p+2*Math.PI/u*Math.floor(x/m);y||(w=c-x%m*p-2*Math.PI/u*Math.floor(x/m)),v[x].x=i[0]+Math.cos(w)*b,v[x].y=i[1]+Math.sin(w)*b,v[x].weight=d[x]}}},e.prototype.topologyOrdering=function(t){void 0===t&&(t=!1);var e=this,r=e.degrees,n=e.edges,i=e.nodes,o=(0,at.clone)(i),a=e.nodeMap,s=[o[0]],u=[i[0]],h=[],c=i.length;h[0]=!0,function(t,e,r,n){t.forEach((function(e,r){t[r].children=[],t[r].parent=[]})),n?e.forEach((function(e){var n=0;e.source&&(n=r[e.source]);var i=0;e.target&&(i=r[e.target]),t[n].children.push(t[i].id),t[i].parent.push(t[n].id)})):e.forEach((function(e){var n=0;e.source&&(n=r[e.source]);var i=0;e.target&&(i=r[e.target]),t[n].children.push(t[i].id),t[i].children.push(t[n].id)}))}(o,n,a,t);var l=0;return o.forEach((function(t,e){if(0!==e)if(e!==c-1&&r[e]===r[e+1]&&!function(t,e,r){for(var n=r.length,i=0;i<n;i++)if(t.id===r[i].source&&e.id===r[i].target||e.id===r[i].source&&t.id===r[i].target)return!0;return!1}(s[l],t,n)||!0===h[e]){for(var f=s[l].children,d=!1,p=0;p<f.length;p++){var g=a[f[p]];if(r[g]===r[e]&&!0!==h[g]){s.push(o[g]),u.push(i[a[o[g].id]]),h[g]=!0,d=!0;break}}for(var v=0;!d&&(h[v]||(s.push(o[v]),u.push(i[a[o[v].id]]),h[v]=!0,d=!0),++v!==c););}else s.push(t),u.push(i[a[t.id]]),h[e]=!0,l++})),u},e.prototype.degreeOrdering=function(){var t=this.nodes,e=[],r=this.degrees;return t.forEach((function(t,n){t.degree=r[n],e.push(t)})),e.sort(Zr),e},e}(qr);const $r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.nodeSize=30,e.minNodeSpacing=10,e.preventOverlap=!1,e.equidistant=!1,e.startAngle=1.5*Math.PI,e.clockwise=!0,e.sortBy="degree",e.nodes=[],e.edges=[],e.width=300,e.height=300,e}return(0,x.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.edges,n=e.length,i=t.center;if(0!==n){if(1===n)return e[0].x=i[0],void(e[0].y=i[1]);var o,a=[];o=(0,g.default)(t.nodeSize)?Math.max(t.nodeSize[0],t.nodeSize[1]):t.nodeSize,e.forEach((function(t){a.push(t);var e=o;(0,g.default)(t.size)?e=Math.max(t.size[0],t.size[1]):(0,at.isNumber)(t.size)&&(e=t.size),o=Math.max(o,e)})),t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.clockwise=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise;var s={},u={};if(a.forEach((function(t,e){s[t.id]=t,u[t.id]=e})),!("degree"!==t.sortBy&&(0,m.default)(t.sortBy)&&void 0!==a[0][t.sortBy]||(t.sortBy="degree",(0,at.isNumber)(e[0].degree)))){var h=Wt(e.length,u,r);a.forEach((function(t,e){t.degree=h[e]}))}a.sort((function(e,r){return r[t.sortBy]-e[t.sortBy]})),t.maxValueNode=a[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var c=[[]],l=c[0];a.forEach((function(e){if(l.length>0){var r=Math.abs(l[0][t.sortBy]-e[t.sortBy]);t.maxLevelDiff&&r>=t.maxLevelDiff&&(l=[],c.push(l))}l.push(e)}));var f=o+t.minNodeSpacing;if(!t.preventOverlap){var d=c.length>0&&c[0].length>1,p=(Math.min(t.width,t.height)/2-f)/(c.length+(d?1:0));f=Math.min(f,p)}var v=0;if(c.forEach((function(e){var r=t.sweep;void 0===r&&(r=2*Math.PI-2*Math.PI/e.length);var n=e.dTheta=r/Math.max(1,e.length-1);if(e.length>1&&t.preventOverlap){var i=Math.cos(n)-Math.cos(0),o=Math.sin(n)-Math.sin(0),a=Math.sqrt(f*f/(i*i+o*o));v=Math.max(a,v)}e.r=v,v+=f})),t.equidistant){for(var y=0,x=0,b=0;b<c.length;b++){var w=c[b].r-x;y=Math.max(y,w)}x=0,c.forEach((function(t,e){0===e&&(x=t.r),t.r=x,x+=y}))}c.forEach((function(e){var r=e.dTheta,n=e.r;e.forEach((function(e,o){var a=t.startAngle+(t.clockwise?1:-1)*r*o;e.x=i[0]+n*Math.cos(a),e.y=i[1]+n*Math.sin(a)}))}))}},e}(qr);var Qr=r(92546),Jr=r.n(Qr);const tn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rankdir="TB",e.nodesep=50,e.ranksep=50,e.controlPoints=!1,e.sortByCombo=!1,e}return(0,x.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.nodeSize,n=t.rankdir;if(e){var i,o=t.edges||[],a=new(Jr().graphlib.Graph);i=r?(0,g.default)(r)?function(){return r}:function(){return[r,r]}:function(t){return t.size?(0,g.default)(t.size)?t.size:[t.size,t.size]:[40,40]};var s,u=en(t.nodesepFunc,t.nodesep,50),h=en(t.ranksepFunc,t.ranksep,50);"LR"!==n&&"RL"!==n||(u=en(t.ranksepFunc,t.ranksep,50),h=en(t.nodesepFunc,t.nodesep,50)),a.setDefaultEdgeLabel((function(){return{}})),a.setGraph(t),e.forEach((function(t){var e=i(t),r=h(t),n=u(t),o=e[0]+2*n,s=e[1]+2*r;a.setNode(t.id,{width:o,height:s})})),o.forEach((function(t){a.setEdge(t.source,t.target,{weight:t.weight||1})})),Jr().layout(a),a.nodes().forEach((function(t){s=a.node(t);var r=e.findIndex((function(e){return e.id===t}));e[r].x=s.x,e[r].y=s.y})),a.edges().forEach((function(e){s=a.edge(e);var r=o.findIndex((function(t){return t.source===e.v&&t.target===e.w}));t.controlPoints&&"loop"!==o[r].type&&"loop"!==o[r].shape&&(o[r].controlPoints=s.points.slice(1,s.points.length-1))})),t.sortByCombo&&t.sortLevel("comboId")}},e.prototype.sortLevel=function(t){var e=this.nodes,r={};e.forEach((function(t){r[t.y]||(r[t.y]={y:t.y,nodes:[]}),r[t.y].nodes.push(t)})),Object.keys(r).forEach((function(e){var n=r[e].nodes,i=n.length,o={};if(n.forEach((function(t){var e=t.comboId;o[e]||(o[e]={x:0,y:0,count:0}),o[e].x+=t.x,o[e].y+=t.y,o[e].count++})),Object.keys(o).forEach((function(t){o[t].x/=o[t].count,o[t].y/=o[t].count})),1!==i){var a=n.sort((function(t,e){return t.x-e.x})),s=a[0].x,u=(a[i-1].x-s)/(i-1);n.sort((function(e,r){var n=e[t]||"undefined",i=r[t]||"undefined";return n<i?-1:n>i?1:0})).forEach((function(t,e){t.x=s+e*u}))}}))},e}(qr);function en(t,e,r){return t||((0,at.isNumber)(e)?function(){return e}:function(){return r})}function rn(t,e,r,n){if(isNaN(e)||isNaN(r))return t;var i,o,a,s,u,h,c,l,f,d=t._root,p={data:n},g=t._x0,v=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((h=e>=(o=(g+y)/2))?g=o:y=o,(c=r>=(a=(v+m)/2))?v=a:m=a,i=d,!(d=d[l=c<<1|h]))return i[l]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&r===u)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(h=e>=(o=(g+y)/2))?g=o:y=o,(c=r>=(a=(v+m)/2))?v=a:m=a}while((l=c<<1|h)==(f=(u>=a)<<1|s>=o));return i[f]=d,i[l]=p,t}function nn(t,e,r,n,i){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=i}function on(t){return t[0]}function an(t){return t[1]}function sn(t,e,r){var n=new un(null==e?on:e,null==r?an:r,NaN,NaN,NaN,NaN);return null==t?n:n.addAll(t)}function un(t,e,r,n,i,o){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=i,this._y1=o,this._root=void 0}function hn(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var cn=sn.prototype=un.prototype;function ln(t){return function(){return t}}function fn(t){return 1e-6*(t()-.5)}cn.copy=function(){var t,e,r=new un(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=hn(n),r;for(t=[{source:n,target:r._root=new Array(4)}];n=t.pop();)for(var i=0;i<4;++i)(e=n.source[i])&&(e.length?t.push({source:e,target:n.target[i]=new Array(4)}):n.target[i]=hn(e));return r},cn.add=function(t){const e=+this._x.call(null,t),r=+this._y.call(null,t);return rn(this.cover(e,r),e,r,t)},cn.addAll=function(t){var e,r,n,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,h=1/0,c=-1/0,l=-1/0;for(r=0;r<o;++r)isNaN(n=+this._x.call(null,e=t[r]))||isNaN(i=+this._y.call(null,e))||(a[r]=n,s[r]=i,n<u&&(u=n),n>c&&(c=n),i<h&&(h=i),i>l&&(l=i));if(u>c||h>l)return this;for(this.cover(u,h).cover(c,l),r=0;r<o;++r)rn(this,a[r],s[r],t[r]);return this},cn.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,n=this._y0,i=this._x1,o=this._y1;if(isNaN(r))i=(r=Math.floor(t))+1,o=(n=Math.floor(e))+1;else{for(var a,s,u=i-r||1,h=this._root;r>t||t>=i||n>e||e>=o;)switch(s=(e<n)<<1|t<r,(a=new Array(4))[s]=h,h=a,u*=2,s){case 0:i=r+u,o=n+u;break;case 1:r=i-u,o=n+u;break;case 2:i=r+u,n=o-u;break;case 3:r=i-u,n=o-u}this._root&&this._root.length&&(this._root=h)}return this._x0=r,this._y0=n,this._x1=i,this._y1=o,this},cn.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},cn.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},cn.find=function(t,e,r){var n,i,o,a,s,u,h,c=this._x0,l=this._y0,f=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new nn(g,c,l,f,d)),null==r?r=1/0:(c=t-r,l=e-r,f=t+r,d=e+r,r*=r);u=p.pop();)if(!(!(g=u.node)||(i=u.x0)>f||(o=u.y0)>d||(a=u.x1)<c||(s=u.y1)<l))if(g.length){var v=(i+a)/2,y=(o+s)/2;p.push(new nn(g[3],v,y,a,s),new nn(g[2],i,y,v,s),new nn(g[1],v,o,a,y),new nn(g[0],i,o,v,y)),(h=(e>=y)<<1|t>=v)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-h],p[p.length-1-h]=u)}else{var m=t-+this._x.call(null,g.data),x=e-+this._y.call(null,g.data),b=m*m+x*x;if(b<r){var w=Math.sqrt(r=b);c=t-w,l=e-w,f=t+w,d=e+w,n=g.data}}return n},cn.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,r,n,i,o,a,s,u,h,c,l,f,d=this._root,p=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((h=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(u=(g+y)/2))?g=u:y=u,e=d,!(d=d[l=c<<1|h]))return this;if(!d.length)break;(e[l+1&3]||e[l+2&3]||e[l+3&3])&&(r=e,f=l)}for(;d.data!==t;)if(n=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,n?(i?n.next=i:delete n.next,this):e?(i?e[l]=i:delete e[l],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(r?r[f]=d:this._root=d),this):(this._root=i,this)},cn.removeAll=function(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this},cn.root=function(){return this._root},cn.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},cn.visit=function(t){var e,r,n,i,o,a,s=[],u=this._root;for(u&&s.push(new nn(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,n=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var h=(n+o)/2,c=(i+a)/2;(r=u[3])&&s.push(new nn(r,h,c,o,a)),(r=u[2])&&s.push(new nn(r,n,c,h,a)),(r=u[1])&&s.push(new nn(r,h,i,o,c)),(r=u[0])&&s.push(new nn(r,n,i,h,c))}return this},cn.visitAfter=function(t){var e,r=[],n=[];for(this._root&&r.push(new nn(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,h=e.y1,c=(a+u)/2,l=(s+h)/2;(o=i[0])&&r.push(new nn(o,a,s,c,l)),(o=i[1])&&r.push(new nn(o,c,s,u,l)),(o=i[2])&&r.push(new nn(o,a,l,c,h)),(o=i[3])&&r.push(new nn(o,c,l,u,h))}n.push(e)}for(;e=n.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},cn.x=function(t){return arguments.length?(this._x=t,this):this._x},cn.y=function(t){return arguments.length?(this._y=t,this):this._y};var dn={value:()=>{}};function pn(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n||/[\s.]/.test(t))throw new Error("illegal type: "+t);n[t]=[]}return new gn(n)}function gn(t){this._=t}function vn(t,e){return t.trim().split(/^|\s+/).map((function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function yn(t,e){for(var r,n=0,i=t.length;n<i;++n)if((r=t[n]).name===e)return r.value}function mn(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=dn,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=r&&t.push({name:e,value:r}),t}gn.prototype=pn.prototype={constructor:gn,on:function(t,e){var r,n=this._,i=vn(t+"",n),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(r=(t=i[o]).type)n[r]=mn(n[r],t.name,e);else if(null==e)for(r in n)n[r]=mn(n[r],t.name,null);return this}for(;++o<a;)if((r=(t=i[o]).type)&&(r=yn(n[r],t.name)))return r},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new gn(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,i=new Array(r),o=0;o<r;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,r=(n=this._[t]).length;o<r;++o)n[o].value.apply(e,i)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,o=n.length;i<o;++i)n[i].value.apply(e,r)}};const xn=pn;var bn,wn,Mn=0,Sn=0,_n=0,kn=0,En=0,Cn=0,Pn="object"==typeof performance&&performance.now?performance:Date,An="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function In(){return En||(An(On),En=Pn.now()+Cn)}function On(){En=0}function Tn(){this._call=this._time=this._next=null}function Nn(t,e,r){var n=new Tn;return n.restart(t,e,r),n}function Dn(){En=(kn=Pn.now())+Cn,Mn=Sn=0;try{!function(){In(),++Mn;for(var t,e=bn;e;)(t=En-e._time)>=0&&e._call.call(null,t),e=e._next;--Mn}()}finally{Mn=0,function(){var t,e,r=bn,n=1/0;for(;r;)r._call?(n>r._time&&(n=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:bn=e);wn=t,jn(n)}(),En=0}}function Bn(){var t=Pn.now(),e=t-kn;e>1e3&&(Cn-=e,kn=t)}function jn(t){Mn||(Sn&&(Sn=clearTimeout(Sn)),t-En>24?(t<1/0&&(Sn=setTimeout(Dn,t-Pn.now()-Cn)),_n&&(_n=clearInterval(_n))):(_n||(kn=Pn.now(),_n=setInterval(Bn,1e3)),Mn=1,An(Dn)))}Tn.prototype=Nn.prototype={constructor:Tn,restart:function(t,e,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?In():+r)+(null==e?0:+e),this._next||wn===this||(wn?wn._next=this:bn=this,wn=this),this._call=t,this._time=r,jn()},stop:function(){this._call&&(this._call=null,this._time=1/0,jn())}};const Rn=4294967296;function Ln(t){return t.x}function zn(t){return t.y}var Fn=Math.PI*(3-Math.sqrt(5));function Yn(t){var e,r=1,n=.001,i=1-Math.pow(n,1/300),o=0,a=.6,s=new Map,u=Nn(l),h=xn("tick","end"),c=function(){let t=1;return()=>(t=(1664525*t+1013904223)%Rn)/Rn}();function l(){f(),h.call("tick",e),r<n&&(u.stop(),h.call("end",e))}function f(n){var u,h,c=t.length;void 0===n&&(n=1);for(var l=0;l<n;++l)for(r+=(o-r)*i,s.forEach((function(t){t(r)})),u=0;u<c;++u)null==(h=t[u]).fx?h.x+=h.vx*=a:(h.x=h.fx,h.vx=0),null==h.fy?h.y+=h.vy*=a:(h.y=h.fy,h.vy=0);return e}function d(){for(var e,r=0,n=t.length;r<n;++r){if((e=t[r]).index=r,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+r),o=r*Fn;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,c),e}return null==t&&(t=[]),d(),e={tick:f,restart:function(){return u.restart(l),e},stop:function(){return u.stop(),e},nodes:function(r){return arguments.length?(t=r,d(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(r=+t,e):r},alphaMin:function(t){return arguments.length?(n=+t,e):n},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(c=t,s.forEach(p),e):c},force:function(t,r){return arguments.length>1?(null==r?s.delete(t):s.set(t,p(r)),e):s.get(t)},find:function(e,r,n){var i,o,a,s,u,h=0,c=t.length;for(null==n?n=1/0:n*=n,h=0;h<c;++h)(a=(i=e-(s=t[h]).x)*i+(o=r-s.y)*o)<n&&(u=s,n=a);return u},on:function(t,r){return arguments.length>1?(h.on(t,r),e):h.on(t)}}}function Gn(){var t,e,r,n,i,o=ln(-30),a=1,s=1/0,u=.81;function h(r){var i,o=t.length,a=sn(t,Ln,zn).visitAfter(l);for(n=r,i=0;i<o;++i)e=t[i],a.visit(f)}function c(){if(t){var e,r,n=t.length;for(i=new Array(n),e=0;e<n;++e)r=t[e],i[r.index]=+o(r,e,t)}}function l(t){var e,r,n,o,a,s=0,u=0;if(t.length){for(n=o=a=0;a<4;++a)(e=t[a])&&(r=Math.abs(e.value))&&(s+=e.value,u+=r,n+=r*e.x,o+=r*e.y);t.x=n/u,t.y=o/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function f(t,o,h,c){if(!t.value)return!0;var l=t.x-e.x,f=t.y-e.y,d=c-o,p=l*l+f*f;if(d*d/u<p)return p<s&&(0===l&&(p+=(l=fn(r))*l),0===f&&(p+=(f=fn(r))*f),p<a&&(p=Math.sqrt(a*p)),e.vx+=l*t.value*n/p,e.vy+=f*t.value*n/p),!0;if(!(t.length||p>=s)){(t.data!==e||t.next)&&(0===l&&(p+=(l=fn(r))*l),0===f&&(p+=(f=fn(r))*f),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(d=i[t.data.index]*n/p,e.vx+=l*d,e.vy+=f*d)}while(t=t.next)}}return h.initialize=function(e,n){t=e,r=n,c()},h.strength=function(t){return arguments.length?(o="function"==typeof t?t:ln(+t),c(),h):o},h.distanceMin=function(t){return arguments.length?(a=t*t,h):Math.sqrt(a)},h.distanceMax=function(t){return arguments.length?(s=t*t,h):Math.sqrt(s)},h.theta=function(t){return arguments.length?(u=t*t,h):Math.sqrt(u)},h}function Xn(t){return t.index}function Vn(t,e){var r=t.get(e);if(!r)throw new Error("node not found: "+e);return r}function Hn(t){var e,r,n,i,o,a,s=Xn,u=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},h=ln(30),c=1;function l(n){for(var i=0,s=t.length;i<c;++i)for(var u,h,l,f,d,p,g,v=0;v<s;++v)h=(u=t[v]).source,f=(l=u.target).x+l.vx-h.x-h.vx||fn(a),d=l.y+l.vy-h.y-h.vy||fn(a),f*=p=((p=Math.sqrt(f*f+d*d))-r[v])/p*n*e[v],d*=p,l.vx-=f*(g=o[v]),l.vy-=d*g,h.vx+=f*(g=1-g),h.vy+=d*g}function f(){if(n){var a,u,h=n.length,c=t.length,l=new Map(n.map(((t,e)=>[s(t,e,n),t])));for(a=0,i=new Array(h);a<c;++a)(u=t[a]).index=a,"object"!=typeof u.source&&(u.source=Vn(l,u.source)),"object"!=typeof u.target&&(u.target=Vn(l,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)u=t[a],o[a]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);e=new Array(c),d(),r=new Array(c),p()}}function d(){if(n)for(var r=0,i=t.length;r<i;++r)e[r]=+u(t[r],r,t)}function p(){if(n)for(var e=0,i=t.length;e<i;++e)r[e]=+h(t[e],e,t)}return null==t&&(t=[]),l.initialize=function(t,e){n=t,a=e,f()},l.links=function(e){return arguments.length?(t=e,f(),l):t},l.id=function(t){return arguments.length?(s=t,l):s},l.iterations=function(t){return arguments.length?(c=+t,l):c},l.strength=function(t){return arguments.length?(u="function"==typeof t?t:ln(+t),d(),l):u},l.distance=function(t){return arguments.length?(h="function"==typeof t?t:ln(+t),p(),l):h},l}function qn(t){return t.x+t.vx}function Wn(t){return t.y+t.vy}function Un(t){var e,r,n,i=1,o=1;function a(){for(var t,a,u,h,c,l,f,d=e.length,p=0;p<o;++p)for(a=sn(e,qn,Wn).visitAfter(s),t=0;t<d;++t)u=e[t],l=r[u.index],f=l*l,h=u.x+u.vx,c=u.y+u.vy,a.visit(g);function g(t,e,r,o,a){var s=t.data,d=t.r,p=l+d;if(!s)return e>h+p||o<h-p||r>c+p||a<c-p;if(s.index>u.index){var g=h-s.x-s.vx,v=c-s.y-s.vy,y=g*g+v*v;y<p*p&&(0===g&&(y+=(g=fn(n))*g),0===v&&(y+=(v=fn(n))*v),y=(p-(y=Math.sqrt(y)))/y*i,u.vx+=(g*=y)*(p=(d*=d)/(f+d)),u.vy+=(v*=y)*p,s.vx-=g*(p=1-p),s.vy-=v*p)}}}function s(t){if(t.data)return t.r=r[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function u(){if(e){var n,i,o=e.length;for(r=new Array(o),n=0;n<o;++n)i=e[n],r[i.index]=+t(i,n,e)}}return"function"!=typeof t&&(t=ln(null==t?1:+t)),a.initialize=function(t,r){e=t,n=r,u()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:ln(+e),u(),a):t},a}function Zn(t){var e,r,n,i=ln(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(n[o]-i.x)*r[o]*t}function a(){if(e){var o,a=e.length;for(r=new Array(a),n=new Array(a),o=0;o<a;++o)r[o]=isNaN(n[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=ln(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:ln(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:ln(+e),a(),o):t},o}function Kn(t){var e,r,n,i=ln(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(n[o]-i.y)*r[o]*t}function a(){if(e){var o,a=e.length;for(r=new Array(a),n=new Array(a),o=0;o<a;++o)r[o]=isNaN(n[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=ln(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:ln(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:ln(+e),a(),o):t},o}function $n(){function t(t){return function(){return t}}var e,r=function(t){return t.cluster},n=t(1),i=t(-1),o=t(100),a=t(.1),s=[0,0],u=[],h={},c=[],l=100,f=100,d={none:{x:0,y:0}},p=[],g="force",v=!0,y=.1;function m(t){if(!v)return m;e.tick(),b();for(var n=0,i=u.length,o=void 0,a=t*y;n<i;++n)(o=u[n]).vx+=(d[r(o)].x-o.x)*a,o.vy+=(d[r(o)].y-o.y)*a}function x(){u&&function(){if(!u||!u.length)return;if(void 0===r(u[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var t=(s=[],d=[],g={},v={},y=[],v=function(t){var e={};return t.forEach((function(t){var n=r(t);e[n]||(e[n]={count:0,sumforceNodeSize:0})})),t.forEach((function(t){var i=r(t),o=n(t),a=e[i];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI*(o*o)*1.3,e[i]=a})),e}(u),y=function(t){var e={},n=[];return t.forEach((function(t){var n=function(t){var e=r(h[t.source]),n=r(h[t.target]);return e<=n?e+"~"+n:n+"~"+e}(t),i=0;void 0!==e[n]&&(i=e[n]),i+=1,e[n]=i})),Object.entries(e).forEach((function(t){var e=t[0],r=t[1],i=e.split("~")[0],o=e.split("~")[1];void 0!==i&&void 0!==o&&n.push({source:i,target:o,count:r})})),n}(c),Object.keys(v).forEach((function(t,e){var r=v[t];s.push({id:t,size:r.count,r:Math.sqrt(r.sumforceNodeSize/Math.PI)}),g[t]=e})),y.forEach((function(t){var e=g[t.source],r=g[t.target];void 0!==e&&void 0!==r&&d.push({source:e,target:r,count:t.count})})),{nodes:s,links:d});var s,d,g,v,y;e=Yn(t.nodes).force("x",Zn(l).strength(.1)).force("y",Kn(f).strength(.1)).force("collide",Un((function(t){return t.r})).iterations(4)).force("charge",Gn().strength(i)).force("links",Hn(t.nodes.length?t.links:[]).distance(o).strength(a)),p=e.nodes(),b()}()}function b(){return d={none:{x:0,y:0}},p.forEach((function(t){d[t.id]={x:t.x-s[0],y:t.y-s[1]}})),d}function w(t){h={},t.forEach((function(t){h[t.id]=t}))}return m.initialize=function(t){u=t,x()},m.template=function(t){return arguments.length?(g=t,x(),m):g},m.groupBy=function(t){return arguments.length?"string"==typeof t?(r=function(e){return e[t]},m):(r=t,m):r},m.enableGrouping=function(t){return arguments.length?(v=t,m):v},m.strength=function(t){return arguments.length?(y=t,m):y},m.centerX=function(t){return arguments.length?(l=t,m):l},m.centerY=function(t){return arguments.length?(f=t,m):f},m.nodes=function(t){return arguments.length?(w(t||[]),u=t||[],m):u},m.links=function(t){return arguments.length?(c=t||[],x(),m):c},m.forceNodeSize=function(e){return arguments.length?(n="function"==typeof e?e:t(+e),x(),m):n},m.nodeSize=m.forceNodeSize,m.forceCharge=function(e){return arguments.length?(i="function"==typeof e?e:t(+e),x(),m):i},m.forceLinkDistance=function(e){return arguments.length?(o="function"==typeof e?e:t(+e),x(),m):o},m.forceLinkStrength=function(e){return arguments.length?(a="function"==typeof e?e:t(+e),x(),m):a},m.offset=function(t){return arguments.length?(s=t,m):s},m.getFocis=b,m}var Qn=r(91933),Jn="LAYOUT_RUN",ti="LAYOUT_END",ei="LAYOUT_ERROR",ri="LAYOUT_TICK";const ni=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.nodeStrength=null,e.edgeStrength=null,e.preventOverlap=!1,e.clusterNodeStrength=null,e.clusterEdgeStrength=null,e.clusterEdgeDistance=null,e.clusterNodeSize=null,e.clusterFociStrength=null,e.linkDistance=50,e.alphaDecay=.028,e.alphaMin=.001,e.alpha=.3,e.collideStrength=1,e.workerEnabled=!1,e.tick=function(){},e.onLayoutEnd=function(){},e.onTick=function(){},e.ticking=void 0,e}return(0,x.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},e.prototype.init=function(t){var e=this;e.nodes=t.nodes||[];var r=t.edges||[];e.edges=r.map((function(t){var e={},r=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(t).forEach((function(n){r.indexOf(n)>-1||(e[n]=t[n])})),e})),e.ticking=!1},e.prototype.execute=function(t){var e=this,r=e.nodes,n=e.edges;if(!e.ticking){var i=e.forceSimulation,o=e.alphaMin,a=e.alphaDecay,s=e.alpha;if(i)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(r),e.clusterForce.links(n)),i.nodes(r),e.edgeForce.links(n)),e.preventOverlap&&e.overlapProcess(i),i.alpha(s).restart(),this.ticking=!0;else try{var u=Gn();if(e.nodeStrength&&u.strength(e.nodeStrength),i=Yn().nodes(r),e.clustering){var h=$n();h.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),n&&h.links(n),r&&h.nodes(r),h.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=h,i.force("group",h)}if(i.force("center",function(t,e){var r,n=1;function i(){var i,o,a=r.length,s=0,u=0;for(i=0;i<a;++i)s+=(o=r[i]).x,u+=o.y;for(s=(s/a-t)*n,u=(u/a-e)*n,i=0;i<a;++i)(o=r[i]).x-=s,o.y-=u}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){r=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(n=+t,i):n},i}(e.center[0],e.center[1])).force("charge",u).alpha(s).alphaDecay(a).alphaMin(o),e.preventOverlap&&e.overlapProcess(i),n){var c=Hn().id((function(t){return t.id})).links(n);e.edgeStrength&&c.strength(e.edgeStrength),e.linkDistance&&c.distance(e.linkDistance),e.edgeForce=c,i.force("link",c)}if(e.workerEnabled&&!ii()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),e.workerEnabled){i.stop();for(var l=function(t){var e=t.alphaMin(),r=t.alphaTarget(),n=t.alpha(),i=Math.log((e-r)/(n-r))/Math.log(1-t.alphaDecay());return Math.ceil(i)}(i),f=1;f<=l;f++)i.tick(),postMessage({type:ri,currentTick:f,totalTicks:l,nodes:r},void 0);e.ticking=!1}else i.on("tick",(function(){e.tick()})).on("end",(function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()})),e.ticking=!0;e.forceSimulation=i,e.ticking=!0}catch(t){e.ticking=!1,console.warn(t)}}},e.prototype.overlapProcess=function(t){var e,r,n=this,i=n.nodeSize,o=n.nodeSpacing,a=n.collideStrength;if(r=(0,y.default)(o)?function(){return o}:(0,Qn.default)(o)?o:function(){return 0},i)if((0,Qn.default)(i))e=function(t){return i(t)+r(t)};else if((0,g.default)(i)){var s=(i[0]>i[1]?i[0]:i[1])/2;e=function(t){return s+r(t)}}else if((0,y.default)(i)){var u=i/2;e=function(t){return u+r(t)}}else e=function(){return 10};else e=function(t){return t.size?(0,g.default)(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+r(t):t.size/2+r(t):10+r(t)};t.force("collisionForce",Un(e).strength(a))},e.prototype.updateCfg=function(t){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,(0,Tr.default)(e,t)},e.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},e}(qr);function ii(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}const oi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.maxIteration=500,e.gravity=10,e.clustering=!1,e.clusterGravity=10,e.linkDistance=50,e.alpha=1,e.alphaMin=.001,e.alphaDecay=1-Math.pow(e.alphaMin,1/300),e.alphaTarget=0,e.velocityDecay=.6,e.linkStrength=1,e.nodeStrength=30,e.preventOverlap=!1,e.collideStrength=1,e.optimizeRangeFactor=1,e.tick=function(){},e.nodes=[],e.edges=[],e.width=300,e.height=300,e.bias=[],e.nodeMap={},e.nodeIdxMap={},e}return(0,x.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=r[0],void(e[0].y=r[1]);var n={},i={};e.forEach((function(t,e){n[t.id]=t,i[t.id]=e})),t.nodeMap=n,t.nodeIdxMap=i,t.run()}},e.prototype.run=function(){var t=this,e=t.nodes,r=t.edges,n=t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var i,o=t.center,a=t.velocityDecay,s=t.clustering;t.initVals(),s&&(i=t.getClusterMap());for(var u=function(n){var o=[];e.forEach((function(t,e){o[e]={x:0,y:0}})),t.applyCalculate(e,r,o),s&&t.applyClusterForce(i,o),e.forEach((function(t,e){(0,at.isNumber)(t.x)&&(0,at.isNumber)(t.y)&&(t.x+=o[e].x*a,t.y+=o[e].y*a)})),h.alpha+=(h.alphaTarget-h.alpha)*h.alphaDecay,t.tick()},h=this,c=0;c<n;c++)u();var l=[0,0];e.forEach((function(t){(0,at.isNumber)(t.x)&&(0,at.isNumber)(t.y)&&(l[0]+=t.x,l[1]+=t.y)})),l[0]/=e.length,l[1]/=e.length;var f=[o[0]-l[0],o[1]-l[1]];e.forEach((function(t,e){(0,at.isNumber)(t.x)&&(0,at.isNumber)(t.y)&&(t.x+=f[0],t.y+=f[1])}))},e.prototype.initVals=function(){for(var t=this,e=t.edges,r={},n=0;n<e.length;++n)r[e[n].source]?r[e[n].source]++:r[e[n].source]=1,r[e[n].target]?r[e[n].target]++:r[e[n].target]=1;var i=[];for(n=0;n<e.length;++n)i[n]=r[e[n].source]/(r[e[n].source]+r[e[n].target]);this.bias=i;var o,a,s=t.nodeSize,u=t.nodeSpacing;if(a=(0,at.isNumber)(u)?function(){return u}:(0,at.isFunction)(u)?u:function(){return 0},s)if((0,at.isFunction)(s))o=function(t){return s(t)+a(t)};else if((0,at.isArray)(s)){var h=(s[0]>s[1]?s[0]:s[1])/2;o=function(t){return h+a(t)}}else if((0,at.isNumber)(s)){var c=s/2;o=function(t){return c+a(t)}}else o=function(){return 10};else o=function(t){return t.size?(0,at.isArray)(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+a(t):t.size/2+a(t):10+a(t)};this.nodeSize=o;var l,f=this.linkDistance;f||(f=50),(0,at.isNumber)(f)&&(l=function(t){return f}),this.linkDistance=l;var d,p=this.linkStrength;p||(p=1),(0,at.isNumber)(p)&&(d=function(t){return p}),this.linkStrength=d;var g,v=this.nodeStrength;v||(v=30),(0,at.isNumber)(v)&&(g=function(t){return v}),this.nodeStrength=g},e.prototype.getClusterMap=function(){var t=this.nodes,e={};for(var r in t.forEach((function(t){if(void 0===e[t.cluster]){var r={name:t.cluster,cx:0,cy:0,count:0};e[t.cluster]=r}var n=e[t.cluster];(0,at.isNumber)(t.x)&&(n.cx+=t.x),(0,at.isNumber)(t.y)&&(n.cy+=t.y),n.count++})),e)e[r].cx/=e[r].count,e[r].cy/=e[r].count;return e},e.prototype.applyClusterForce=function(t,e){var r=this,n=r.gravity,i=r.nodes,o=r.clusterGravity||n,a=this.alpha;for(var s in i.forEach((function(r,n){if((0,at.isNumber)(r.x)&&(0,at.isNumber)(r.y)){var i=t[r.cluster],s=r.x-i.cx,u=r.y-i.cy,h=Math.sqrt(s*s+u*u);e[n].x-=s*o*a/h,e[n].y-=u*o*a/h}})),t)t[s].cx=0,t[s].cy=0,t[s].count=0;for(var s in i.forEach((function(e){var r=t[e.cluster];(0,at.isNumber)(e.x)&&(r.cx+=e.x),(0,at.isNumber)(e.y)&&(r.cy+=e.y),r.count++})),t)t[s].cx/=t[s].count,t[s].cy/=t[s].count},e.prototype.applyCalculate=function(t,e,r){var n={};t.forEach((function(e,i){r[i]={x:0,y:0},t.forEach((function(t,r){if(!(i<r)){var o=e.x-t.x,a=e.y-t.y,s=o*o+a*a;s<1&&(s=Math.sqrt(s)),0===o&&(s+=(o=.01*Math.random())*o),0===a&&(s+=(a=.01*Math.random())*a);var u=Math.sqrt(s);n[e.id+"-"+t.id]={vx:o,vy:a,vl:s,sqrtVl:u},n[t.id+"-"+e.id]={vx:-o,vy:-a,vl:s,sqrtVl:u}}}))})),this.calRepulsive(t,r,n),this.calAttractive(e,r,n)},e.prototype.calRepulsive=function(t,e,r){var n=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,i=this.nodeStrength,o=this.alpha,a=this.collideStrength,s=this.preventOverlap,u=this.nodeSize;t.forEach((function(h,c){t.forEach((function(t,l){if(c!==l&&(0,at.isNumber)(h.x)&&(0,at.isNumber)(t.x)&&(0,at.isNumber)(h.y)&&(0,at.isNumber)(t.y)){var f=r[h.id+"-"+t.id],d=f.vl,p=f.vx,g=f.vy;if(!(d>n)&&(e[c].x+=p*i(t)*o/d,e[c].y+=g*i(t)*o/d,s&&c<l)){var v=u(h),y=u(t),m=v+y;if(d<m*m){var x=r[h.id+"-"+t.id].sqrtVl,b=(m-x)/x*a,w=y*y/(v*v+y*y),M=p*b,S=g*b;e[c].x+=M*w,e[c].y+=S*w,w=1-w,e[l].x-=M*w,e[l].y-=S*w}}}}))}))},e.prototype.calAttractive=function(t,e,r){var n=this,i=this.linkDistance,o=this.alpha,a=this.linkStrength,s=this.bias;t.forEach((function(t,u){if(t.source&&t.target){var h=n.nodeIdxMap[t.source],c=n.nodeIdxMap[t.target];if(h!==c){var l=n.nodeMap[t.source],f=n.nodeMap[t.target];if((0,at.isNumber)(f.x)&&(0,at.isNumber)(l.x)&&(0,at.isNumber)(f.y)&&(0,at.isNumber)(l.y)){var d=r[t.target+"-"+t.source],p=(d.vl,d.sqrtVl),g=d.vx,v=d.vy,y=(p-i(t))/p*o*a(t),m=g*y,x=v*y,b=s[u];e[c].x-=m*b,e[c].y-=x*b,e[h].x+=m*(1-b),e[h].y+=x*(1-b)}}}}))},e}(qr);const ai=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.maxIteration=1e3,e.gravity=10,e.speed=1,e.clustering=!1,e.clusterGravity=10,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e}return(0,x.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},e.prototype.execute=function(){var t=this,e=this,r=e.nodes,n=e.center;if(r&&0!==r.length){if(1===r.length)return r[0].x=n[0],void(r[0].y=n[1]);var i={},o={};r.forEach((function(e,r){(0,at.isNumber)(e.x)||(e.x=Math.random()*t.width),(0,at.isNumber)(e.y)||(e.y=Math.random()*t.height),i[e.id]=e,o[e.id]=r})),e.nodeMap=i,e.nodeIdxMap=o,e.run()}},e.prototype.run=function(){var t=this,e=t.nodes,r=t.edges,n=t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var i=t.center,o=t.width/10,a=Math.sqrt(t.width*t.height/(e.length+1)),s=t.gravity,u=t.speed,h=t.clustering,c={};if(h)for(var l in e.forEach((function(t){if(void 0===c[t.cluster]){var e={name:t.cluster,cx:0,cy:0,count:0};c[t.cluster]=e}var r=c[t.cluster];(0,at.isNumber)(t.x)&&(r.cx+=t.x),(0,at.isNumber)(t.y)&&(r.cy+=t.y),r.count++})),c)c[l].cx/=c[l].count,c[l].cy/=c[l].count;for(var f=function(n){var l=[];if(e.forEach((function(t,e){l[e]={x:0,y:0}})),t.applyCalculate(e,r,l,a),h){var f=t.clusterGravity||s;for(var d in e.forEach((function(t,e){if((0,at.isNumber)(t.x)&&(0,at.isNumber)(t.y)){var r=c[t.cluster],n=Math.sqrt((t.x-r.cx)*(t.x-r.cx)+(t.y-r.cy)*(t.y-r.cy)),i=a*f;l[e].x-=i*(t.x-r.cx)/n,l[e].y-=i*(t.y-r.cy)/n}})),c)c[d].cx=0,c[d].cy=0,c[d].count=0;for(var d in e.forEach((function(t){var e=c[t.cluster];(0,at.isNumber)(t.x)&&(e.cx+=t.x),(0,at.isNumber)(t.y)&&(e.cy+=t.y),e.count++})),c)c[d].cx/=c[d].count,c[d].cy/=c[d].count}e.forEach((function(t,e){if((0,at.isNumber)(t.x)&&(0,at.isNumber)(t.y)){var r=.01*a*s;l[e].x-=r*(t.x-i[0]),l[e].y-=r*(t.y-i[1])}})),e.forEach((function(t,e){if((0,at.isNumber)(t.x)&&(0,at.isNumber)(t.y)){var r=Math.sqrt(l[e].x*l[e].x+l[e].y*l[e].y);if(r>0){var n=Math.min(o*(u/800),r);t.x+=l[e].x/r*n,t.y+=l[e].y/r*n}}}))},d=0;d<n;d++)f()},e.prototype.applyCalculate=function(t,e,r,n){this.calRepulsive(t,r,n),this.calAttractive(e,r,n)},e.prototype.calRepulsive=function(t,e,r){t.forEach((function(n,i){e[i]={x:0,y:0},t.forEach((function(t,o){if(i!==o&&(0,at.isNumber)(n.x)&&(0,at.isNumber)(t.x)&&(0,at.isNumber)(n.y)&&(0,at.isNumber)(t.y)){var a=n.x-t.x,s=n.y-t.y,u=a*a+s*s;if(0===u){u=1;var h=i>o?1:-1;a=.01*h,s=.01*h}var c=r*r/u;e[i].x+=a*c,e[i].y+=s*c}}))}))},e.prototype.calAttractive=function(t,e,r){var n=this;t.forEach((function(t){if(t.source&&t.target){var i=n.nodeIdxMap[t.source],o=n.nodeIdxMap[t.target];if(i!==o){var a=n.nodeMap[t.source],s=n.nodeMap[t.target];if((0,at.isNumber)(s.x)&&(0,at.isNumber)(a.x)&&(0,at.isNumber)(s.y)&&(0,at.isNumber)(a.y)){var u=s.x-a.x,h=s.y-a.y,c=Math.sqrt(u*u+h*h),l=c*c/r;e[o].x-=u/c*l,e[o].y-=h/c*l,e[i].x+=u/c*l,e[i].y+=h/c*l}}}}))},e}(qr);const si=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.begin=[0,0],e.preventOverlap=!0,e.preventOverlapPadding=10,e.condense=!1,e.sortBy="degree",e.nodeSize=30,e.nodes=[],e.edges=[],e.center=[0,0],e.width=300,e.height=300,e.row=0,e.col=0,e.cellWidth=0,e.cellHeight=0,e.cellUsed={},e.id2manPos={},e}return(0,x.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},e.prototype.execute=function(){var t=this,e=t.nodes,r=e.length,n=t.center;if(0!==r){if(1===r)return e[0].x=n[0],void(e[0].y=n[1]);var i=t.edges,o=[];e.forEach((function(t){o.push(t)}));var a={};if(o.forEach((function(t,e){a[t.id]=e})),("degree"===t.sortBy||!(0,m.default)(t.sortBy)||void 0===o[0][t.sortBy])&&(t.sortBy="degree",_(e[0].degree))){var s=Wt(o.length,a,i);o.forEach((function(t,e){t.degree=s[e]}))}o.sort((function(e,r){return r[t.sortBy]-e[t.sortBy]})),t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var u=t.rows,h=null!=t.cols?t.cols:t.columns;if(t.cells=r,null!=u&&null!=h?(t.rows=u,t.cols=h):null!=u&&null==h?(t.rows=u,t.cols=Math.ceil(t.cells/t.rows)):null==u&&null!=h?(t.cols=h,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells)((l=t.small())-1)*(c=t.large())>=t.cells?t.small(l-1):(c-1)*l>=t.cells&&t.large(c-1);else for(;t.cols*t.rows<t.cells;){var c,l=t.small();((c=t.large())+1)*l>=t.cells?t.large(c+1):t.small(l+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&o.forEach((function(e){var r,n;e.x&&e.y||(e.x=0,e.y=0),(0,at.isArray)(e.size)?(r=e.size[0],n=e.size[1]):(0,at.isNumber)(e.size)&&(r=e.size,n=e.size),void 0!==r&&void 0!==n||((0,at.isArray)(t.nodeSize)?(r=t.nodeSize[0],n=t.nodeSize[1]):(0,at.isNumber)(t.nodeSize)?(r=t.nodeSize,n=t.nodeSize):(r=30,n=30));var i=t.preventOverlapPadding,o=r+i,a=n+i;t.cellWidth=Math.max(t.cellWidth,o),t.cellHeight=Math.max(t.cellHeight,a)})),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var f=0;f<o.length;f++){var d=o[f],p=void 0;if(t.position&&(p=t.position(d)),p&&(void 0!==p.row||void 0!==p.col)){var g={row:p.row,col:p.col};if(void 0===g.col)for(g.col=0;t.used(g.row,g.col);)g.col++;else if(void 0===g.row)for(g.row=0;t.used(g.row,g.col);)g.row++;t.id2manPos[d.id]=g,t.use(g.row,g.col)}t.getPos(d)}}},e.prototype.small=function(t){var e,r=this,n=r.rows||5,i=r.cols||5;null==t?e=Math.min(n,i):Math.min(n,i)===r.rows?r.rows=t:r.cols=t;return e},e.prototype.large=function(t){var e,r=this,n=r.rows||5,i=r.cols||5;null==t?e=Math.max(n,i):Math.max(n,i)===r.rows?r.rows=t:r.cols=t;return e},e.prototype.used=function(t,e){return this.cellUsed["c-"+t+"-"+e]||!1},e.prototype.use=function(t,e){this.cellUsed["c-"+t+"-"+e]=!0},e.prototype.moveToNextCell=function(){var t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)},e.prototype.getPos=function(t){var e,r,n=this,i=n.begin,o=n.cellWidth,a=n.cellHeight,s=n.id2manPos[t.id];if(s)e=s.col*o+o/2+i[0],r=s.row*a+a/2+i[1];else{for(;n.used(n.row,n.col);)n.moveToNextCell();e=n.col*o+o/2+i[0],r=n.row*a+a/2+i[1],n.use(n.row,n.col),n.moveToNextCell()}t.x=e,t.y=r},e}(qr),ui=Object.prototype.toString;function hi(t){return ui.call(t).endsWith("Array]")}const ci=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!hi(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,n=void 0===r?0:r,i=e.toIndex,o=void 0===i?t.length:i;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=n||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[n],s=n+1;s<o;s++)t[s]>a&&(a=t[s]);return a};const li=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!hi(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,n=void 0===r?0:r,i=e.toIndex,o=void 0===i?t.length:i;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=n||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[n],s=n+1;s<o;s++)t[s]<a&&(a=t[s]);return a};const fi=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!hi(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!hi(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var n=li(t),i=ci(t);if(n===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=r.min,a=void 0===o?r.autoMinMax?n:0:o,s=r.max,u=void 0===s?r.autoMinMax?i:1:s;if(a>=u)throw new RangeError("min option must be smaller than max option");for(var h=(u-a)/(i-n),c=0;c<t.length;c++)e[c]=(t[c]-n)*h+a;return e},di=" ".repeat(2),pi=" ".repeat(4);function gi(t,e={}){const{maxRows:r=15,maxColumns:n=10,maxNumSize:i=8}=e;return`${t.constructor.name} {\n${di}[\n${pi}${function(t,e,r,n){const{rows:i,columns:o}=t,a=Math.min(i,e),s=Math.min(o,r),u=[];for(let e=0;e<a;e++){let r=[];for(let i=0;i<s;i++)r.push(vi(t.get(e,i),n));u.push(`${r.join(" ")}`)}s!==o&&(u[u.length-1]+=` ... ${o-r} more columns`);a!==i&&u.push(`... ${i-e} more rows`);return u.join(`\n${pi}`)}(t,r,n,i)}\n${di}]\n${di}rows: ${t.rows}\n${di}columns: ${t.columns}\n}`}function vi(t,e){const r=String(t);if(r.length<=e)return r.padEnd(e," ");const n=t.toPrecision(e-2);if(n.length<=e)return n;const i=t.toExponential(e-2),o=i.indexOf("e"),a=i.slice(o);return i.slice(0,e-a.length)+a}function yi(t,e,r){let n=r?t.rows:t.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function mi(t,e,r){let n=r?t.columns:t.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function xi(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function bi(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function wi(t,e){if("object"!=typeof e)throw new TypeError("unexpected type for row indices");if(e.some((e=>e<0||e>=t.rows)))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function Mi(t,e){if("object"!=typeof e)throw new TypeError("unexpected type for column indices");if(e.some((e=>e<0||e>=t.columns)))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function Si(t,e,r,n,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(ki("startRow",e),ki("endRow",r),ki("startColumn",n),ki("endColumn",i),e>r||n>i||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function _i(t,e=0){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function ki(t,e){if("number"!=typeof e)throw new TypeError(`${t} must be a number`)}class Ei{static from1DArray(t,e,r){if(t*e!==r.length)throw new RangeError("data length does not match given dimensions");let n=new Pi(t,e);for(let i=0;i<t;i++)for(let t=0;t<e;t++)n.set(i,t,r[i*e+t]);return n}static rowVector(t){let e=new Pi(1,t.length);for(let r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){let e=new Pi(t.length,1);for(let r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static zeros(t,e){return new Pi(t,e)}static ones(t,e){return new Pi(t,e).fill(1)}static rand(t,e,r={}){if("object"!=typeof r)throw new TypeError("options must be an object");const{random:n=Math.random}=r;let i=new Pi(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++)i.set(r,t,n());return i}static randInt(t,e,r={}){if("object"!=typeof r)throw new TypeError("options must be an object");const{min:n=0,max:i=1e3,random:o=Math.random}=r;if(!Number.isInteger(n))throw new TypeError("min must be an integer");if(!Number.isInteger(i))throw new TypeError("max must be an integer");if(n>=i)throw new RangeError("min must be smaller than max");let a=i-n,s=new Pi(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++){let e=n+Math.round(o()*a);s.set(r,t,e)}return s}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);let n=Math.min(t,e),i=this.zeros(t,e);for(let t=0;t<n;t++)i.set(t,t,r);return i}static diag(t,e,r){let n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);let i=Math.min(n,e,r),o=this.zeros(e,r);for(let e=0;e<i;e++)o.set(e,e,t[e]);return o}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,i=new Pi(r,n);for(let o=0;o<r;o++)for(let r=0;r<n;r++)i.set(o,r,Math.min(t.get(o,r),e.get(o,r)));return i}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,i=new this(r,n);for(let o=0;o<r;o++)for(let r=0;r<n;r++)i.set(o,r,Math.max(t.get(o,r),e.get(o,r)));return i}static checkMatrix(t){return Ei.isMatrix(t)?t:new Pi(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.call(this,e,r);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,r=-1,n=!0,i=!1;for(;t<this.rows&&n;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(n=!1,i=!0);t++}return n}isReducedEchelonForm(){let t=0,e=0,r=-1,n=!0,i=!1;for(;t<this.rows&&n;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(n=!1,i=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(n=!1);t++}return n}echelonForm(){let t=this.clone(),e=0,r=0;for(;e<t.rows&&r<t.columns;){let n=e;for(let i=e;i<t.rows;i++)t.get(i,r)>t.get(n,r)&&(n=i);if(0===t.get(n,r))r++;else{t.swapRows(e,n);let i=t.get(e,r);for(let n=r;n<t.columns;n++)t.set(e,n,t.get(e,n)/i);for(let n=e+1;n<t.rows;n++){let i=t.get(n,r)/t.get(e,r);t.set(n,r,0);for(let o=r+1;o<t.columns;o++)t.set(n,o,t.get(n,o)-t.get(e,o)*i)}e++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,r=t.rows,n=r-1;for(;n>=0;)if(0===t.maxRow(n))n--;else{let i=0,o=!1;for(;i<r&&!1===o;)1===t.get(n,i)?o=!0:i++;for(let r=0;r<n;r++){let o=t.get(r,i);for(let a=i;a<e;a++){let e=t.get(r,a)-o*t.get(n,a);t.set(r,a,e)}}n--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:r=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let n=new Pi(this.rows*e,this.columns*r);for(let t=0;t<e;t++)for(let e=0;e<r;e++)n.setSubMatrix(this,this.rows*t,this.columns*e);return n}fill(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){yi(this,t);let e=[];for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}getRowVector(t){return Pi.rowVector(this.getRow(t))}setRow(t,e){yi(this,t),e=xi(this,e);for(let r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){yi(this,t),yi(this,e);for(let r=0;r<this.columns;r++){let n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}getColumn(t){mi(this,t);let e=[];for(let r=0;r<this.rows;r++)e.push(this.get(r,t));return e}getColumnVector(t){return Pi.columnVector(this.getColumn(t))}setColumn(t,e){mi(this,t),e=bi(this,e);for(let r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){mi(this,t),mi(this,e);for(let r=0;r<this.rows;r++){let n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}addRowVector(t){t=xi(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=xi(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=xi(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=xi(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=bi(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=bi(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=bi(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=bi(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){yi(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){mi(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(){let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}maxIndex(){let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}min(){let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}minIndex(){let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}maxRow(t){yi(this,t);let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){yi(this,t);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),r[1]=n);return r}minRow(t){yi(this,t);let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){yi(this,t);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),r[1]=n);return r}maxColumn(t){mi(this,t);let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){mi(this,t);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t),r[0]=n);return r}minColumn(t){mi(this,t);let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){mi(this,t);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t),r[0]=n);return r}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let r=0;r<t;r++)e.push(this.get(r,r));return e}norm(t="frobenius"){let e=0;if("max"===t)return this.max();if("frobenius"===t){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e+=this.get(t,r)*this.get(t,r);return Math.sqrt(e)}throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){Ei.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let n=0;n<e.length;n++)r+=e[n]*t[n];return r}mmul(t){t=Pi.checkMatrix(t);let e=this.rows,r=this.columns,n=t.columns,i=new Pi(e,n),o=new Float64Array(r);for(let a=0;a<n;a++){for(let e=0;e<r;e++)o[e]=t.get(e,a);for(let t=0;t<e;t++){let e=0;for(let n=0;n<r;n++)e+=this.get(t,n)*o[n];i.set(t,a,e)}}return i}strassen2x2(t){t=Pi.checkMatrix(t);let e=new Pi(2,2);const r=this.get(0,0),n=t.get(0,0),i=this.get(0,1),o=t.get(0,1),a=this.get(1,0),s=t.get(1,0),u=this.get(1,1),h=t.get(1,1),c=(r+u)*(n+h),l=(a+u)*n,f=r*(o-h),d=u*(s-n),p=(r+i)*h,g=c+d-p+(i-u)*(s+h),v=f+p,y=l+d,m=c-l+f+(a-r)*(n+o);return e.set(0,0,g),e.set(0,1,v),e.set(1,0,y),e.set(1,1,m),e}strassen3x3(t){t=Pi.checkMatrix(t);let e=new Pi(3,3);const r=this.get(0,0),n=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),u=this.get(2,0),h=this.get(2,1),c=this.get(2,2),l=t.get(0,0),f=t.get(0,1),d=t.get(0,2),p=t.get(1,0),g=t.get(1,1),v=t.get(1,2),y=t.get(2,0),m=t.get(2,1),x=t.get(2,2),b=(r-o)*(-f+g),w=(-r+o+a)*(l-f+g),M=(o+a)*(-l+f),S=r*l,_=(-r+u+h)*(l-d+v),k=(-r+u)*(d-v),E=(u+h)*(-l+d),C=(-i+h+c)*(g+y-m),P=(i-c)*(g-m),A=i*y,I=(h+c)*(-y+m),O=(-i+a+s)*(v+y-x),T=(i-s)*(v-x),N=(a+s)*(-y+x),D=S+A+n*p,B=(r+n+i-o-a-h-c)*g+w+M+S+C+A+I,j=S+_+E+(r+n+i-a-s-u-h)*v+A+O+N,R=b+a*(-l+f+p-g-v-y+x)+w+S+A+O+T,L=b+w+M+S+s*m,z=A+O+T+N+o*d,F=S+_+k+h*(-l+d+p-g-v-y+m)+C+P+A,Y=C+P+A+I+u*f,G=S+_+k+E+c*x;return e.set(0,0,D),e.set(0,1,B),e.set(0,2,j),e.set(1,0,R),e.set(1,1,L),e.set(1,2,z),e.set(2,0,F),e.set(2,1,Y),e.set(2,2,G),e}mmulStrassen(t){t=Pi.checkMatrix(t);let e=this.clone(),r=e.rows,n=e.columns,i=t.rows,o=t.columns;function a(t,e,r){let n=t.rows,i=t.columns;if(n===e&&i===r)return t;{let n=Ei.zeros(e,r);return n=n.setSubMatrix(t,0,0),n}}n!==i&&console.warn(`Multiplying ${r} x ${n} and ${i} x ${o} matrix: dimensions do not match.`);let s=Math.max(r,i),u=Math.max(n,o);return e=a(e,s,u),function t(e,r,n,i){if(n<=512||i<=512)return e.mmul(r);n%2==1&&i%2==1?(e=a(e,n+1,i+1),r=a(r,n+1,i+1)):n%2==1?(e=a(e,n+1,i),r=a(r,n+1,i)):i%2==1&&(e=a(e,n,i+1),r=a(r,n,i+1));let o=parseInt(e.rows/2,10),s=parseInt(e.columns/2,10),u=e.subMatrix(0,o-1,0,s-1),h=r.subMatrix(0,o-1,0,s-1),c=e.subMatrix(0,o-1,s,e.columns-1),l=r.subMatrix(0,o-1,s,r.columns-1),f=e.subMatrix(o,e.rows-1,0,s-1),d=r.subMatrix(o,r.rows-1,0,s-1),p=e.subMatrix(o,e.rows-1,s,e.columns-1),g=r.subMatrix(o,r.rows-1,s,r.columns-1),v=t(Ei.add(u,p),Ei.add(h,g),o,s),y=t(Ei.add(f,p),h,o,s),m=t(u,Ei.sub(l,g),o,s),x=t(p,Ei.sub(d,h),o,s),b=t(Ei.add(u,c),g,o,s),w=t(Ei.sub(f,u),Ei.add(h,l),o,s),M=t(Ei.sub(c,p),Ei.add(d,g),o,s),S=Ei.add(v,x);S.sub(b),S.add(M);let _=Ei.add(m,b),k=Ei.add(y,x),E=Ei.sub(v,y);E.add(m),E.add(w);let C=Ei.zeros(2*S.rows,2*S.columns);return C=C.setSubMatrix(S,0,0),C=C.setSubMatrix(_,S.rows,0),C=C.setSubMatrix(k,0,S.columns),C=C.setSubMatrix(E,S.rows,S.columns),C.subMatrix(0,n-1,0,i-1)}(e,t=a(t,s,u),s,u)}scaleRows(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let n=new Pi(this.rows,this.columns);for(let t=0;t<this.rows;t++){const i=this.getRow(t);fi(i,{min:e,max:r,output:i}),n.setRow(t,i)}return n}scaleColumns(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let n=new Pi(this.rows,this.columns);for(let t=0;t<this.columns;t++){const i=this.getColumn(t);fi(i,{min:e,max:r,output:i}),n.setColumn(t,i)}return n}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let r=0;r<t;r++){let t=this.get(e,r),n=this.get(e,this.columns-1-r);this.set(e,r,n),this.set(e,this.columns-1-r,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let r=0;r<t;r++){let t=this.get(r,e),n=this.get(this.rows-1-r,e);this.set(r,e,n),this.set(this.rows-1-r,e,t)}return this}kroneckerProduct(t){t=Pi.checkMatrix(t);let e=this.rows,r=this.columns,n=t.rows,i=t.columns,o=new Pi(e*n,r*i);for(let a=0;a<e;a++)for(let e=0;e<r;e++)for(let r=0;r<n;r++)for(let s=0;s<i;s++)o.set(n*a+r,i*e+s,this.get(a,e)*t.get(r,s));return o}transpose(){let t=new Pi(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t=Ci){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=Ci){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,n){Si(this,t,e,r,n);let i=new Pi(e-t+1,n-r+1);for(let o=t;o<=e;o++)for(let e=r;e<=n;e++)i.set(o-t,e-r,this.get(o,e));return i}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let n=new Pi(t.length,r-e+1);for(let i=0;i<t.length;i++)for(let o=e;o<=r;o++){if(t[i]<0||t[i]>=this.rows)throw new RangeError(`Row index out of range: ${t[i]}`);n.set(i,o-e,this.get(t[i],o))}return n}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let n=new Pi(r-e+1,t.length);for(let i=0;i<t.length;i++)for(let o=e;o<=r;o++){if(t[i]<0||t[i]>=this.columns)throw new RangeError(`Column index out of range: ${t[i]}`);n.set(o-e,i,this.get(o,t[i]))}return n}setSubMatrix(t,e,r){Si(this,e,e+(t=Pi.checkMatrix(t)).rows-1,r,r+t.columns-1);for(let n=0;n<t.rows;n++)for(let i=0;i<t.columns;i++)this.set(e+n,r+i,t.get(n,i));return this}selection(t,e){let r=function(t,e,r){return{row:wi(t,e),column:Mi(t,r)}}(this,t,e),n=new Pi(t.length,e.length);for(let t=0;t<r.row.length;t++){let e=r.row[t];for(let i=0;i<r.column.length;i++){let o=r.column[i];n.set(t,i,this.get(e,o))}}return n}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let r=0;r<t;r++)e+=this.get(r,r);return e}clone(){let t=new Pi(this.rows,this.columns);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}sum(t){switch(t){case"row":return function(t){let e=_i(t.rows);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]+=t.get(r,n);return e}(this);case"column":return function(t){let e=_i(t.columns);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]+=t.get(r,n);return e}(this);case void 0:return function(t){let e=0;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e+=t.get(r,n);return e}(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return function(t){let e=_i(t.rows,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]*=t.get(r,n);return e}(this);case"column":return function(t){let e=_i(t.columns,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]*=t.get(r,n);return e}(this);case void 0:return function(t){let e=1;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e*=t.get(r,n);return e}(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{unbiased:r=!0,mean:n=this.mean(t)}=e;if("boolean"!=typeof r)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!Array.isArray(n))throw new TypeError("mean must be an array");return function(t,e,r){const n=t.rows,i=t.columns,o=[];for(let a=0;a<n;a++){let n=0,s=0,u=0;for(let e=0;e<i;e++)u=t.get(a,e)-r[a],n+=u,s+=u*u;e?o.push((s-n*n/i)/(i-1)):o.push((s-n*n/i)/i)}return o}(this,r,n);case"column":if(!Array.isArray(n))throw new TypeError("mean must be an array");return function(t,e,r){const n=t.rows,i=t.columns,o=[];for(let a=0;a<i;a++){let i=0,s=0,u=0;for(let e=0;e<n;e++)u=t.get(e,a)-r[a],i+=u,s+=u*u;e?o.push((s-i*i/n)/(n-1)):o.push((s-i*i/n)/n)}return o}(this,r,n);case void 0:if("number"!=typeof n)throw new TypeError("mean must be a number");return function(t,e,r){const n=t.rows,i=t.columns,o=n*i;let a=0,s=0,u=0;for(let e=0;e<n;e++)for(let n=0;n<i;n++)u=t.get(e,n)-r,a+=u,s+=u*u;return e?(s-a*a/o)/(o-1):(s-a*a/o)/o}(this,r,n);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);const r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(let t=0;t<r.length;t++)r[t]=Math.sqrt(r[t]);return r}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{center:r=this.mean(t)}=e;switch(t){case"row":if(!Array.isArray(r))throw new TypeError("center must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[r])}(this,r),this;case"column":if(!Array.isArray(r))throw new TypeError("center must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[n])}(this,r),this;case void 0:if("number"!=typeof r)throw new TypeError("center must be a number");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e)}(this,r),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");let r=e.scale;switch(t){case"row":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.rows;r++){let n=0;for(let e=0;e<t.columns;e++)n+=Math.pow(t.get(r,e),2)/(t.columns-1);e.push(Math.sqrt(n))}return e}(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[r])}(this,r),this;case"column":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.columns;r++){let n=0;for(let e=0;e<t.rows;e++)n+=Math.pow(t.get(e,r),2)/(t.rows-1);e.push(Math.sqrt(n))}return e}(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[n])}(this,r),this;case void 0:if(void 0===r)r=function(t){const e=t.size-1;let r=0;for(let n=0;n<t.columns;n++)for(let i=0;i<t.rows;i++)r+=Math.pow(t.get(i,n),2)/e;return Math.sqrt(r)}(this);else if("number"!=typeof r)throw new TypeError("scale must be a number");return function(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e)}(this,r),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return gi(this,t)}}function Ci(t,e){return t-e}Ei.prototype.klass="Matrix","undefined"!=typeof Symbol&&(Ei.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return gi(this)}),Ei.random=Ei.rand,Ei.randomInt=Ei.randInt,Ei.diagonal=Ei.diag,Ei.prototype.diagonal=Ei.prototype.diag,Ei.identity=Ei.eye,Ei.prototype.negate=Ei.prototype.neg,Ei.prototype.tensorProduct=Ei.prototype.kroneckerProduct;class Pi extends Ei{constructor(t,e){if(super(),Pi.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>0){if(this.data=[],!(Number.isInteger(e)&&e>0))throw new TypeError("nColumns must be a positive integer");for(let r=0;r<t;r++)this.data.push(new Float64Array(e))}else{if(!Array.isArray(t))throw new TypeError("First argument must be a positive number or an array");{const r=t;if(t=r.length,"number"!=typeof(e=r[0].length)||0===e)throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let n=0;n<t;n++){if(r[n].length!==e)throw new RangeError("Inconsistent array dimensions");this.data.push(Float64Array.from(r[n]))}}}this.rows=t,this.columns=e}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}removeRow(t){if(yi(this,t),1===this.rows)throw new RangeError("A matrix cannot have less than one row");return this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),yi(this,t,!0),e=Float64Array.from(xi(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){if(mi(this,t),1===this.columns)throw new RangeError("A matrix cannot have less than one column");for(let e=0;e<this.rows;e++){const r=new Float64Array(this.columns-1);for(let n=0;n<t;n++)r[n]=this.data[e][n];for(let n=t+1;n<this.columns;n++)r[n-1]=this.data[e][n];this.data[e]=r}return this.columns-=1,this}addColumn(t,e){void 0===e&&(e=t,t=this.columns),mi(this,t,!0),e=bi(this,e);for(let r=0;r<this.rows;r++){const n=new Float64Array(this.columns+1);let i=0;for(;i<t;i++)n[i]=this.data[r][i];for(n[i++]=e[r];i<this.columns+1;i++)n[i]=this.data[r][i-1];this.data[r]=n}return this.columns+=1,this}}!function(t,e){t.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},t.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},t.add=function(t,r){return new e(t).add(r)},t.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},t.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},t.sub=function(t,r){return new e(t).sub(r)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},t.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},t.mul=function(t,r){return new e(t).mul(r)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},t.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},t.div=function(t,r){return new e(t).div(r)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},t.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},t.mod=function(t,r){return new e(t).mod(r)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},t.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},t.and=function(t,r){return new e(t).and(r)},t.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},t.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},t.or=function(t,r){return new e(t).or(r)},t.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},t.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},t.xor=function(t,r){return new e(t).xor(r)},t.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},t.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},t.leftShift=function(t,r){return new e(t).leftShift(r)},t.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},t.signPropagatingRightShift=function(t,r){return new e(t).signPropagatingRightShift(r)},t.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},t.rightShift=function(t,r){return new e(t).rightShift(r)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){return new e(t).not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){return new e(t).abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){return new e(t).acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},t.acosh=function(t){return new e(t).acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){return new e(t).asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},t.asinh=function(t){return new e(t).asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){return new e(t).atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){return new e(t).atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){return new e(t).cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){return new e(t).ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){return new e(t).clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){return new e(t).cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){return new e(t).cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){return new e(t).exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){return new e(t).expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){return new e(t).floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){return new e(t).fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){return new e(t).log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){return new e(t).log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){return new e(t).log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){return new e(t).log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){return new e(t).round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){return new e(t).sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){return new e(t).sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){return new e(t).sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){return new e(t).sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){return new e(t).tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){return new e(t).tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){return new e(t).trunc()},t.pow=function(t,r){return new e(t).pow(r)},t.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t));return this},t.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t.get(e,r)));return this}}(Ei,Pi);class Ai extends Ei{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}}function Ii(t,e){let r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}class Oi{constructor(t,e={}){let r=(t=Ai.checkMatrix(t)).rows,n=t.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:o=!0,autoTranspose:a=!1}=e;let s,u=Boolean(i),h=Boolean(o),c=!1;if(r<n)if(a){s=t.transpose(),r=s.rows,n=s.columns,c=!0;let e=u;u=h,h=e}else s=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else s=t.clone();let l=Math.min(r,n),f=Math.min(r+1,n),d=new Float64Array(f),p=new Pi(r,l),g=new Pi(n,n),v=new Float64Array(n),y=new Float64Array(r),m=new Float64Array(f);for(let t=0;t<f;t++)m[t]=t;let x=Math.min(r-1,n),b=Math.max(0,Math.min(n-2,r)),w=Math.max(x,b);for(let t=0;t<w;t++){if(t<x){d[t]=0;for(let e=t;e<r;e++)d[t]=Ii(d[t],s.get(e,t));if(0!==d[t]){s.get(t,t)<0&&(d[t]=-d[t]);for(let e=t;e<r;e++)s.set(e,t,s.get(e,t)/d[t]);s.set(t,t,s.get(t,t)+1)}d[t]=-d[t]}for(let e=t+1;e<n;e++){if(t<x&&0!==d[t]){let n=0;for(let i=t;i<r;i++)n+=s.get(i,t)*s.get(i,e);n=-n/s.get(t,t);for(let i=t;i<r;i++)s.set(i,e,s.get(i,e)+n*s.get(i,t))}v[e]=s.get(t,e)}if(u&&t<x)for(let e=t;e<r;e++)p.set(e,t,s.get(e,t));if(t<b){v[t]=0;for(let e=t+1;e<n;e++)v[t]=Ii(v[t],v[e]);if(0!==v[t]){v[t+1]<0&&(v[t]=0-v[t]);for(let e=t+1;e<n;e++)v[e]/=v[t];v[t+1]+=1}if(v[t]=-v[t],t+1<r&&0!==v[t]){for(let e=t+1;e<r;e++)y[e]=0;for(let e=t+1;e<r;e++)for(let r=t+1;r<n;r++)y[e]+=v[r]*s.get(e,r);for(let e=t+1;e<n;e++){let n=-v[e]/v[t+1];for(let i=t+1;i<r;i++)s.set(i,e,s.get(i,e)+n*y[i])}}if(h)for(let e=t+1;e<n;e++)g.set(e,t,v[e])}}let M=Math.min(n,r+1);if(x<n&&(d[x]=s.get(x,x)),r<M&&(d[M-1]=0),b+1<M&&(v[b]=s.get(b,M-1)),v[M-1]=0,u){for(let t=x;t<l;t++){for(let e=0;e<r;e++)p.set(e,t,0);p.set(t,t,1)}for(let t=x-1;t>=0;t--)if(0!==d[t]){for(let e=t+1;e<l;e++){let n=0;for(let i=t;i<r;i++)n+=p.get(i,t)*p.get(i,e);n=-n/p.get(t,t);for(let i=t;i<r;i++)p.set(i,e,p.get(i,e)+n*p.get(i,t))}for(let e=t;e<r;e++)p.set(e,t,-p.get(e,t));p.set(t,t,1+p.get(t,t));for(let e=0;e<t-1;e++)p.set(e,t,0)}else{for(let e=0;e<r;e++)p.set(e,t,0);p.set(t,t,1)}}if(h)for(let t=n-1;t>=0;t--){if(t<b&&0!==v[t])for(let e=t+1;e<n;e++){let r=0;for(let i=t+1;i<n;i++)r+=g.get(i,t)*g.get(i,e);r=-r/g.get(t+1,t);for(let i=t+1;i<n;i++)g.set(i,e,g.get(i,e)+r*g.get(i,t))}for(let e=0;e<n;e++)g.set(e,t,0);g.set(t,t,1)}let S=M-1,_=0,k=Number.EPSILON;for(;M>0;){let t,e;for(t=M-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+k*Math.abs(d[t]+Math.abs(d[t+1]));if(Math.abs(v[t])<=e||Number.isNaN(v[t])){v[t]=0;break}}if(t===M-2)e=4;else{let r;for(r=M-1;r>=t&&r!==t;r--){let e=(r!==M?Math.abs(v[r]):0)+(r!==t+1?Math.abs(v[r-1]):0);if(Math.abs(d[r])<=k*e){d[r]=0;break}}r===t?e=3:r===M-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=v[M-2];v[M-2]=0;for(let r=M-2;r>=t;r--){let i=Ii(d[r],e),o=d[r]/i,a=e/i;if(d[r]=i,r!==t&&(e=-a*v[r-1],v[r-1]=o*v[r-1]),h)for(let t=0;t<n;t++)i=o*g.get(t,r)+a*g.get(t,M-1),g.set(t,M-1,-a*g.get(t,r)+o*g.get(t,M-1)),g.set(t,r,i)}break}case 2:{let e=v[t-1];v[t-1]=0;for(let n=t;n<M;n++){let i=Ii(d[n],e),o=d[n]/i,a=e/i;if(d[n]=i,e=-a*v[n],v[n]=o*v[n],u)for(let e=0;e<r;e++)i=o*p.get(e,n)+a*p.get(e,t-1),p.set(e,t-1,-a*p.get(e,n)+o*p.get(e,t-1)),p.set(e,n,i)}break}case 3:{const e=Math.max(Math.abs(d[M-1]),Math.abs(d[M-2]),Math.abs(v[M-2]),Math.abs(d[t]),Math.abs(v[t])),i=d[M-1]/e,o=d[M-2]/e,a=v[M-2]/e,s=d[t]/e,c=v[t]/e,l=((o+i)*(o-i)+a*a)/2,f=i*a*(i*a);let y=0;0===l&&0===f||(y=l<0?0-Math.sqrt(l*l+f):Math.sqrt(l*l+f),y=f/(l+y));let m=(s+i)*(s-i)+y,x=s*c;for(let e=t;e<M-1;e++){let i=Ii(m,x);0===i&&(i=Number.MIN_VALUE);let o=m/i,a=x/i;if(e!==t&&(v[e-1]=i),m=o*d[e]+a*v[e],v[e]=o*v[e]-a*d[e],x=a*d[e+1],d[e+1]=o*d[e+1],h)for(let t=0;t<n;t++)i=o*g.get(t,e)+a*g.get(t,e+1),g.set(t,e+1,-a*g.get(t,e)+o*g.get(t,e+1)),g.set(t,e,i);if(i=Ii(m,x),0===i&&(i=Number.MIN_VALUE),o=m/i,a=x/i,d[e]=i,m=o*v[e]+a*d[e+1],d[e+1]=-a*v[e]+o*d[e+1],x=a*v[e+1],v[e+1]=o*v[e+1],u&&e<r-1)for(let t=0;t<r;t++)i=o*p.get(t,e)+a*p.get(t,e+1),p.set(t,e+1,-a*p.get(t,e)+o*p.get(t,e+1)),p.set(t,e,i)}v[M-2]=m,_+=1;break}case 4:if(d[t]<=0&&(d[t]=d[t]<0?-d[t]:0,h))for(let e=0;e<=S;e++)g.set(e,t,-g.get(e,t));for(;t<S&&!(d[t]>=d[t+1]);){let e=d[t];if(d[t]=d[t+1],d[t+1]=e,h&&t<n-1)for(let r=0;r<n;r++)e=g.get(r,t+1),g.set(r,t+1,g.get(r,t)),g.set(r,t,e);if(u&&t<r-1)for(let n=0;n<r;n++)e=p.get(n,t+1),p.set(n,t+1,p.get(n,t)),p.set(n,t,e);t++}_=0,M--}}if(c){let t=g;g=p,p=t}this.m=r,this.n=n,this.s=d,this.U=p,this.V=g}solve(t){let e=t,r=this.threshold,n=this.s.length,i=Pi.zeros(n,n);for(let t=0;t<n;t++)Math.abs(this.s[t])<=r?i.set(t,t,0):i.set(t,t,1/this.s[t]);let o=this.U,a=this.rightSingularVectors,s=a.mmul(i),u=a.rows,h=o.rows,c=Pi.zeros(u,h);for(let t=0;t<u;t++)for(let e=0;e<h;e++){let r=0;for(let i=0;i<n;i++)r+=s.get(t,i)*o.get(e,i);c.set(t,e,r)}return c.mmul(e)}solveForDiagonal(t){return this.solve(Pi.diag(t))}inverse(){let t=this.V,e=this.threshold,r=t.rows,n=t.columns,i=new Pi(r,this.s.length);for(let o=0;o<r;o++)for(let r=0;r<n;r++)Math.abs(this.s[r])>e&&i.set(o,r,t.get(o,r)/this.s[r]);let o=this.U,a=o.rows,s=o.columns,u=new Pi(r,a);for(let t=0;t<r;t++)for(let e=0;e<a;e++){let r=0;for(let n=0;n<s;n++)r+=i.get(t,n)*o.get(e,n);u.set(t,e,r)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s;for(let n=0,i=r.length;n<i;n++)r[n]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Pi.diag(this.s)}}const Ti=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.linkDistance=50,e.scaledDistances=null,e}return(0,x.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.edges,n=void 0===r?[]:r,i=t.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=i[0],void(e[0].y=i[1]);var o=t.linkDistance,a=Gt({nodes:e,edges:n},!1),s=Yt(a);t.handleInfinity(s);var u=Ft(s,o);t.scaledDistances=u;var h=t.runMDS();t.positions=h,h.forEach((function(t,r){e[r].x=t[0]+i[0],e[r].y=t[1]+i[1]}))}},e.prototype.runMDS=function(){var t=this.scaledDistances,e=Pi.mul(Pi.pow(t,2),-.5),r=e.mean("row"),n=e.mean("column"),i=e.mean();e.add(i).subRowVector(r).subColumnVector(n);var o=new Oi(e),a=Pi.sqrt(o.diagonalMatrix).diagonal();return o.leftSingularVectors.toJSON().map((function(t){return Pi.mul([t],[a]).toJSON()[0].splice(0,2)}))},e.prototype.handleInfinity=function(t){var e=-999999;t.forEach((function(t){t.forEach((function(t){t!==1/0&&e<t&&(e=t)}))})),t.forEach((function(r,n){r.forEach((function(r,i){r===1/0&&(t[n][i]=e)}))}))},e}(qr);const Ni=function(){function t(t){this.distances=t.distances,this.dimension=t.dimension||2,this.linkDistance=t.linkDistance}return t.prototype.layout=function(){var t=this,e=t.dimension,r=t.distances,n=t.linkDistance;try{var i=Pi.mul(Pi.pow(r,2),-.5),o=i.mean("row"),a=i.mean("column"),s=i.mean();i.add(s).subRowVector(o).subColumnVector(a);var u=new Oi(i),h=Pi.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map((function(t){return Pi.mul([t],[h]).toJSON()[0].splice(0,e)}))}catch(t){for(var c=[],l=0;l<r.length;l++){var f=Math.random()*n,d=Math.random()*n;c.push([f,d])}return c}},t}();const Di=function(){function t(t){this.disp=[],this.positions=t.positions,this.adjMatrix=t.adjMatrix,this.focusID=t.focusID,this.radii=t.radii,this.iterations=t.iterations||10,this.height=t.height||10,this.width=t.width||10,this.speed=t.speed||100,this.gravity=t.gravity||10,this.nodeSizeFunc=t.nodeSizeFunc,this.k=t.k||5,this.strictRadial=t.strictRadial,this.nodes=t.nodes}return t.prototype.layout=function(){var t=this,e=t.positions,r=[],n=t.iterations,i=t.width/10;t.maxDisplace=i,t.disp=r;for(var o=0;o<n;o++)e.forEach((function(t,e){r[e]={x:0,y:0}})),t.getRepulsion(),t.updatePositions();return e},t.prototype.getRepulsion=function(){var t=this,e=t.positions,r=t.nodes,n=t.disp,i=t.k,o=t.radii||[];e.forEach((function(a,s){n[s]={x:0,y:0},e.forEach((function(e,u){if(s!==u&&o[s]===o[u]){var h=a[0]-e[0],c=a[1]-e[1],l=Math.sqrt(h*h+c*c);if(0===l){l=1;var f=s>u?1:-1;h=.01*f,c=.01*f}if(l<t.nodeSizeFunc(r[s])/2+t.nodeSizeFunc(r[u])/2){var d=i*i/l;n[s].x+=h/l*d,n[s].y+=c/l*d}}}))}))},t.prototype.updatePositions=function(){var t=this,e=t.positions,r=t.disp,n=t.speed,i=t.strictRadial,o=t.focusID,a=t.maxDisplace||t.width/10;i&&r.forEach((function(t,r){var n=e[r][0]-e[o][0],i=e[r][1]-e[o][1],a=Math.sqrt(n*n+i*i),s=i/a,u=-n/a,h=Math.sqrt(t.x*t.x+t.y*t.y),c=Math.acos((s*t.x+u*t.y)/h);c>Math.PI/2&&(c-=Math.PI/2,s*=-1,u*=-1);var l=Math.cos(c)*h;t.x=s*l,t.y=u*l}));var s=t.radii;e.forEach((function(t,u){if(u!==o){var h=Math.sqrt(r[u].x*r[u].x+r[u].y*r[u].y);if(h>0&&u!==o){var c=Math.min(a*(n/800),h);if(t[0]+=r[u].x/h*c,t[1]+=r[u].y/h*c,i){var l=t[0]-e[o][0],f=t[1]-e[o][1],d=Math.sqrt(l*l+f*f);l=l/d*s[u],f=f/d*s[u],t[0]=e[o][0]+l,t[1]=e[o][1]+f}}}}))},t}();function Bi(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}const ji=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.maxIteration=1e3,e.focusNode=null,e.unitRadius=null,e.linkDistance=50,e.preventOverlap=!1,e.strictRadial=!0,e.maxPreventOverlapIteration=200,e.sortStrength=10,e}return(0,x.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.edges||[],n=t.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=n[0],void(e[0].y=n[1]);var i=t.linkDistance,o=null;if((0,m.default)(t.focusNode)){for(var a=!1,s=0;s<e.length;s++)e[s].id===t.focusNode&&(o=e[s],t.focusNode=o,a=!0,s=e.length);a||(o=null)}else o=t.focusNode;o||(o=e[0],t.focusNode=o);var u=function(t,e){var r=-1;return t.forEach((function(t,n){t.id===e&&(r=n)})),r}(e,o.id);t.focusIndex=u;var h=Gt({nodes:e,edges:r},!1),c=Yt(h),l=t.maxToFocus(c,u);t.handleInfinity(c,u,l+1),t.distances=c;var f=c[u];t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var d=t.width||500,p=t.height||500,v=d-n[0]>n[0]?n[0]:d-n[0],x=p-n[1]>n[1]?n[1]:p-n[1];0===v&&(v=d/2),0===x&&(x=p/2);var b=x>v?v:x,w=Math.max.apply(Math,f),M=[];f.forEach((function(e,r){t.unitRadius||(t.unitRadius=b/w),M[r]=e*t.unitRadius})),t.radii=M;var S=t.eIdealDisMatrix();t.eIdealDistances=S;var k=function(t){for(var e=t.length,r=t[0].length,n=[],i=0;i<e;i++){for(var o=[],a=0;a<r;a++)0!==t[i][a]?o.push(1/(t[i][a]*t[i][a])):o.push(0);n.push(o)}return n}(S);t.weights=k;var E=new Ni({distances:S,linkDistance:i}).layout();E.forEach((function(t){_(t[0])&&(t[0]=Math.random()*i),_(t[1])&&(t[1]=Math.random()*i)})),t.positions=E,E.forEach((function(t,r){e[r].x=t[0]+n[0],e[r].y=t[1]+n[1]})),E.forEach((function(t){t[0]-=E[u][0],t[1]-=E[u][1]})),t.run();var C=t.preventOverlap,P=t.nodeSize,A=t.strictRadial;if(C){var I,O=t.nodeSpacing;I=(0,y.default)(O)?function(){return O}:(0,Qn.default)(O)?O:function(){return 0};var T={nodeSizeFunc:P?(0,g.default)(P)?function(t){return(P[0]>P[1]?P[0]:P[1])+I(t)}:function(t){return P+I(t)}:function(t){return t.size?(0,g.default)(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])+I(t):t.size+I(t):10+I(t)},adjMatrix:h,positions:E,radii:M,height:p,width:d,strictRadial:A,focusID:u,iterations:t.maxPreventOverlapIteration||200,k:E.length/4.5,nodes:e},N=new Di(T);E=N.layout()}E.forEach((function(t,r){e[r].x=t[0]+n[0],e[r].y=t[1]+n[1]}))}},e.prototype.run=function(){for(var t=this,e=t.maxIteration,r=t.positions||[],n=t.weights||[],i=t.eIdealDistances||[],o=t.radii||[],a=0;a<=e;a++){var s=a/e;t.oneIteration(s,r,o,i,n)}},e.prototype.oneIteration=function(t,e,r,n,i){var o=1-t,a=this.focusIndex;e.forEach((function(s,u){var h=Bi(s,[0,0]),c=0===h?0:1/h;if(u!==a){var l=0,f=0,d=0;e.forEach((function(t,e){if(u!==e){var r=Bi(s,t),o=0===r?0:1/r,a=n[e][u];d+=i[u][e],l+=i[u][e]*(t[0]+a*(s[0]-t[0])*o),f+=i[u][e]*(t[1]+a*(s[1]-t[1])*o)}}));var p=0===r[u]?0:1/r[u];d*=o,d+=t*p*p,l*=o,l+=t*p*s[0]*c,s[0]=l/d,f*=o,f+=t*p*s[1]*c,s[1]=f/d}}))},e.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var r=t.distances,n=t.linkDistance,i=t.radii||[],o=t.unitRadius||50,a=[];return r&&r.forEach((function(r,s){var u=[];r.forEach((function(r,a){if(s===a)u.push(0);else if(i[s]===i[a])if("data"===t.sortBy)u.push(r*(Math.abs(s-a)*t.sortStrength)/(i[s]/o));else if(t.sortBy){var h=e[s][t.sortBy]||0,c=e[a][t.sortBy]||0;(0,m.default)(h)&&(h=h.charCodeAt(0)),(0,m.default)(c)&&(c=c.charCodeAt(0)),u.push(r*(Math.abs(h-c)*t.sortStrength)/(i[s]/o))}else u.push(r*n/(i[s]/o));else{var l=(n+o)/2;u.push(r*l)}})),a.push(u)})),a},e.prototype.handleInfinity=function(t,e,r){for(var n=t.length,i=0;i<n;i++)if(t[e][i]===1/0){t[e][i]=r,t[i][e]=r;for(var o=0;o<n;o++)t[i][o]!==1/0&&t[e][o]===1/0&&(t[e][o]=r+t[i][o],t[o][e]=r+t[i][o])}for(i=0;i<n;i++)if(i!==e)for(o=0;o<n;o++)if(t[i][o]===1/0){var a=Math.abs(t[e][i]-t[e][o]);a=0===a?1:a,t[i][o]=a}},e.prototype.maxToFocus=function(t,e){for(var r=0,n=0;n<t[e].length;n++)t[e][n]!==1/0&&(r=t[e][n]>r?t[e][n]:r);return r},e}(qr);const Ri=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.width=300,e.height=300,e}return(0,x.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.center;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),e&&e.forEach((function(e){e.x=.9*(Math.random()-.5)*t.width+r[0],e.y=.9*(Math.random()-.5)*t.height+r[1]}))},e}(qr);var Li={circular:Kr,concentric:$r,dagre:tn,force:ni,g6force:oi,comboForce:function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.maxIteration=100,e.gravity=10,e.comboGravity=10,e.linkDistance=10,e.alpha=1,e.alphaMin=.001,e.alphaDecay=1-Math.pow(e.alphaMin,1/300),e.alphaTarget=0,e.velocityDecay=.6,e.edgeStrength=.2,e.nodeStrength=30,e.preventOverlap=!1,e.preventNodeOverlap=!1,e.preventComboOverlap=!1,e.collideStrength=void 0,e.nodeCollideStrength=void 0,e.comboCollideStrength=void 0,e.optimizeRangeFactor=1,e.onTick=function(){},e.onLayoutEnd=function(){},e.depthAttractiveForceScale=.5,e.depthRepulsiveForceScale=2,e.nodes=[],e.edges=[],e.combos=[],e.comboTrees=[],e.width=300,e.height=300,e.bias=[],e.nodeMap={},e.oriComboMap={},e.nodeIdxMap={},e.comboMap={},e.previousLayouted=!1,e}return(0,x.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},e&&0!==e.length){if(1===e.length)return e[0].x=r[0],void(e[0].y=r[1]);t.initVals(),t.run(),t.onLayoutEnd()}},e.prototype.run=function(){var t=this,e=t.nodes,r=t.previousLayouted?t.maxIteration/5:t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var n=t.center,i=t.velocityDecay,o=t.comboMap;t.previousLayouted||t.initPos(o);for(var a=function(r){var n=[];e.forEach((function(t,e){n[e]={x:0,y:0}})),t.applyCalculate(n),t.applyComboCenterForce(n),e.forEach((function(t,e){(0,at.isNumber)(t.x)&&(0,at.isNumber)(t.y)&&(t.x+=n[e].x*i,t.y+=n[e].y*i)})),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},s=0;s<r;s++)a();var u=[0,0];e.forEach((function(t){(0,at.isNumber)(t.x)&&(0,at.isNumber)(t.y)&&(u[0]+=t.x,u[1]+=t.y)})),u[0]/=e.length,u[1]/=e.length;var h=[n[0]-u[0],n[1]-u[1]];e.forEach((function(t,e){(0,at.isNumber)(t.x)&&(0,at.isNumber)(t.y)&&(t.x+=h[0],t.y+=h[1])})),t.combos.forEach((function(t){var e=o[t.id];e&&e.empty&&(t.x=e.cx||t.x,t.y=e.cy||t.y)})),t.previousLayouted=!0},e.prototype.initVals=function(){var t=this,e=t.edges,r=t.nodes,n=t.combos,i={},o={},a={};r.forEach((function(t,e){o[t.id]=t,a[t.id]=e})),t.nodeMap=o,t.nodeIdxMap=a;var s={};n.forEach((function(t){s[t.id]=t})),t.oriComboMap=s,t.comboMap=t.getComboMap();var u=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||u,t.preventNodeOverlap=t.preventNodeOverlap||u;var h=t.collideStrength;h&&(t.comboCollideStrength=h,t.nodeCollideStrength=h);for(var c=0;c<e.length;++c)i[e[c].source]?i[e[c].source]++:i[e[c].source]=1,i[e[c].target]?i[e[c].target]++:i[e[c].target]=1;var l=[];for(c=0;c<e.length;++c)l[c]=i[e[c].source]/(i[e[c].source]+i[e[c].target]);this.bias=l;var f,d,p=t.nodeSize,g=t.nodeSpacing;if(d=(0,at.isNumber)(g)?function(){return g}:(0,at.isFunction)(g)?g:function(){return 0},this.nodeSpacing=d,p)if((0,at.isFunction)(p))f=function(t){return p(t)};else if((0,at.isArray)(p)){var v=(p[0]>p[1]?p[0]:p[1])/2;f=function(t){return v}}else{var y=p/2;f=function(t){return y}}else f=function(t){return t.size?(0,at.isArray)(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2:t.size/2:10};this.nodeSize=f;var m,x=t.comboSpacing;m=(0,at.isNumber)(x)?function(){return x}:(0,at.isFunction)(x)?x:function(){return 0},this.comboSpacing=m;var b,w=t.comboPadding;b=(0,at.isNumber)(w)?function(){return w}:(0,at.isArray)(w)?function(){return Math.max.apply(null,w)}:(0,at.isFunction)(w)?w:function(){return 0},this.comboPadding=b;var M,S=this.linkDistance;S||(S=10),M=(0,at.isNumber)(S)?function(t){return S}:S,this.linkDistance=M;var _,k=this.edgeStrength;k||(k=1),_=(0,at.isNumber)(k)?function(t){return k}:k,this.edgeStrength=_;var E,C=this.nodeStrength;C||(C=30),E=(0,at.isNumber)(C)?function(t){return C}:C,this.nodeStrength=E},e.prototype.initPos=function(t){this.nodes.forEach((function(e,r){if(e.comboId){var n=t[e.comboId];e.x=n.cx+100/(r+1),e.y=n.cy+100/(r+1)}else e.x=100/(r+1),e.y=100/(r+1)}))},e.prototype.getComboMap=function(){var t=this,e=t.nodeMap,r=t.nodeIdxMap,n=t.comboTrees,i=t.oriComboMap,o={};return(n||[]).forEach((function(n){var a=[];or(n,(function(n){if("node"===n.itemType)return!0;if(!i[n.id])return!0;if(void 0===o[n.id]){var s={name:n.id,cx:0,cy:0,count:0,depth:t.oriComboMap[n.id].depth,children:[]};o[n.id]=s}var u=n.children;u&&u.forEach((function(t){if(!o[t.id]&&!e[t.id])return!0;a.push(t)}));var h=o[n.id];if(h.cx=0,h.cy=0,0===a.length){h.empty=!0;var c=i[n.id],l=Object.keys(e).length,f=n.id+"-visual-child-"+l,d={id:f,x:c.x,y:c.y,depth:h.depth+1,itemType:"node"};t.nodes.push(d),e[f]=d,r[f]=l,h.cx=c.x,h.cy=c.y,a.push(d)}return a.forEach((function(t){if(h.count++,"node"!==t.itemType){var r=o[t.id];return(0,at.isNumber)(r.cx)&&(h.cx+=r.cx),void((0,at.isNumber)(r.cy)&&(h.cy+=r.cy))}var n=e[t.id];n&&((0,at.isNumber)(n.x)&&(h.cx+=n.x),(0,at.isNumber)(n.y)&&(h.cy+=n.y))})),h.cx/=h.count,h.cy/=h.count,h.children=a,!0}))})),o},e.prototype.applyComboCenterForce=function(t){var e=this,r=e.gravity,n=e.comboGravity||r,i=this.alpha,o=e.comboTrees,a=e.nodeIdxMap,s=e.nodeMap,u=e.comboMap;(o||[]).forEach((function(e){or(e,(function(e){if("node"===e.itemType)return!0;if(!u[e.id])return!0;var r=u[e.id],o=.5*(r.depth+1),h=r.cx,c=r.cy;return r.cx=0,r.cy=0,r.children.forEach((function(e){if("node"!==e.itemType){var l=u[e.id];return l&&(0,at.isNumber)(l.cx)&&(r.cx+=l.cx),void(l&&(0,at.isNumber)(l.cy)&&(r.cy+=l.cy))}var f=s[e.id],d=f.x-h||.005,p=f.y-c||.005,g=Math.sqrt(d*d+p*p),v=a[f.id],y=n*i/g*o;t[v].x-=d*y,t[v].y-=p*y,(0,at.isNumber)(f.x)&&(r.cx+=f.x),(0,at.isNumber)(f.y)&&(r.cy+=f.y)})),r.cx/=r.count,r.cy/=r.count,!0}))}))},e.prototype.applyCalculate=function(t){var e=this,r=e.comboMap,n=e.nodes,i={};n.forEach((function(t,e){n.forEach((function(r,n){if(!(e<n)){var o=t.x-r.x||.005,a=t.y-r.y||.005,s=o*o+a*a,u=Math.sqrt(s);s<1&&(s=u),i[t.id+"-"+r.id]={vx:o,vy:a,vl2:s,vl:u},i[r.id+"-"+t.id]={vx:-o,vy:-a,vl2:s,vl:u}}}))})),e.updateComboSizes(r),e.calRepulsive(t,i),e.calAttractive(t,i),e.preventComboOverlap&&e.comboNonOverlapping(t,r)},e.prototype.updateComboSizes=function(t){var e=this,r=e.comboTrees,n=e.nodeMap,i=e.nodeSize,o=e.comboSpacing,a=e.comboPadding;(r||[]).forEach((function(r){var s=[];or(r,(function(r){if("node"===r.itemType)return!0;var u=t[r.id];if(u){var h=r.children;h&&h.forEach((function(e){(t[e.id]||n[e.id])&&s.push(e)})),u.minX=1/0,u.minY=1/0,u.maxX=-1/0,u.maxY=-1/0,s.forEach((function(t){if("node"!==t.itemType)return!0;var e=n[t.id];if(!e)return!0;var r=i(e),o=e.x-r,a=e.y-r,s=e.x+r,h=e.y+r;u.minX>o&&(u.minX=o),u.minY>a&&(u.minY=a),u.maxX<s&&(u.maxX=s),u.maxY<h&&(u.maxY=h)}));var c=e.oriComboMap[r.id].size||q.defaultCombo.size;(0,at.isArray)(c)&&(c=c[0]);var l=Math.max(u.maxX-u.minX,u.maxY-u.minY,c);return u.r=l/2+o(u)/2+a(u),!0}}))}))},e.prototype.comboNonOverlapping=function(t,e){var r=this,n=r.comboTree,i=r.comboCollideStrength,o=r.nodeIdxMap,a=r.nodeMap;or(n,(function(r){if(e[r.id]||a[r.id]||"comboTreeRoot"===r.id){var n=r.children;return n&&n.length>1&&n.forEach((function(r,s){if("node"!==r.itemType){var u=e[r.id];u&&n.forEach((function(n,h){if(!(s<=h)&&"node"!==n.itemType){var c=e[n.id];if(c){var l=u.cx-c.cx||.005,f=u.cy-c.cy||.005,d=l*l+f*f,p=u.r,g=c.r,v=p+g,y=g*g,m=p*p;if(d<v*v){var x=r.children;if(!x||0===x.length)return;var b=n.children;if(!b||0===b.length)return;var w=Math.sqrt(d),M=(v-w)/w*i,S=l*M,_=f*M,k=y/(m+y),E=1-k;x.forEach((function(e){if("node"===e.itemType&&a[e.id]){var r=o[e.id];b.forEach((function(e){if("node"===e.itemType&&a[e.id]){var n=o[e.id];t[r].x+=S*k,t[r].y+=_*k,t[n].x-=S*E,t[n].y-=_*E}}))}}))}}}}))}})),!0}}))},e.prototype.calRepulsive=function(t,e){var r=this,n=r.nodes,i=r.width*r.optimizeRangeFactor,o=r.nodeStrength,a=r.alpha,s=r.nodeCollideStrength,u=r.preventNodeOverlap,h=r.nodeSize,c=r.nodeSpacing,l=r.depthRepulsiveForceScale,f=r.center;n.forEach((function(d,p){if(d.x&&d.y){if(f){var g=r.gravity,v=d.x-f[0]||.005,y=d.y-f[1]||.005,m=Math.sqrt(v*v+y*y);t[p].x-=v*g*a/m,t[p].y-=y*g*a/m}n.forEach((function(r,n){if(p!==n&&r.x&&r.y){var f=e[d.id+"-"+r.id],g=f.vl2,v=f.vl;if(!(v>i)){var y=e[d.id+"-"+r.id],m=y.vx,x=y.vy,b=Math.abs(r.depth-d.depth)+1||1;r.comboId!==d.comboId&&b++;var w=b?Math.pow(l,b):1,M=o(r)*a/g*w;if(t[p].x+=m*M,t[p].y+=x*M,p<n&&u){var S=h(d)+c(d),_=h(r)+c(r),k=S+_;if(g<k*k){var E=(k-v)/v*s,C=_*_,P=C/(S*S+C),A=m*E,I=x*E;t[p].x+=A*P,t[p].y+=I*P,P=1-P,t[n].x-=A*P,t[n].y-=I*P}}}}}))}}))},e.prototype.calAttractive=function(t,e){var r=this,n=r.edges,i=r.linkDistance,o=r.alpha,a=r.edgeStrength,s=r.bias,u=r.depthAttractiveForceScale;n.forEach((function(n,h){if(n.source&&n.target&&n.source!==n.target){var c=r.nodeIdxMap[n.source],l=r.nodeIdxMap[n.target],f=r.nodeMap[n.source],d=r.nodeMap[n.target],p=Math.abs(f.depth-d.depth);f.comboId===d.comboId&&(p/=2);var g=p?Math.pow(u,p):1;if(f.comboId!==d.comboId&&1===g?g=u/2:f.comboId===d.comboId&&(g=2),(0,at.isNumber)(d.x)&&(0,at.isNumber)(f.x)&&(0,at.isNumber)(d.y)&&(0,at.isNumber)(f.y)){var v=e[n.target+"-"+n.source],y=v.vl,m=v.vx,x=v.vy,b=(y-i(n))/y*o*a(n)*g,w=m*b,M=x*b,S=s[h];t[l].x-=w*S,t[l].y-=M*S,t[c].x+=w*(1-S),t[c].y+=M*(1-S)}}}))},e}(qr),fruchterman:ai,grid:si,mds:Ti,radial:ji,random:Ri};(0,c.default)(Li,(function(t,e){Ur.registerLayout(e,{},t)}));const zi=Ur;var Fi=self;Fi.onmessage=function(t){(function(t){return t.data.type===Jn})(t)&&function(t){switch(t.data.type){case Jn:var e=t.data,r=e.nodes,n=e.edges,i=e.layoutCfg,o=void 0===i?{}:i,a=o.type,s=zi[a];if(!s){Fi.postMessage({type:ei,message:"layout "+a+" not found"});break}var u=new s(o);u.init({nodes:r,edges:n}),u.execute(),Fi.postMessage({type:ti,nodes:r}),u.destroy()}}(t)};function Yi(t){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Gi=function(t){return setTimeout(t,16)},Xi=function(t){return clearTimeout(t)},Vi=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||Gi)(t)},Hi=function(t){return(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||Xi)(t)};const qi=function(){function t(t){this.graph=t,this.layoutCfg=t.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return t.prototype.initLayout=function(){},t.prototype.getWorker=function(){return this.worker||("undefined"==typeof Worker?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new null),this.worker},t.prototype.stopWorker=function(){var t=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,t.requestId&&(Hi(t.requestId),t.requestId=null),t.requestId2&&(Hi(t.requestId2),t.requestId2=null))},t.prototype.getLayoutType=function(){return this.layoutCfg.type},t.prototype.layout=function(t){var e=this.graph;this.data=this.setDataFromGraph();var r=this.data.nodes;if(!r)return!1;var n=e.get("width"),i=e.get("height"),o={};Object.assign(o,{width:n,height:i,center:[n/2,i/2]},this.layoutCfg),this.layoutCfg=o;var a=!!this.layoutType,s=this.layoutMethod;s&&s.destroy(),e.emit("beforelayout");var u=this.initPositions(o.center,r);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,t))return!0;if("force"===this.layoutType||"g6force"===this.layoutType){var h=o.onTick,c=function(){h&&h(),e.refreshPositions()};o.tick=c;var l=o.onLayoutEnd;o.onLayoutEnd=function(){l&&l(),e.emit("afterlayout")}}else"comboForce"===this.layoutType&&(o.comboTrees=e.get("comboTrees"));var f=!1;if(void 0!==this.layoutType){try{s=new zi[this.layoutType](o)}catch(t){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(f=s.enableTick){var d=o.onTick,p=o.onLayoutEnd;c=function(){d&&d(),e.refreshPositions()};s.tick=c;s.onLayoutEnd=function(){p&&p(),e.emit("afterlayout")}}s.init(this.data),a&&s.execute(),this.layoutMethod=s}return!a&&u||"force"===this.layoutType||f||(e.emit("afterlayout"),this.refreshLayout()),!1},t.prototype.layoutWithWorker=function(t,e){var r=this,n=t.nodes,i=t.edges,o=this.layoutCfg,a=(this.graph,this.getWorker()),s=this.workerData;if(!a)return!1;s.requestId=null,s.requestId2=null,s.currentTick=null,s.currentTickData=null;var u=function(t,e){var r={};if(t&&"object"===Yi(t))return Object.keys(t).forEach((function(n){t.hasOwnProperty(n)&&e(t[n])&&(r[n]=t[n])})),r;return t}(o,(function(t){return"function"!=typeof t}));return a.postMessage({type:Jn,nodes:n,edges:i,layoutCfg:u}),a.onmessage=function(n){r.handleWorkerMessage(n,t,e)},!0},t.prototype.handleWorkerMessage=function(t,e,r){var n=this,i=n.graph,o=n.workerData,a=n.layoutCfg,s=t.data,u=s.type,h=function(){a.onTick&&a.onTick()},c=function(){a.onLayoutEnd&&a.onLayoutEnd(),i.emit("afterlayout")};switch(u){case ri:o.currentTick=s.currentTick,o.currentTickData=s,o.requestId||(o.requestId=Vi((function(){Wi(e,s),i.refreshPositions(),h(),1===s.currentTick&&r&&r(),s.currentTick===s.totalTicks?c():o.currentTick===s.totalTicks&&(o.requestId2=Vi((function(){Wi(e,o.currentTickData),i.refreshPositions(),o.requestId2=null,h(),c()}))),o.requestId=null})));break;case ti:null==o.currentTick&&(Wi(e,s),this.refreshLayout(),r&&r(),i.emit("afterlayout"))}},t.prototype.refreshLayout=function(){var t=this.graph;t.get("animate")?t.positionsAnimate():t.refreshPositions()},t.prototype.updateLayoutCfg=function(t){var e=this.graph,r=this.layoutMethod;this.layoutType=t.type,r?(this.data=this.setDataFromGraph(),this.stopWorker(),t.workerEnabled&&this.layoutWithWorker(this.data,null)||(r.init(this.data),r.updateCfg(t),e.emit("beforelayout"),r.execute(),"force"===this.layoutType||r.enableTick||e.emit("afterlayout"),this.refreshLayout())):console.warn("You did not assign any layout type and the graph has no previous layout method!")},t.prototype.changeLayout=function(t){var e=this.graph,r=this.layoutMethod;this.layoutType=t,this.layoutCfg=e.get("layout")||{},this.layoutCfg.type=t,r&&r.destroy(),this.layout()},t.prototype.changeData=function(){var t=this.layoutMethod;t&&t.destroy(),this.layout()},t.prototype.destroyLayout=function(){var t=this.layoutMethod,e=this.graph;t&&t.destroy(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},t.prototype.setDataFromGraph=function(){var t=[],e=[],r=[],n=this.graph.getNodes(),i=this.graph.getEdges(),o=this.graph.getCombos();return n.forEach((function(e){if(e.isVisible()){var r=e.getModel();t.push(r)}})),i.forEach((function(t){if(!t.destroyed&&t.isVisible()){var r=t.getModel();r.isComboEdge||e.push(r)}})),o.forEach((function(t){if(!t.destroyed&&t.isVisible()){var e=t.getModel();r.push(e)}})),{nodes:t,edges:e,combos:r}},t.prototype.relayout=function(t){var e=this,r=e.graph,n=e.layoutMethod,i=e.layoutCfg;if(t){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(i.center,o),n.init(this.data)}"force"===this.layoutType&&(n.ticking=!1,n.forceSimulation.stop()),r.emit("beforelayout"),n.execute(t),"force"===this.layoutType||n.enableTick||r.emit("afterlayout"),this.refreshLayout()},t.prototype.layoutAnimate=function(){},t.prototype.moveToZero=function(){var t=this.graph.get("data").nodes;if(void 0!==t[0].x&&null!==t[0].x&&!_(t[0].x)){var e=[0,0];t.forEach((function(t){e[0]+=t.x,e[1]+=t.y})),e[0]/=t.length,e[1]/=t.length,t.forEach((function(t){t.x-=e[0],t.y-=e[1]}))}},t.prototype.initPositions=function(t,e){var r=this.graph;if(!e)return!1;var n=!0,i=.85*r.get("width"),o=.85*r.get("height"),a=e.length,s=Math.ceil(Math.sqrt(a)*(i/o)),u=Math.ceil(a/s),h=i/(s-1),c=o/(u-1);isFinite(h)&&h||(h=0),isFinite(c)&&h||(c=0);var l=t[0]-i/2,f=t[1]-o/2;return e.forEach((function(t,e){_(t.x)&&(n=!1,t.x=e%s*h+l),_(t.y)&&(n=!1,t.y=Math.floor(e/s)*c+f)})),n},t.prototype.destroy=function(){var t=this.layoutMethod;this.graph=null,t&&t.destroy();var e=this.worker;e&&(e.terminate(),this.worker=null),this.destroyed=!0},t}();function Wi(t,e){var r=t.nodes,n=e.nodes;r.forEach((function(t,e){t.x=n[e].x,t.y=n[e].y}))}var Ui=null;const Zi=function(){function t(t){this.graph=t,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return t.checkCache=function(t,e,r){if(r[e]){var n=r[e].indexOf(t);n>=0&&r[e].splice(n,1)}},t.cacheState=function(t,e,r){r[e]||(r[e]=[]),r[e].push(t)},t.prototype.updateState=function(e,r,n){var i=this,o=t.checkCache,a=t.cacheState;if(!e.destroyed){var s=this.cachedStates,u=s.enabled,h=s.disabled;n?(o(e,r,h),a(e,r,u)):(o(e,r,u),a(e,r,h)),Ui&&clearTimeout(Ui),Ui=setTimeout((function(){Ui=null,i.updateGraphStates()}),16)}},t.prototype.updateStates=function(t,e,r){var n=this;(0,m.default)(e)?this.updateState(t,e,r):e.forEach((function(e){n.updateState(t,e,r)}))},t.prototype.updateGraphStates=function(){var t=this.graph.get("states"),e=this.cachedStates;(0,c.default)(e.disabled,(function(e,r){t[r]&&(t[r]=t[r].filter((function(t){return e.indexOf(t)<0&&!e.destroyed})))})),(0,c.default)(e.enabled,(function(e,r){if(t[r]){var n={};t[r].forEach((function(t){t.destroyed||(n[t.get("id")]=!0)})),e.forEach((function(e){if(!e.destroyed){var i=e.get("id");n[i]||(n[i]=!0,t[r].push(e))}}))}else t[r]=e})),this.graph.emit("graphstatechange",{states:t}),this.cachedStates={enabled:{},disabled:{}}},t.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Ui&&clearTimeout(Ui),Ui=null,this.destroyed=!0},t}();var Ki=null;const $i=function(){function t(e){this.graph=e;var r=e.get("groupStyle");this.styles=(0,vt.default)({},t.getDefaultCfg(),r),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return t.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},t.prototype.create=function(t,e,r,n,i,o){void 0===r&&(r="circle"),void 0===n&&(n=0),void 0===i&&(i=!1),void 0===o&&(o={});var a=this.graph,s=a.get("customGroup");if(s.get("children").map((function(t){return t.get("id")})).indexOf(t)>-1)console.warn("已经存在ID为 "+t+" 的分组，请重新设置分组ID！");else{var u=s.addGroup({id:t,zIndex:n}),h=this.styles.default,c=this.calculationGroupPosition(e),l=c.x,f=c.y,d=c.width,p=c.height,g=c.maxX,v=this.getGroupPadding(t);a.get("groupBBoxs")[t]={x:l,y:f,width:d,height:p,maxX:g};var y=null;if(i){var m=a.get("groups");e.forEach((function(e){var r=a.findById(e).getModel();r.groupId||(r.groupId=t)})),m.find((function(e){return e.id===t}))||(m.push({id:t,title:o}),a.set({groups:m}))}var b=a.get("groups").filter((function(e){return e.id===t}));b&&b.length>0&&(y=b[0].title);var w=0,M=0,S=null;if("circle"===r){var _=(d+2*l)/2,k=(p+2*f)/2,E=(d>p?d/2:p/2)+v;S=u.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},h),{x:_,y:k,r:E}),draggable:!0,capture:!0,zIndex:n,groupId:t,name:"circle-group-shape"}),w=_,M=k-E,this.setDeletageGroupByStyle(t,u,{width:d,height:p,x:_,y:k,r:E})}else{var C=v*h.disCoefficient;S=u.addShape("rect",{attrs:(0,x.__assign)((0,x.__assign)({},h),{x:l-C,y:f-C,width:d+2*C,height:p+2*C}),draggable:!0,capture:!0,zIndex:n,groupId:t,name:"rect-group-shape"}),w=l-C+15,M=f-C+15,this.setDeletageGroupByStyle(t,u,{x:l-C,y:f-C,width:d+C,height:p+C,btnOffset:g-3})}if(y){var P=y.offsetX,A=void 0===P?0:P,I=y.offsetY,O=void 0===I?0:I,T=y.text,N=void 0===T?y:T,D=(0,x.__rest)(y,["offsetX","offsetY","text"]);u.addShape("text",{attrs:(0,x.__assign)({text:N,stroke:"#444",x:w+A,y:M+O},D),className:"group-title",name:"group-title-shape"}).set("capture",!1)}u.set("keyShape",S),a.get("groupNodes")[t]=e}},t.prototype.setGroupStyle=function(t,e){if(t&&!t.get("destroyed")){var r={},n=this.styles,i=n.hover,o=n.default;(0,m.default)(e)?"default"===e?r=(0,vt.default)({},o):"hover"===e&&(r=(0,vt.default)({},i)):r=(0,vt.default)({},o,e),Object.keys(r).forEach((function(e){t.attr(e,r[e])}))}},t.prototype.calculationGroupPosition=function(t,e){if(void 0===e&&(e={x:100,y:100}),0===t.length)return{x:e.x,y:e.y,width:100,height:100};var r=this.graph,n=1/0,i=-1/0,o=1/0,a=-1/0;t.forEach((function(t){var e=((0,m.default)(t)?r.findById(t):t).getBBox(),s=e.minX,u=e.minY,h=e.maxX,c=e.maxY;s<n&&(n=s),u<o&&(o=u),h>i&&(i=h),c>a&&(a=c)}));var s=Math.floor(n),u=Math.floor(o);return{x:s,y:u,width:Math.ceil(i)-s,height:Math.ceil(a)-u,maxX:Math.ceil(i)}},t.prototype.flatToTree=function(t,e,r){void 0===e&&(e="id"),void 0===r&&(r="parentId");var n=[],i=[];return t.forEach((function(t){n[t[e]]=t})),t.forEach((function(t){var e=n[t[r]];e?(e.children=e.children||[],e.children.push(t)):i.push(t)})),i},t.prototype.getGroupPadding=function(t){var e=this.graph,r=this.styles.default,n=e.get("groups"),i=n.filter((function(e){return e.parentId===t})),o=1;return i.length>0&&(Ki||(Ki=this.flatToTree(n)),ir(Ki[0],(function(e){if(e.parentId===t&&e.children)return o+=e.children.length,!0}))),n.filter((function(e){return e.id===t&&!e.parentId})).length>0&&(o+=1),!!(n.filter((function(e){return e.parentId===t})).length>0)?r.maxDis+30*(o>1?o/2:1):r.minDis},t.prototype.setDeletageGroupByStyle=function(t,e,r){var n=r.width,i=r.height,o=r.x,a=r.y,s=r.r,u=r.btnOffset,h=this.customGroup[t];if(h){var c=h.groupStyle,l=(0,vt.default)({},c,r);this.customGroup[t]={nodeGroup:e,groupStyle:l}}else this.customGroup[t]={nodeGroup:e,groupStyle:{width:n,height:i,x:o,y:a,r:s,btnOffset:u}}},t.prototype.getDeletageGroupById=function(t){return this.customGroup[t]},t.prototype.collapseExpandGroup=function(t){var e=this.getDeletageGroupById(t).nodeGroup;e.get("hasHidden")?(e.set("hasHidden",!1),this.expandGroup(t)):(e.set("hasHidden",!0),this.collapseGroup(t))},t.prototype.setGroupTmpNode=function(t,e){var r=this.graph,n=r.get("groupNodes"),i=r.get("groups");n[t].indexOf(e)<0&&n[t].push(e);var o=i.filter((function(e){return e.id===t})),a=null;o.length>0&&(a=o[0].parentId),a&&this.setGroupTmpNode(a,e)},t.prototype.collapseGroup=function(t){var e=this,r=this.getDeletageGroupById(t).nodeGroup,n=this.styles.collapse,i=this.graph,o=i.get("groupType"),a=i.get("groupNodes")[t],s=r.get("keyShape"),u=n.r,h=n.width,c=n.height,l=n.offsetX,f=n.offsetY,d=(0,x.__rest)(n,["r","width","height","offsetX","offsetY"]);Object.keys(d).forEach((function(t){s.attr(t,d[t])}));var p={groupId:t,id:t+"-custom-node",x:s.attr("x"),y:s.attr("y"),style:{r:u},type:"circle"},g=r.find((function(t){return"group-title"===t.get("className")}));"circle"===o?(s.animate({r:u},{duration:500,easing:"easeCubic"}),g&&g.attr({x:s.attr("x")+l,y:s.attr("y")+f})):"rect"===o&&(s.animate({width:h,height:c},{duration:500,easing:"easeCubic"}),g&&g.attr({x:s.attr("x")+10,y:s.attr("y")+c/2+5}),p={groupId:t,id:t+"-custom-node",x:s.attr("x")+h/2,y:s.attr("y")+c/2,size:[h,c],type:"rect"});var v=i.getEdges(),y=v.filter((function(t){var e=t.getModel();return!a.includes(e.source)&&a.includes(e.target)})),m=v.filter((function(t){var e=t.getModel();return a.includes(e.source)&&!a.includes(e.target)})),b=v.filter((function(t){var e=t.getModel();return a.includes(e.source)&&a.includes(e.target)}));if(a.forEach((function(r){var n=i.findById(r),o=n.getModel().groupId;o&&o!==t&&e.getDeletageGroupById(o).nodeGroup.hide();n.hide()})),b.forEach((function(t){var e=t.getSource(),r=t.getTarget();e.isVisible()&&r.isVisible()?t.show():t.hide()})),y.length>0||m.length>0){var w=i.add("node",p);w.set("capture",!1),w.hide(),this.delegateInGroup[t]={delegateNode:w},this.setGroupTmpNode(t,t+"-custom-node"),this.updateEdgeInGroupLinks(t,y,m)}},t.prototype.updateEdgeInGroupLinks=function(t,e,r){var n=this.graph,i={};e.map((function(e){var r=e.getModel(),o=e.get("id"),a=r.target;return i[o]=a,n.updateItem(e,{target:t+"-custom-node"}),!0}));var o={};r.map((function(e){var r=e.getModel(),i=e.get("id"),a=r.source;return o[i]=a,n.updateItem(e,{source:t+"-custom-node"}),!0})),this.delegateInGroup[t]=(0,vt.default)({sourceOutTargetInEdges:e,sourceInTargetOutEdges:r,edgesOuts:i,edgesIn:o},this.delegateInGroup[t])},t.prototype.expandGroup=function(t){var e=this,r=this.graph,n=r.get("groupType"),i=r.get("groupNodes")[t],o=i.filter((function(t){return-1===t.indexOf("custom-node")})),a=this.calculationGroupPosition(o),s=a.width,u=a.height,h=this.getDeletageGroupById(t).nodeGroup,c=h.get("keyShape"),l=this.styles,f=l.default,d=l.collapse;Object.keys(f).forEach((function(t){c.attr(t,f[t])}));var p=h.find((function(t){return"group-title"===t.get("className")})),g=this.getGroupPadding(t);if("circle"===n){var v=s>u?s/2:u/2;c.animate({r:v+g},{duration:500,easing:"easeCubic"})}else if("rect"===n){var y=d.width,m=d.height;c.animate({width:y+s+g*f.disCoefficient*2,height:m+u+g*f.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(p){var x=null,b=r.get("groups").filter((function(e){return e.id===t}));b&&b.length>0&&(x=b[0].title);var w=x.offsetX,M=void 0===w?0:w,S=x.offsetY,_=void 0===S?0:S;"circle"===n?p.animate({x:c.attr("x")+M,y:c.attr("y")-c.attr("r")+_},{duration:600,easing:"easeCubic"}):"rect"===n&&p.animate({x:c.attr("x")+(15+M),y:c.attr("y")+(15+_)},{duration:600,easing:"easeCubic"})}setTimeout((function(){i.forEach((function(n){var i=r.findById(n),o=i.getModel().groupId;if(o&&o!==t){var a=e.getDeletageGroupById(o).nodeGroup;a.show(),a.get("hasHidden")||i.show()}else i.show()})),r.getEdges().filter((function(t){var e=t.getModel();return i.includes(e.source)||i.includes(e.target)})).forEach((function(t){var e=t.getSource(),r=t.getTarget();e.isVisible()&&r.isVisible()&&t.show()}))}),300);var k=this.delegateInGroup[t];if(k){var E=k.sourceOutTargetInEdges,C=k.sourceInTargetOutEdges,P=k.edgesOuts,A=k.edgesIn,I=k.delegateNode;E.map((function(t){var e=t.get("id"),n=P[e];return r.updateItem(t,{target:n}),!0})),C.map((function(t){var e=t.get("id"),n=A[e];return r.updateItem(t,{source:n}),!0}));var O=I.getModel();this.deleteTmpNode(t,O.id),r.remove(I),delete this.delegateInGroup[t]}},t.prototype.deleteTmpNode=function(t,e){var r=this.graph,n=r.get("groups"),i=r.get("groupNodes")[t],o=i.indexOf(e);i.splice(o,1);var a=n.filter((function(e){return e.id===t})),s=null;a.length>0&&(s=a[0].parentId),s&&this.deleteTmpNode(s,e)},t.prototype.remove=function(t){var e=this.graph,r=this.getDeletageGroupById(t);if(r){var n=r.nodeGroup,i=e.get("groupNodes"),o=i[t];o.forEach((function(r){var n=e.findById(r),i=n.getModel(),o=i.groupId;o&&t===o&&(delete i.groupId,e.updateItem(n,i))})),n.destroy(),delete this.customGroup[t];var a=e.get("groups");if(a.length>0){var s=a.filter((function(e){return e.id!==t}));e.set("groups",s)}for(var u=null,h=null,c=0;c<a.length;c++){var l=a[c];if(t===l.id){u=l.parentId,h=l;break}}h&&delete h.parentId,delete i[t],u&&(i[u]=i[u].filter((function(t){return!o.includes(t)})))}},t.prototype.updateGroup=function(t,e,r){var n=this.graph,i=n.get("groupType");this.updateItemInGroup(t,e,r);for(var o=n.save().groups,a=null,s=null,u=0;u<o.length;u++){var h=o[u];if(t===h.id){a=h.parentId,s=h;break}}if(a){var c=this.getDeletageGroupById(a).nodeGroup,l=c.get("keyShape");this.setGroupStyle(l,"default");var f=l.getBBox(),d=f.minX,p=f.minY,g=f.maxX,v=f.maxY,y=this.getDeletageGroupById(t).nodeGroup.get("keyShape").getBBox(),m=y.x,x=y.y;if(!(m<g&&m>d&&x<v&&x>p)){delete s.parentId;var b=n.get("groupNodes"),w=b[t],M=b[a];b[a]=M.filter((function(t){return-1===w.indexOf(t)}));var S=this.calculationGroupPosition(b[a]),_=S.x,k=S.y,E=S.width,C=S.height,P=this.getGroupPadding(a),A=c.find((function(t){return"group-title"===t.get("className")})),I=0,O=0;if("circle"===i){var T=E>C?E/2:C/2,N=_,D=k;l.attr({r:T+P,x:N,y:D}),I=N,O=D-l.attr("r")}else if("rect"===i){var B=P*this.styles.default.disCoefficient;l.attr({x:_-B,y:k-B}),I=_-B+15,O=k-B+15}if(A){var j=s.title,R=0,L=0;j&&(R=j.offsetX,L=j.offsetY),A.attr({x:I+R,y:O+L})}}}},t.prototype.updateItemInGroup=function(t,e,r){var n=this,i=this.graph,o=i.get("groupType"),a=i.get("groupNodes"),s=a[t],u=this.getDeletageGroupById(t).nodeGroup.getBBox(),h=[];s.forEach((function(t,r){var o=i.findById(t),a=o.getModel(),s=a.groupId;s&&!h.includes(s)&&h.push(s),n.nodePoint[r]||(n.nodePoint[r]={x:a.x,y:a.y});var c=e.x-u.x+n.nodePoint[r].x,l=e.y-u.y+n.nodePoint[r].y;n.nodePoint[r]={x:c,y:l},i.updateItem(o,{x:c,y:l})})),h.includes(t)||h.push(t),h.forEach((function(t){var r=n.getDeletageGroupById(t).nodeGroup,i=r.get("keyShape"),s=a[t].filter((function(t){return-1===t.indexOf("custom-node")})),u=n.calculationGroupPosition(s,e),h=u.x,c=u.y,l=u.width,f=u.height,d=0,p=0;if("circle"===o){var g=(l+2*h)/2,v=(f+2*c)/2;i.attr({x:g,y:v}),d=g,p=v-i.attr("r")}else if("rect"===o){var y=r.get("hasHidden"),m={},x=n.getGroupPadding(t)*n.styles.default.disCoefficient;d=h-x+15,p=c-x+15,y?(m={x:h-x,y:c-x},p+=10):m={x:h-x,y:c-x,width:l+2*x,height:f+2*x},i.attr(m)}n.updateGroupTitle(r,t,d,p)}))},t.prototype.updateGroupTitle=function(t,e,r,n){var i=this.graph,o=t.find((function(t){return"group-title"===t.get("className")}));if(o){var a=null,s=i.get("groups").filter((function(t){return t.id===e}));s&&s.length>0&&(a=s[0].title);var u=0,h=0;a&&(u=a.offsetX||0,h=a.offsetY||0),o.attr({x:r+u,y:n+h})}},t.prototype.dynamicChangeGroupSize=function(t,e,r){var n=t.item.getModel().groupId,i=this.graph,o=i.get("groupType"),a=i.get("groupNodes"),s=a[n];if(0===s.length){delete a[n];var u=i.get("groups");i.set("groups",u.filter((function(t){return t.id!==n}))),e.remove()}else{var h=this.calculationGroupPosition(s),c=h.x,l=h.y,f=h.width,d=h.height,p=this.getGroupPadding(n),g=0,v=0;if("circle"===o){var y=f>d?f/2:d/2,m=(f+2*c)/2,x=(d+2*l)/2;r.attr({r:y+p,x:m,y:x}),g=m,v=x-r.attr("r")}else if("rect"===o){var b=p*this.styles.default.disCoefficient;r.attr({x:c-b,y:l-b,width:f+2*b,height:d+2*b}),g=c-b+15,v=l-b+15}this.updateGroupTitle(e,n,g,v)}this.setGroupStyle(r,"default")},t.prototype.resetNodePoint=function(){this.nodePoint.length=0},t.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},t}();const Qi=function(t){var e={};return t.getNodes().forEach((function(t){e[t.getID()]={degree:0,inDegree:0,outDegree:0}})),t.getEdges().forEach((function(t){e[t.getSource().getID()].degree++,e[t.getSource().getID()].outDegree++,e[t.getTarget().getID()].degree++,e[t.getTarget().getID()].inDegree++})),e};const Ji=function(){function t(e){this.compare=e||t.defaultCompareFunction}return t.defaultCompareFunction=function(t,e){return t===e?0:t<e?-1:1},t.prototype.equal=function(t,e){return 0===this.compare(t,e)},t.prototype.lessThan=function(t,e){return this.compare(t,e)<0},t.prototype.greaterThan=function(t,e){return this.compare(t,e)>0},t.prototype.lessThanOrEqual=function(t,e){return this.lessThan(t,e)||this.equal(t,e)},t.prototype.greaterThanOrEqual=function(t,e){return this.greaterThan(t,e)||this.equal(t,e)},t.prototype.reverse=function(){var t=this.compare;this.compare=function(e,r){return t(r,e)}},t}();var to=function(){function t(t,e){void 0===e&&(e=null),this.value=t,this.next=e}return t.prototype.toString=function(t){return t?t(this.value):""+this.value},t}();const eo=function(){function t(t){void 0===t&&(t=null),this.head=null,this.tail=null,this.compare=new Ji(t)}return t.prototype.prepend=function(t){var e=new to(t,this.head);return this.head=e,this.tail||(this.tail=e),this},t.prototype.append=function(t){var e=new to(t);return this.head?(this.tail.next=e,this.tail=e,this):(this.head=e,this.tail=e,this)},t.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare.equal(this.head.value,t);)e=this.head,this.head=this.head.next;var r=this.head;if(null!==r)for(;r.next;)this.compare.equal(r.next.value,t)?(e=r.next,r.next=r.next.next):r=r.next;return this.compare.equal(this.tail.value,t)&&(this.tail=r),e},t.prototype.find=function(t){var e=t.value,r=void 0===e?void 0:e,n=t.callback,i=void 0===n?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==r&&this.compare.equal(o.value,r))return o;o=o.next}return null},t.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t},t.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},t.prototype.fromArray=function(t){var e=this;return t.forEach((function(t){return e.append(t)})),this},t.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},t.prototype.reverse=function(){for(var t=this.head,e=null,r=null;t;)r=t.next,t.next=e,e=t,t=r;this.tail=this.head,this.head=e},t.prototype.toString=function(t){return void 0===t&&(t=void 0),this.toArray().map((function(e){return e.toString(t)})).toString()},t}();const ro=function(){function t(t){void 0===t&&(t=10),this.linkedList=new eo,this.maxStep=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},t.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},t.prototype.push=function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()},t.prototype.pop=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toArray=function(){return this.linkedList.toArray().map((function(t){return t.value}))},t.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},t}();const no=function(t,e){var r=t.getNodes(),n=t.getEdges(),i=[],o={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((function(t,e){o[t.getID()]=e;i.push([])})),n&&n.forEach((function(t){var r=t.getModel(),n=r.source,a=r.target,s=o[n],u=o[a];i[s][u]=1,e||(i[u][s]=1)})),i};const io=function(t,e){var r=t.get("adjMatrix");r||(r=no(t,e));for(var n=[],i=r.length,o=0;o<i;o+=1){n[o]=[];for(var a=0;a<i;a+=1)o===a?n[o][a]=0:0!==r[o][a]&&r[o][a]?n[o][a]=r[o][a]:n[o][a]=1/0}for(var s=0;s<i;s+=1)for(o=0;o<i;o+=1)for(a=0;a<i;a+=1)n[o][a]>n[o][s]+n[s][a]&&(n[o][a]=n[o][s]+n[s][a]);return n};var oo=function(t,e,r){return(t.y-r.y)*(e.x-r.x)-(t.x-r.x)*(e.y-r.y)},ao=function(t){var e=t.map((function(t){return{x:t.getModel().x,y:t.getModel().y}}));e.sort((function(t,e){return t.x===e.x?t.y-e.y:t.x-e.x}));for(var r=[],n=0;n<e.length;n++){for(;r.length>=2&&oo(r[r.length-2],r[r.length-1],e[n])<=0;)r.pop();r.push(e[n])}var i=[];for(n=e.length-1;n>=0;n--){for(;i.length>=2&&oo(i[i.length-2],i[i.length-1],e[n])<=0;)i.pop();i.push(e[n])}return i.pop(),r.pop(),r.concat(i)},so={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function uo(t,e,r){var n=!1,i=function(t,r){return e.cells[t+r*e.width]},o=function(t,e){var n=0;return i(t-1,e-1)>=r&&(n+=1),i(t,e-1)>r&&(n+=2),i(t-1,e)>r&&(n+=4),i(t,e)>r&&(n+=8),n},a=function(r,n){for(var i,a,s=r,u=n,h=0;h<e.width*e.height;h++){if(i=s,a=u,t.findIndex((function(t){return t.x===s&&t.y===u}))>-1){if(t[0].x===s&&t[0].y===u)return!0}else t.push({x:s,y:u});var c=o(s,u);switch(c){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:s++;break;case 12:case 14:case 4:s--;break;case 6:0===i&&(-1===a?s-=1:s+=1);break;case 1:case 13:case 5:u--;break;case 9:1===i&&(0===a?u-=1:u+=1);break;case 10:case 8:case 11:u++;break;default:return console.warn("Marching squares invalid state: "+c),!0}}};this.march=function(){for(var t=0;t<e.width&&!n;t+=1)for(var s=0;s<e.height&&!n;s+=1)i(t,s)>r&&15!==o(t,s)&&(n=a(t,s));return n}}var ho=function(t,e){var r=Number.POSITIVE_INFINITY,n=null;return t.forEach((function(t){var i=re(t,e);i>=0&&i<r&&(n=t,r=i)})),n};function co(t,e,r,n,i){var o=function(t,e,r){var n=null,i=Number.POSITIVE_INFINITY;return e.forEach((function(e){var o={x:t.getModel().x,y:t.getModel().y},a={x:e.getModel().x,y:e.getModel().y},s=ie(o,a),u=new Qt(o.x,o.y,a.x,a.y),h=r.reduce((function(t,e){return re(e,u)>0?t+1:t}),0);s*Math.pow(h+1,2)<i&&(n=e,i=s*Math.pow(h+1,2))})),n}(t,r,e);if(null===o)return[];return function(t){for(var r=[];t.length>0;){var n=t.pop();if(0===t.length){r.push(n);break}var i=t.pop(),o=new Qt(n.x1,n.y1,i.x2,i.y2);ho(e,o)?(r.push(n),t.push(i)):t.push(o)}return r}(function(t,e,r,n){var i=[],o=[];o.push(t);for(var a=!0,s=0,u=function(t,e){var r=!1;return e.forEach((function(e){r||(ae(t,{x:e.x1,y:e.y1})||ae(t,{x:e.x2,y:e.y2}))&&(r=!0)})),r},h=function(t,e){for(var r=0,n=e;r<n.length;r++){var i=n[r].getBBox(),o=[[i.x,i.y],[i.x+i.width,i.y],[i.x,i.y+i.height],[i.x+i.width,i.y+i.height]];if(Zt(o,t.x,t.y))return!0}return!1};a&&s<r;){a=!1;for(var c=function(){var t=o.pop(),r=ho(e,t);if(r){var c=ee(r,t),l=c[0];if(2===c[1]){var f=function(s){for(var c=n,f=po(r,c,l,s),d=u(f,o)||u(f,i),p=h(f,e);!d&&p&&c>=1;)f=po(r,c/=1.5,l,s),d=u(f,o)||u(f,i),p=h(f,e);!f||d||s&&p||(o.push(new Qt(t.x1,t.y1,f.x,f.y)),o.push(new Qt(f.x,f.y,t.x2,t.y2)),a=!0)};f(!0),a||f(!1)}}a||i.push(t),s+=1};!a&&o.length;)c()}for(;o.length;)i.push(o.pop());return i}(new Qt(t.getModel().x,t.getModel().y,o.getModel().x,o.getModel().y),e,n,i))}var lo=function(t,e,r){var n=Object.assign(so,r),i=ne(t.map((function(t){return{x:t.getModel().x,y:t.getModel().y}})));t=t.sort((function(t,e){return ie({x:t.getModel().x,y:t.getModel().y},i)-ie({x:e.getModel().x,y:e.getModel().y},i)}));var o=[],a=[];t.forEach((function(t){co(t,e,o,n.maxRoutingIterations,n.morphBuffer).forEach((function(t){a.push(t)})),o.push(t)}));for(var s,u,h,c,l,f=function(t,e,r){var n={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},i=[];t.forEach((function(t){i.push(t.getBBox())})),e.forEach((function(t){i.push(t.getBBox())}));for(var o=0,a=i;o<a.length;o++){var s=a[o];n.minX=(s.minX<n.minX?s.minX:n.minX)-r,n.minY=(s.minY<n.minY?s.minY:n.minY)-r,n.maxX=(s.maxX>n.maxX?s.maxX:n.maxX)+r,n.maxY=(s.maxY>n.maxY?s.maxY:n.maxY)+r}return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.x=n.minX,n.y=n.minY,n}(t,a,n.nodeR0),d=(s=f.width,u=f.height,h=n.pixelGroupSize,c=Math.ceil(s/h),l=Math.ceil(u/h),{cells:new Float32Array(Math.max(0,c*l)).fill(0),width:c,height:l}),p=[],g=[],v=0;v<n.maxMarchingIterations;v++)if(fo(t,e,a,f,d,n),g=[],new uo(p=[],d,n.threshold).march()){var y=p.map((function(t){return{x:Math.round(t.x*n.pixelGroupSize+f.minX),y:Math.round(t.y*n.pixelGroupSize+f.minY)}}));if(y){var m=y.length;if(n.skip>1)for(m=Math.floor(y.length/n.skip);m<3&&n.skip>1;)n.skip-=1,m=Math.floor(y.length/n.skip);for(var x=0,b=0;b<m;b+=1,x+=n.skip)g.push({x:y[x].x,y:y[x].y})}if(g&&function(){for(var e=0,r=t;e<r.length;e++){var n=r[e],i=g.map((function(t){return[t.x,t.y]}));if(!Zt(i,n.getBBox().centerX,n.getBBox().centerY))return!1}return!0}())return g;if(n.threshold*=.9,v<=.5*n.maxMarchingIterations)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else{if(!(0!==n.nonMemberInfluenceFactor&&e.length>0))break;n.nonMemberInfluenceFactor*=.8}}return g};function fo(t,e,r,n,i,o){function a(t,e){var r=Math.floor((t-e)/o.pixelGroupSize);return r<0?0:r}function s(t,e){return t*o.pixelGroupSize+e}var u=(o.nodeR0-o.nodeR1)*(o.nodeR0-o.nodeR1),h=(o.edgeR0-o.edgeR1)*(o.edgeR0-o.edgeR1),c=function(t,e){return[Math.min(a(t.minX,e+n.minX),i.width),Math.min(a(t.minY,e+n.minY),i.height),Math.min(a(t.maxX,-e+n.minX),i.width),Math.min(a(t.maxY,-e+n.minY),i.height)]},l=function(t,e){for(var r=t.getBBox(),a=c(r,o.nodeR1),u=a[0],h=a[1],l=a[2],f=a[3],d=h;d<f;d+=1)for(var p=u;p<l;p+=1)if(!(e<0&&i[p+d*i.width]<=0)){var g=s(p,n.minX),v=s(d,n.minY),y=se({x:g,y:v},{x:r.minX,y:r.minY,width:r.width,height:r.height});if(y<Math.pow(o.nodeR1,2)){var m=Math.sqrt(y)-o.nodeR1;i.cells[p+d*i.width]+=e*m*m}}};o.nodeInfluenceFactor&&t.forEach((function(t){l(t,o.nodeInfluenceFactor/u)})),o.edgeInfluenceFactor&&r.forEach((function(t){!function(t,e){for(var r=t.getBBox(),a=c(r,o.edgeR1),u=a[0],h=a[1],l=a[2],f=a[3],d=h;d<f;d+=1)for(var p=u;p<l;p+=1)if(!(e<0&&i.cells[p+d*i.width]<=0)){var g=s(p,n.minX),v=s(d,n.minY),y=oe({x:g,y:v},t);if(y<Math.pow(o.edgeR1,2)){var m=Math.sqrt(y)-o.edgeR1;i.cells[p+d*i.width]+=e*m*m}}}(t,o.edgeInfluenceFactor/h)})),o.negativeNodeInfluenceFactor&&e.forEach((function(t){l(t,o.negativeNodeInfluenceFactor/u)}))}function po(t,e,r,n){var i=t.getBBox(),o=r[0],a=r[1],s=r[2],u=r[3],h={topLeft:{x:i.minX-e,y:i.minY-e},topRight:{x:i.maxX+e,y:i.minY-e},bottomLeft:{x:i.minX-e,y:i.maxY+e},bottomRight:{x:i.maxX+e,y:i.maxY+e}},c=i.height*i.width;function l(t,e){return i.width*(.5*(t.y-i.minY+(e.y-i.minY)))}if(a)return o?n?h.topLeft:h.bottomRight:s?n?h.bottomLeft:h.topRight:l(a,u)<.5*c?a.y>u.y?n?h.topLeft:h.bottomRight:n?h.topRight:h.bottomLeft:a.y<u.y?n?h.bottomLeft:h.topRight:n?h.bottomRight:h.topLeft;if(u){if(o)return n?h.topRight:h.bottomLeft;if(s)return n?h.bottomRight:h.topLeft}return l(o,s)<.5*c?o.x>s.x?n?h.topLeft:h.bottomRight:n?h.bottomLeft:h.topRight:o.x<s.x?n?h.topRight:h.bottomLeft:n?h.bottomRight:h.topLeft}const go=function(){function t(t,e){this.cfg=(0,at.deepMix)(this.getDefaultCfg(),e),this.graph=t,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map((function(e){return(0,at.isString)(e)?t.findById(e):e})),this.nonMembers=this.cfg.nonMembers.map((function(e){return(0,at.isString)(e)?t.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return t.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},t.prototype.setPadding=function(){var t=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+t:10+t,this.cfg.bubbleCfg={nodeR0:this.padding-t,nodeR1:this.padding-t,morphBuffer:this.padding-t}},t.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),"round-convex"!==this.type&&"smooth-convex"!==this.type&&"bubble"!==this.type&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},t.prototype.calcPath=function(t,e){var r,n,i;switch(this.type){case"round-convex":n=function(t){if(!t)return null;if((0,g.default)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(t).replace(ce,(function(t,n,i){var o=[],a=n.toLowerCase();if(i.replace(le,(function(t,e){e&&o.push(+e)})),"m"===a&&o.length>2&&(r.push([n].concat(o.splice(0,2))),a="l",n="m"===n?"l":"L"),"o"===a&&1===o.length&&r.push([n,o[0]]),"r"===a)r.push([n].concat(o));else for(;o.length>=e[a]&&(r.push([n].concat(o.splice(0,e[a]))),e[a]););return""})),r}(i=we((r=ao(t)).map((function(t){return[t.x,t.y]})),this.padding));break;case"smooth-convex":i=Me((r=ao(t)).map((function(t){return[t.x,t.y]})),this.padding),n=r.length>=2&&ye(i);break;case"bubble":n=(r=lo(t,e,this.cfg.bubbleCfg)).length>=2&&ye(r)}return n},t.prototype.render=function(){this.group.addShape("path",{attrs:(0,x.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},t.prototype.addMember=function(t){if(t){(0,at.isString)(t)&&(t=this.graph.findById(t)),this.members.push(t);var e=this.nonMembers.indexOf(t);return e>-1&&this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.addNonMember=function(t){if(t){(0,at.isString)(t)&&(t=this.graph.findById(t)),this.nonMembers.push(t);var e=this.members.indexOf(t);return e>-1&&this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0}},t.prototype.removeMember=function(t){if(t){(0,at.isString)(t)&&(t=this.graph.findById(t));var e=this.members.indexOf(t);return e>-1&&(this.members.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.removeNonMember=function(t){if(t){(0,at.isString)(t)&&(t=this.graph.findById(t));var e=this.nonMembers.indexOf(t);return e>-1&&(this.nonMembers.splice(e,1),this.updateData(this.members,this.nonMembers),!0)}},t.prototype.updateData=function(t,e){var r=this;this.group.findById(this.id).remove(),t&&(this.members=t.map((function(t){return(0,at.isString)(t)?r.graph.findById(t):t}))),e&&(this.nonMembers=e.map((function(t){return(0,at.isString)(t)?r.graph.findById(t):t}))),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.updateStyle=function(t){this.group.findById(this.id).attr((0,x.__assign)({},t))},t.prototype.updateCfg=function(t){var e=this;this.cfg=(0,at.deepMix)(this.cfg,t),this.id=this.cfg.id,this.group=this.cfg.group,t.members&&(this.members=this.cfg.members.map((function(t){return(0,at.isString)(t)?e.graph.findById(t):t}))),t.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map((function(t){return(0,at.isString)(t)?e.graph.findById(t):t}))),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},t.prototype.contain=function(t){var e,r,n=this,i=(e=(0,at.isString)(t)?this.graph.findById(t):t).getKeyShape();if("path"===e.get("type"))r=ve(i.attr("path"));else{var o=i.getCanvasBBox();r=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return r=r.map((function(t){var e=n.graph.getPointByCanvas(t[0],t[1]);return[e.x,e.y]})),$t(r,ve(this.path))},t.prototype.destroy=function(){this.group.remove(),this.cfg=null},t}();const vo=function(t){function e(e){var r=t.call(this)||this;return r.cfg=(0,at.deepMix)(r.getDefaultCfg(),e),r.init(),r.animating=!1,r.destroyed=!1,r.cfg.enabledStack&&(r.undoStack=new ro(r.cfg.maxStep),r.redoStack=new ro(r.cfg.maxStep)),r}return(0,x.__extends)(e,t),e.prototype.init=function(){this.initCanvas();var t=new Ge(this),e=new ze(this),r=new Le(this),n=new Hr(this),i=new qi(this),o=new Zi(this),a=new $i(this);this.set({eventController:t,viewController:e,modeController:r,itemController:n,layoutController:i,stateController:o,customGroupControll:a}),this.initPlugin()},e.prototype.initCanvas=function(){var t=this.get("container");if((0,at.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e,r=this.get("width"),n=this.get("height");if("svg"===this.get("renderer"))e=new Be.Z({container:t,width:r,height:n});else{var i={container:t,width:r,height:n},o=this.get("pixelRatio");o&&(i.pixelRatio=o),e=new De.Z(i)}this.set("canvas",e),this.initGroups()},e.prototype.initPlugin=function(){var t=this;(0,at.each)(t.get("plugins"),(function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)}))},e.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el").id,r=t.addGroup({id:e+"-root",className:q.rootContainerClassName});if(this.get("groupByTypes")){var n=r.addGroup({id:e+"-edge",className:q.edgeContainerClassName}),i=r.addGroup({id:e+"-node",className:q.nodeContainerClassName}),o=r.addGroup({id:e+"-combo",className:q.comboContainerClassName}),a=r.addGroup({id:e+"-group",className:q.customGroupContainerClassName});a.toBack(),o.toBack(),this.set({nodeGroup:i,edgeGroup:n,customGroup:a,comboGroup:o})}var s=r.addGroup({id:e+"-delegate",className:q.delegateContainerClassName});this.set({delegateGroup:s}),this.set("group",r)},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},e.prototype.set=function(t,e){return(0,at.isPlainObject)(t)?this.cfg=(0,x.__assign)((0,x.__assign)({},this.cfg),t):this.cfg[t]=e,this},e.prototype.get=function(t){return this.cfg[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,e){(0,at.isString)(t)&&(t=this.findById(t));var r=this.get("itemController");e||(e=t.get("states")),r.clearItemStates(t,e),this.get("stateController").updateStates(t,e,!1)},e.prototype.node=function(t){"function"==typeof t&&this.set("nodeMapper",t)},e.prototype.edge=function(t){"function"==typeof t&&this.set("edgeMapper",t)},e.prototype.combo=function(t){"function"==typeof t&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,e){var r,n=this.get(t+"s");return(0,at.each)(n,(function(t,n){if(e(t,n))return r=t})),r},e.prototype.findAll=function(t,e){var r=[];return(0,at.each)(this.get(t+"s"),(function(t,n){e(t,n)&&r.push(t)})),r},e.prototype.findAllByState=function(t,e){return this.findAll(t,(function(t){return t.hasState(e)}))},e.prototype.translate=function(t,e){var r=this.get("group"),n=(0,at.clone)(r.getMatrix());n||(n=[1,0,0,0,1,0,0,0,1]),je.wO.translate(n,n,[t,e]),r.setMatrix(n),this.emit("viewportchange",{action:"translate",matrix:r.getMatrix()}),this.autoPaint()},e.prototype.moveTo=function(t,e){var r=this.get("group");Vt(r,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:r.getMatrix()})},e.prototype.fitView=function(t){t&&this.set("fitViewPadding",t),this.get("viewController").fitView(),this.autoPaint()},e.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},e.prototype.addBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!0),this},e.prototype.removeBehaviors=function(t,e){return this.get("modeController").manipulateBehaviors(t,e,!1),this},e.prototype.zoom=function(t,e){var r=this.get("group"),n=(0,at.clone)(r.getMatrix()),i=this.get("minZoom"),o=this.get("maxZoom");n||(n=[1,0,0,0,1,0,0,0,1]),e?(je.wO.translate(n,n,[-e.x,-e.y]),je.wO.scale(n,n,[t,t]),je.wO.translate(n,n,[e.x,e.y])):je.wO.scale(n,n,[t,t]),i&&n[0]<i||o&&n[0]>o||(r.setMatrix(n),this.emit("viewportchange",{action:"zoom",matrix:n}),this.autoPaint())},e.prototype.zoomTo=function(t,e){var r=t/this.getZoom();this.zoom(r,e)},e.prototype.focusItem=function(t,e,r){var n=this.get("viewController"),i=!1;e?i=!0:void 0===e&&(i=this.get("animate"));var o={};r?o=r:void 0===r&&(o=this.get("animateCfg")),n.focus(t,i,o),this.autoPaint()},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,e){return this.get("viewController").getPointByClient(t,e)},e.prototype.getClientByPoint=function(t,e){return this.get("viewController").getClientByPoint(t,e)},e.prototype.getPointByCanvas=function(t,e){return this.get("viewController").getPointByCanvas(t,e)},e.prototype.getCanvasByPoint=function(t,e){return this.get("viewController").getCanvasByPoint(t,e)},e.prototype.showItem=function(t,e){void 0===e&&(e=!0);var r=this.get("itemController").changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var n=r.getID(),i={},o={};switch(r.getType()){case"node":i.nodes=[{id:n,visible:!1}],o.nodes=[{id:n,visible:!0}];break;case"edge":i.nodes=[{id:n,visible:!1}],o.edges=[{id:n,visible:!0}];break;case"combo":i.nodes=[{id:n,visible:!1}],o.combos=[{id:n,visible:!0}]}this.pushStack("visible",{before:i,after:o})}},e.prototype.hideItem=function(t,e){void 0===e&&(e=!0);var r=this.get("itemController").changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var n=r.getID(),i={},o={};switch(r.getType()){case"node":i.nodes=[{id:n,visible:!0}],o.nodes=[{id:n,visible:!1}];break;case"edge":i.nodes=[{id:n,visible:!0}],o.edges=[{id:n,visible:!1}];break;case"combo":i.nodes=[{id:n,visible:!0}],o.combos=[{id:n,visible:!1}]}this.pushStack("visible",{before:i,after:o})}},e.prototype.refreshItem=function(t){this.get("itemController").refreshItem(t)},e.prototype.setAutoPaint=function(t){this.set("autoPaint",t),this.get("canvas").set("autoDraw",t)},e.prototype.remove=function(t,e){void 0===e&&(e=!0),this.removeItem(t,e)},e.prototype.removeItem=function(t,e){void 0===e&&(e=!0);var r=t;if((0,at.isString)(t)&&(r=this.findById(t)),!r&&(0,at.isString)(t))console.warn("The item to be removed does not exist!"),this.get("customGroupControll").remove(t);else if(r){var n="";if(r.getType&&(n=r.getType()),e&&this.get("enabledStack")){var i=(0,x.__assign)((0,x.__assign)({},r.getModel()),{itemType:n}),o={};switch(n){case"node":o.nodes=[i],o.edges=[];for(var a=r.getEdges(),s=a.length-1;s>=0;s--)o.edges.push((0,x.__assign)((0,x.__assign)({},a[s].getModel()),{itemType:"edge"}));break;case"edge":o.edges=[i];break;case"combo":o.combos=[i]}this.pushStack("delete",{before:o,after:{}})}if(this.get("itemController").removeItem(t),"combo"===n){var u=cr(this.get("comboTrees"));this.set("comboTrees",u)}}},e.prototype.addItem=function(t,e,r,n){void 0===r&&(r=!0),void 0===n&&(n=!0);var i=this.get("comboSorted");this.set("comboSorted",i&&!n);var o=this.get("itemController");if("group"===t){var a=e.groupId,s=e.nodes,u=e.type,h=e.zIndex,c=e.title,l=c;return(0,at.isString)(c)&&(l={text:c}),this.get("customGroupControll").create(a,s,u,h,!0,l)}if(!e.id||!this.findById(e.id)){var f,d=this.get("comboTrees");if(d||(d=[]),"combo"===t){var p=this.get("itemMap"),g=!1;if(d.forEach((function(r){g||or(r,(function(r){if(e.parentId===r.id){g=!0;var n=(0,x.__assign)({id:e.id,depth:r.depth+2},e);r.children?r.children.push(n):r.children=[n],e.depth=n.depth,f=o.addItem(t,e)}var i=p[r.id];return g&&i&&i.getType&&"combo"===i.getType()&&o.updateCombo(i,r.children),!0}))})),!g){var v=(0,x.__assign)({id:e.id,depth:0},e);e.depth=v.depth,d.push(v),f=o.addItem(t,e)}this.set("comboTrees",d)}else if("node"===t&&(0,at.isString)(e.comboId)&&d){var y;if((y=this.findById(e.comboId))&&y.getType&&"combo"!==y.getType())return void console.warn("'"+e.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");f=o.addItem(t,e);var m=this.get("itemMap"),b=!1,w=!1;(d||[]).forEach((function(t){w||b||or(t,(function(t){if(t.id===e.id)return w=!0,!1;if(e.comboId===t.id&&!w){b=!0;var r=(0,at.clone)(e);r.itemType="node",t.children?t.children.push(r):t.children=[r],e.depth=t.depth+1}return b&&m[t.id].getType&&"combo"===m[t.id].getType()&&o.updateCombo(m[t.id],t.children),!0}))}))}else f=o.addItem(t,e);if("node"===t&&e.comboId||"combo"===t&&e.parentId)(y=this.findById(e.comboId||e.parentId))&&y.addChild(f);var M=this.get("combos");if(M&&M.length>0&&this.sortCombos(),this.autoPaint(),r&&this.get("enabledStack")){var S=(0,x.__assign)((0,x.__assign)({},f.getModel()),{itemType:t}),_={};switch(t){case"node":_.nodes=[S];break;case"edge":_.edges=[S];break;case"combo":_.combos=[S]}this.pushStack("add",{before:{},after:_})}return f}console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","")},e.prototype.add=function(t,e,r,n){return void 0===r&&(r=!0),void 0===n&&(n=!0),this.addItem(t,e,r,n)},e.prototype.updateItem=function(t,e,r){var n=this;void 0===r&&(r=!0);var i,o=this.get("itemController");i=(0,at.isString)(t)?this.findById(t):t;var a=(0,at.clone)(i.getModel()),s="";i.getType&&(s=i.getType());var u=(0,x.__spreadArrays)(i.getStates());if("combo"===s&&(0,at.each)(u,(function(t){return n.setItemState(i,t,!1)})),o.updateItem(i,e),"combo"===s&&(0,at.each)(u,(function(t){return n.setItemState(i,t,!0)})),r&&this.get("enabledStack")){var h={nodes:[],edges:[],combos:[]},c={nodes:[],edges:[],combos:[]},l=(0,x.__assign)({id:a.id},e);switch(s){case"node":h.nodes.push(a),c.nodes.push(l);break;case"edge":h.edges.push(a),c.edges.push(l);break;case"combo":h.combos.push(a),c.combos.push(l)}"node"===s&&h.nodes.push(a),this.pushStack("update",{before:h,after:c})}},e.prototype.update=function(t,e,r){void 0===r&&(r=!0),this.updateItem(t,e,r)},e.prototype.setItemState=function(t,e,r){(0,at.isString)(t)&&(t=this.findById(t)),this.get("itemController").setItemState(t,e,r);var n=this.get("stateController");(0,at.isString)(r)?n.updateState(t,e+":"+r,!0):n.updateState(t,e,r)},e.prototype.priorityState=function(t,e){this.get("itemController").priorityState(t,e)},e.prototype.data=function(t){this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var r=e.nodes,n=void 0===r?[]:r,i=e.edges,o=void 0===i?[]:i,a=e.combos,s=void 0===a?[]:a;if(this.clear(),this.emit("beforerender"),(0,at.each)(n,(function(e){t.add("node",e,!1,!1)})),s&&0!==s.length){var u=hr(s,n);this.set("comboTrees",u),t.addCombos(s)}(0,at.each)(o,(function(e){t.add("edge",e,!1,!1)}));var h=t.get("animate");function c(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",h)}((t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1),t.get("layoutController").layout(c)||c(),this.get("groupByTypes"))||(s&&0!==s.length?this.sortCombos():e.nodes&&e.edges&&e.nodes.length<e.edges.length?this.getNodes().forEach((function(t){t.toFront()})):this.getEdges().forEach((function(t){t.toBack()})));if(e.nodes&&e.nodes.filter((function(t){return t.groupId})).length>0){var l=t.get("groupType");this.renderCustomGroup(e,l)}this.get("enabledStack")&&this.pushStack("render")},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,e,r){var n,i=this,o=this.get("itemMap");(0,at.each)(r,(function(r){if(n=o[r.id]){if(i.get("animate")&&"node"===t){var a=n.getContainer().getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),n.set("originAttrs",{x:a[6],y:a[7]})}i.updateItem(n,r,!1)}else n=i.addItem(t,r,!1);e[t+"s"].push(n)}))},e.prototype.changeData=function(t,e){void 0===e&&(e=!0);var r=this;if(!t)return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:r.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map((function(t){return r.clearItemStates(t)})),this.getEdges().map((function(t){return r.clearItemStates(t)}));var n=this.get("canvas"),i=n.get("localRefresh");n.set("localRefresh",!1),r.get("data")||(r.data(t),r.render());var o=this.get("itemMap"),a={nodes:[],edges:[]},s=t.combos;if(s){var u=hr(s,t.nodes);this.set("comboTrees",u)}this.diffItems("node",a,t.nodes),(0,at.each)(o,(function(t,e){o[e].getModel().depth=0,t.getType&&"edge"===t.getType()||(t.getType&&"combo"===t.getType()?(delete o[e],t.destroy()):a.nodes.indexOf(t)<0&&(delete o[e],r.remove(t,!1)))}));for(var h=this.getCombos(),c=h.length-1;c>=0;c--)h[c].destroyed&&h.splice(c,1);s&&(r.addCombos(s),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",a,t.edges),(0,at.each)(o,(function(t,e){(!t.getType||"node"!==t.getType()&&"combo"!==t.getType())&&a.edges.indexOf(t)<0&&(delete o[e],r.remove(t,!1))})),this.set({nodes:a.nodes,edges:a.edges});var l=this.get("layoutController");return l.changeData(),r.get("animate")&&!l.getLayoutType()?r.positionsAnimate():r.autoPaint(),setTimeout((function(){n.set("localRefresh",i)}),16),this},e.prototype.addCombos=function(t){var e=this.get("comboTrees");this.get("itemController").addCombos(e,t)},e.prototype.createCombo=function(t,e){var r=this;this.set("comboSorted",!1);var n,i="";if(t){if((0,at.isString)(t))i=t,n={id:t};else{if(!(i=t.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");n=t}var o=e.map((function(t){var e=r.findById(t),n="";e.getType&&(n=e.getType());var o={id:e.getID(),itemType:n};return"combo"===n?o.parentId=i:"node"===n&&(o.comboId=i),o}));n.children=o,this.addItem("combo",n,!1),this.set("comboSorted",!1);var a=this.get("comboTrees");(a||[]).forEach((function(t){or(t,(function(t){return t.id!==i||(t.itemType="combo",t.children=o,!1)}))})),a&&this.sortCombos()}},e.prototype.uncombo=function(t){var e,r=this,n=t;if((0,at.isString)(t)&&(n=this.findById(t)),!n||n.getType&&"combo"!==n.getType())console.warn("The item is not a combo!");else{var i=n.getModel().parentId,o=this.get("comboTrees");o||(o=[]);var a,s=this.get("itemMap"),u=n.get("id"),h=[],c=this.get("combos"),l=this.findById(i);if(o.forEach((function(e){a||or(e,(function(e){var o;if(e.id===u){a=e,n.getEdges().forEach((function(t){r.removeItem(t,!1)}));var f=c.indexOf(t);c.splice(f,1),delete s[u],n.destroy()}return!i||!a||e.id!==i||(l.removeCombo(n),-1!==(f=(h=e.children).indexOf(a))&&h.splice(f,1),null===(o=a.children)||void 0===o||o.forEach((function(t){var e=r.findById(t.id),n=e.getModel();e.getType&&"combo"===e.getType()?(t.parentId=i,delete t.comboId,n.parentId=i,delete n.comboId):e.getType&&"node"===e.getType()&&(t.comboId=i,n.comboId=i),l.addChild(e),h.push(t)})),!1)}))})),!i&&a){var f=o.indexOf(a);o.splice(f,1),null===(e=a.children)||void 0===e||e.forEach((function(t){t.parentId=void 0,r.findById(t.id).getModel().parentId=void 0,"node"!==t.itemType&&o.push(t)}))}}},e.prototype.updateCombos=function(){var t=this,e=this,r=this.get("comboTrees"),n=e.get("itemController"),i=e.get("itemMap");(r||[]).forEach((function(e){or(e,(function(e){if(!e)return!0;var r=i[e.id];if(r&&r.getType&&"combo"===r.getType()){var o=(0,x.__spreadArrays)(r.getStates());(0,at.each)(o,(function(e){return t.setItemState(r,e,!1)})),n.updateCombo(r,e.children),(0,at.each)(o,(function(e){return t.setItemState(r,e,!0)}))}return!0}))})),e.sortCombos()},e.prototype.updateCombo=function(t){var e,r=this,n=t;if((0,at.isString)(t)&&(n=this.findById(t)),!n||n.getType&&"combo"!==n.getType())console.warn("The item to be updated is not a combo!");else{e=n.get("id");var i=this.get("comboTrees"),o=this.get("itemController"),a=this.get("itemMap");(i||[]).forEach((function(t){or(t,(function(t){if(!t)return!0;var n=a[t.id];if(e===t.id&&n&&n.getType&&"combo"===n.getType()){var i=(0,x.__spreadArrays)(n.getStates());(0,at.each)(i,(function(t){n.getStateStyle(t)&&r.setItemState(n,t,!1)})),o.updateCombo(n,t.children),(0,at.each)(i,(function(t){n.getStateStyle(t)&&r.setItemState(n,t,!0)})),e&&(e=t.parentId)}return!0}))}))}},e.prototype.updateComboTree=function(t,e){var r;this.set("comboSorted",!1);var n=(r=(0,at.isString)(t)?this.findById(t):t).getModel(),i=n.comboId||n.parentId;if(e&&r.getType&&"combo"===r.getType()){var o,a=this.get("comboTrees"),s=!0;if((a||[]).forEach((function(t){o||ir(t,(function(t){if(!o)return t.id===r.getID()&&(o=t),!0}))})),ir(o,(function(t){return t.id!==e||(s=!1,!1)})),!s)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(n.parentId||n.comboId){var u=this.findById(n.parentId||n.comboId);u&&u.removeChild(r)}var h,c="";(r.getType&&(c=r.getType()),"combo"===c?n.parentId=e:"node"===c&&(n.comboId=e),e)&&((h=this.findById(e))&&h.addChild(r));i&&((h=this.findById(i))&&h.removeChild(r));var l=cr(this.get("comboTrees"),n.id,e);this.set("comboTrees",l),this.updateCombos()},e.prototype.renderCustomGroup=function(t,e){var r=this,n=t.groups,i=t.nodes,o=void 0===i?[]:i,a=10;if(n){this.set({groups:n});var s=function(t){var e=(0,Re.default)(t.groups,"id"),r=(0,Re.default)(t.groups,"parentId"),n={};for(var i in r)if(i){var o=r[i],a=e[i];if(a&&o){var s=(0,x.__spreadArrays)(o,a);n[i]=s}else o&&(n[i]=o)}var u=(0,x.__assign)((0,x.__assign)({},e),n),h={};for(var c in u)c&&"undefined"!==c&&(o=u[c].map((function(t){return t.id})),h[c]=o);var l={},f=function(e){if(!e||"undefined"===e)return"continue";for(var r=h[e],n=[],i=0,o=r;i<o.length;i++){var a=o[i],s=u[a].map((function(t){return t.id}));n.push.apply(n,s)}var c=t.nodes?t.nodes.filter((function(t){return n.indexOf(t.groupId)>-1||n.indexOf(t.parentId)>-1})).map((function(t){return t.id})):[];l[e]=c};for(var c in h)f(c);return l}(t);Object.keys(s).forEach((function(t){var n=s[t];r.get("customGroupControll").create(t,n,e,a),a--})),this.get("customGroup").sort()}else{var u=o.filter((function(t){return t.groupId})),h=[],c=(0,at.groupBy)(u,"groupId");Object.keys(c).forEach((function(t){var n=c[t].map((function(t){return t.id}));r.get("customGroupControll").create(t,n,e,a),a--,h.find((function(e){return e.id===t}))||h.push({id:t})})),this.set({groups:h})}},e.prototype.save=function(){var t=[],e=[],r=[];return(0,at.each)(this.get("nodes"),(function(e){t.push(e.getModel())})),(0,at.each)(this.get("edges"),(function(t){e.push(t.getModel())})),(0,at.each)(this.get("combos"),(function(t){r.push(t.getModel())})),{nodes:t,edges:e,combos:r,groups:this.get("groups")}},e.prototype.changeSize=function(t,e){return this.get("viewController").changeSize(t,e),this},e.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),r=t.get("edges"),n=t.get("edges");(0,at.each)(e,(function(t){t.refresh()})),(0,at.each)(r,(function(t){t.refresh()})),(0,at.each)(n,(function(t){t.refresh()}))}t.emit("aftergraphrefresh"),t.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if((0,at.isString)(t)&&(t=this.findById(t)),t&&(!t.getType||"combo"===t.getType()))return t.getChildren();console.warn("The combo does not exist!")},e.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),r=e.onFrame,n=t.getNodes(),i=n.map((function(t){var e=t.getModel();return{id:e.id,x:e.x,y:e.y}}));t.isAnimating()&&t.stopAnimate(),t.get("canvas").animate((function(e){(0,at.each)(i,(function(n){var i=t.findById(n.id);if(i&&!i.destroyed){var o=i.get("originAttrs"),a=i.get("model");if(!o){var s=i.getContainer().getMatrix();s||(s=[1,0,0,0,1,0,0,0,1]),o={x:s[6],y:s[7]},i.set("originAttrs",o)}if(r){var u=r(i,e,n,o);i.set("model",Object.assign(a,u))}else a.x=o.x+(n.x-o.x)*e,a.y=o.y+(n.y-o.y)*e}})),t.refreshPositions()}),{duration:e.duration,easing:e.easing,callback:function(){(0,at.each)(n,(function(t){t.set("originAttrs",null)})),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},e.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e,r=t.get("nodes"),n=t.get("edges"),i=t.get("vedges"),o=t.get("combos"),a={};(0,at.each)(r,(function(t){e=t.getModel();var r=t.get("originAttrs");r&&e.x===r.x&&e.y===r.y||(t.updatePosition({x:e.x,y:e.y}),a[e.id]=!0,e.comboId&&(a[e.comboId]=!0))})),o&&0!==o.length&&t.updateCombos(),(0,at.each)(n,(function(t){var e=t.getSource().getModel(),r=t.getTarget().getModel();(a[e.id]||a[r.id]||t.getModel().isComboEdge)&&t.refresh()})),(0,at.each)(i,(function(t){t.refresh()})),t.emit("aftergraphrefreshposition"),t.autoPaint()},e.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},e.prototype.setMode=function(t){return this.get("modeController").setMode(t),this},e.prototype.clear=function(){return this.get("canvas").clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},e.prototype.toDataURL=function(t,e){var r=this.get("canvas"),n=r.getRenderer(),i=r.get("el");t||(t="image/png");var o="";if("svg"===n){var a=i.cloneNode(!0),s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s);u.replaceChild(a,u.documentElement);var h=(new XMLSerializer).serializeToString(u);o="data:image/svg+xml;charset=utf8,"+encodeURIComponent(h)}else{var c=void 0,l=i.getContext("2d"),f=this.get("width"),d=this.get("height"),p=void 0;if(e){var g=window.devicePixelRatio;c=l.getImageData(0,0,f*g,d*g),p=l.globalCompositeOperation,l.globalCompositeOperation="destination-over",l.fillStyle=e,l.fillRect(0,0,f,d)}o=i.toDataURL(t),e&&(l.clearRect(0,0,f,d),l.putImageData(c,0,0),l.globalCompositeOperation=p)}return o},e.prototype.toFullDataURL=function(t,e,r){var n=this.get("group").getCanvasBBox(),i=n.height,o=n.width,a=this.get("renderer"),s=(0,ft.Z)('<id="virtual-image"></div>'),u=r?r.backgroundColor:void 0,h=r?r.padding:void 0;h?(0,at.isNumber)(h)&&(h=[h,h,h,h]):h=[0,0,0,0];var c=i+h[0]+h[2],l=o+h[1]+h[3],f={container:s,height:c,width:l,quickHit:!0},d="svg"===a?new Be.Z(f):new De.Z(f),p=this.get("group").clone(),g=(0,at.clone)(p.getMatrix());g||(g=[1,0,0,0,1,0,0,0,1]);var v=(n.maxX+n.minX)/2,y=(n.maxY+n.minY)/2;je.wO.translate(g,g,[-v,-y]),je.wO.translate(g,g,[o/2+h[3],i/2+h[0]]),p.resetMatrix(),p.setMatrix(g),d.add(p);var m=d.get("el"),x="";e||(e="image/png"),setTimeout((function(){if("svg"===a){var r=m.cloneNode(!0),n=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),i=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",n);i.replaceChild(r,i.documentElement);var o=(new XMLSerializer).serializeToString(i);x="data:image/svg+xml;charset=utf8,"+encodeURIComponent(o)}else{var s=void 0,h=m.getContext("2d"),f=void 0;if(u){var d=window.devicePixelRatio;s=h.getImageData(0,0,l*d,c*d),f=h.globalCompositeOperation,h.globalCompositeOperation="destination-over",h.fillStyle=u,h.fillRect(0,0,l,c)}x=m.toDataURL(e),u&&(h.clearRect(0,0,l,c),h.putImageData(s,0,0),h.globalCompositeOperation=f)}null==t||t(x)}),16)},e.prototype.downloadFullImage=function(t,e,r){var n=this,i=this.get("group").getCanvasBBox(),o=i.height,a=i.width,s=this.get("renderer"),u=(0,ft.Z)('<id="virtual-image"></div>'),h=r?r.backgroundColor:void 0,c=r?r.padding:void 0;c?(0,at.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var l=o+c[0]+c[2],f=a+c[1]+c[3],d={container:u,height:l,width:f},p="svg"===s?new Be.Z(d):new De.Z(d),g=this.get("group").clone(),v=(0,at.clone)(g.getMatrix());v||(v=[1,0,0,0,1,0,0,0,1]);var y=(i.maxX+i.minX)/2,m=(i.maxY+i.minY)/2;je.wO.translate(v,v,[-y,-m]),je.wO.translate(v,v,[a/2+c[3],o/2+c[0]]),g.resetMatrix(),g.setMatrix(v),p.add(g);var x=p.get("el");e||(e="image/png"),setTimeout((function(){var r="";if("svg"===s){var i=x.cloneNode(!0),o=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),a=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",o);a.replaceChild(i,a.documentElement);var u=(new XMLSerializer).serializeToString(a);r="data:image/svg+xml;charset=utf8,"+encodeURIComponent(u)}else{var c=void 0,d=x.getContext("2d"),p=void 0;if(h){var g=window.devicePixelRatio;c=d.getImageData(0,0,f*g,l*g),p=d.globalCompositeOperation,d.globalCompositeOperation="destination-over",d.fillStyle=h,d.fillRect(0,0,f,l)}r=x.toDataURL(e),h&&(d.clearRect(0,0,f,l),d.putImageData(c,0,0),d.globalCompositeOperation=p)}var v=document.createElement("a"),y=(t||"graph")+("svg"===s?".svg":"."+e.split("/")[1]);n.dataURLToImage(r,s,v,y);var m=document.createEvent("MouseEvents");m.initEvent("click",!1,!1),v.dispatchEvent(m)}),16)},e.prototype.downloadImage=function(t,e,r){var n=this,i=this;i.isAnimating()&&i.stopAnimate();var o=i.get("canvas").getRenderer();e||(e="image/png");var a=(t||"graph")+("svg"===o?".svg":e.split("/")[1]),s=document.createElement("a");setTimeout((function(){var t=i.toDataURL(e,r);n.dataURLToImage(t,o,s,a);var u=document.createEvent("MouseEvents");u.initEvent("click",!1,!1),s.dispatchEvent(u)}),16)},e.prototype.dataURLToImage=function(t,e,r,n){if("undefined"!=typeof window)if(window.Blob&&window.URL&&"svg"!==e){var i=t.split(","),o="";if(i&&i.length>0){var a=i[0].match(/:(.*?);/);a&&a.length>=2&&(o=a[1])}for(var s=atob(i[1]),u=s.length,h=new Uint8Array(u);u--;)h[u]=s.charCodeAt(u);var c=new Blob([h],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(c,n):r.addEventListener("click",(function(){r.download=n,r.href=window.URL.createObjectURL(c)}))}else r.addEventListener("click",(function(){r.download=n,r.href=t}))},e.prototype.updateLayout=function(t){var e,r=this.get("layoutController");(0,at.isString)(t)?t={type:e=t}:e=t.type;var n=this.get("layout"),i=n?n.type:void 0;if(e&&i!==e)this.set("layout",t),r.changeLayout(e);else{var o={};Object.assign(o,n,t),o.type=i||"random",this.set("layout",o),r.updateLayoutCfg(o)}},e.prototype.destroyLayout=function(){this.get("layoutController").destroyLayout()},e.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");e&&(e.workerEnabled?t.layout():t.layoutMethod?t.relayout(!0):t.layout())},e.prototype.collapseCombo=function(t){var e=this;if((0,at.isString)(t)&&(t=this.findById(t)),t){var r=t.getModel();this.get("itemController").collapseCombo(t),r.collapsed=!0;var n=this.getEdges().concat(this.get("vedges")),i=[],o=[],a=this.get("comboTrees"),s=!1,u={};(a||[]).forEach((function(t){u[t.id]=t})),(a||[]).forEach((function(t){s||ir(t,(function(t){if(s&&u[t.id])return!1;if(r.parentId===t.id?(u={},t.children.forEach((function(t){u[t.id]=t}))):r.id===t.id&&(s=!0),s){var n=e.findById(t.id);n&&n.getType&&"combo"===n.getType()&&(i=i.concat(n.getNodes()),o=o.concat(n.getCombos()))}return!0}))}));var h={},c=[];n.forEach((function(t){if(!t.isVisible()||t.getModel().isVEdge){var n=t.getSource(),a=t.getTarget();if((i.includes(n)||o.includes(n))&&!i.includes(a)&&!o.includes(a)||n.getModel().id===r.id){if((f=t.getModel()).isVEdge)return void e.removeItem(t,!1);for(var s=a.getModel();!a.isVisible();){if(!(a=e.findById(s.parentId||s.comboId))||!s.parentId&&!s.comboId)return;s=a.getModel()}var u=s.id;if(h[r.id+"-"+u])return void(h[r.id+"-"+u]+=f.size||1);var l=e.addItem("vedge",{source:r.id,target:u,isVEdge:!0},!1);h[r.id+"-"+u]=f.size||1,c.push(l)}else if(!i.includes(n)&&!o.includes(n)&&(i.includes(a)||o.includes(a))||a.getModel().id===r.id){var f;if((f=t.getModel()).isVEdge)return void e.removeItem(t,!1);for(var d=n.getModel();!n.isVisible();){if(!(n=e.findById(d.parentId||d.comboId))||!d.parentId&&!d.comboId)return;d=n.getModel()}var p=d.id;if(h[p+"-"+r.id])return void(h[p+"-"+r.id]+=f.size||1);l=e.addItem("vedge",{target:r.id,source:p,isVEdge:!0},!1);h[p+"-"+r.id]=f.size||1,c.push(l)}}})),c.forEach((function(t){var r=t.getModel();e.updateItem(t,{size:h[r.source+"-"+r.target]},!1)}))}else console.warn("The combo to be collapsed does not exist!")},e.prototype.expandCombo=function(t){var e=this;if((0,at.isString)(t)&&(t=this.findById(t)),!t||t.getType&&"combo"!==t.getType())console.warn("The combo to be collapsed does not exist!");else{var r=t.getModel();this.get("itemController").expandCombo(t),r.collapsed=!1;var n=this.getEdges().concat(this.get("vedges")),i=[],o=[],a=this.get("comboTrees"),s=!1,u={};(a||[]).forEach((function(t){u[t.id]=t})),(a||[]).forEach((function(t){s||ir(t,(function(t){if(s&&u[t.id])return!1;if(r.parentId===t.id?(u={},t.children.forEach((function(t){u[t.id]=t}))):r.id===t.id&&(s=!0),s){var n=e.findById(t.id);n&&n.getType&&"combo"===n.getType()&&(i=i.concat(n.getNodes()),o=o.concat(n.getCombos()))}return!0}))}));var h={},c={};n.forEach((function(t){if(!t.isVisible()||t.getModel().isVEdge){var n=t.getSource(),a=t.getTarget(),s=n.get("id"),u=a.get("id");if((i.includes(n)||o.includes(n))&&!i.includes(a)&&!o.includes(a)||s===r.id){if(t.getModel().isVEdge)return void e.removeItem(t,!1);for(var l=a.getModel();!a.isVisible();){if(!(a=e.findById(l.comboId||l.parentId))||!l.parentId&&!l.comboId)return;l=a.getModel()}u=l.id;for(var f=n.getModel();!n.isVisible();){if(!(n=e.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;if(f.comboId===r.id||f.parentId===r.id)break;f=n.getModel()}if(s=f.id,u){if(h[p=s+"-"+u])return h[p]+=t.getModel().size||1,void e.updateItem(c[p],{size:h[p]},!1);var d=e.addItem("vedge",{source:s,target:u,isVEdge:!0},!1);h[p]=t.getModel().size||1,c[p]=d}}else if(!i.includes(n)&&!o.includes(n)&&(i.includes(a)||o.includes(a))||u===r.id){if(t.getModel().isVEdge)return void e.removeItem(t,!1);for(f=n.getModel();!n.isVisible();){if(!(n=e.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;f=n.getModel()}s=f.id;for(l=a.getModel();!a.isVisible();){if(!(a=e.findById(l.comboId||l.parentId))||!l.parentId&&!l.comboId)return;if(l.comboId===r.id||l.parentId===r.id)break;l=a.getModel()}if(u=l.id,s){var p;if(h[p=s+"-"+u])return h[p]+=t.getModel().size||1,void e.updateItem(c[p],{size:h[p]},!1);d=e.addItem("vedge",{target:u,source:s,isVEdge:!0},!1);h[p]=t.getModel().size||1,c[p]=d}}else(i.includes(n)||o.includes(n))&&(i.includes(a)||o.includes(a))&&n.isVisible()&&a.isVisible()&&t.show()}}))}},e.prototype.collapseExpandCombo=function(t){if((0,at.isString)(t)&&(t=this.findById(t)),!t.getType||"combo"===t.getType()){for(var e=t.getModel(),r=this.findById(e.parentId);r;){var n=r.getModel();if(n.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(r=void 0);r=this.findById(n.parentId)}e.collapsed?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},e.prototype.collapseGroup=function(t){this.get("customGroupControll").collapseGroup(t)},e.prototype.expandGroup=function(t){this.get("customGroupControll").expandGroup(t)},e.prototype.addPlugin=function(t){t.destroyed||(this.get("plugins").push(t),t.initPlugin(this))},e.prototype.removePlugin=function(t){var e=this.get("plugins"),r=e.indexOf(t);r>=0&&(t.destroyPlugin(),e.splice(r,1))},e.prototype.sortCombos=function(){var t=this;if(!this.get("comboSorted")){this.set("comboSorted",!0);var e=[],r={};(this.get("comboTrees")||[]).forEach((function(t){ir(t,(function(t){return e[t.depth]?e[t.depth].push(t.id):e[t.depth]=[t.id],r[t.id]=t.depth,!0}))})),(this.getEdges().concat(this.get("vedges"))||[]).forEach((function(t){var n=t.getModel(),i=r[n.source]||0,o=r[n.target]||0,a=Math.max(i,o);e[a]?e[a].push(n.id):e[a]=[n.id]})),e.forEach((function(e){if(e&&e.length)for(var r=e.length-1;r>=0;r--){var n=t.findById(e[r]);null==n||n.toFront()}}))}},e.prototype.getNeighbors=function(t,e){var r=t;return(0,at.isString)(t)&&(r=this.findById(t)),r.getNeighbors(e)},e.prototype.getNodeDegree=function(t,e){void 0===e&&(e=void 0);var r=t;(0,at.isString)(t)&&(r=this.findById(t));var n=this.get("degrees");n||(n=Qi(this)),this.set("degees",n);var i,o=n[r.getID()];switch(e){case"in":i=o.inDegree;break;case"out":i=o.outDegree;break;case"all":i=o;break;default:i=o.degree}return i},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},e.prototype.pushStack=function(t,e,r){if(void 0===t&&(t="update"),void 0===r&&(r="undo"),this.get("enabledStack")){var n=e?(0,at.clone)(e):{before:{},after:(0,at.clone)(this.save())};"redo"===r?this.redoStack.push({action:t,data:n}):this.undoStack.push({action:t,data:n}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("请先启用 undo & redo 功能，在实例化 Graph 时候配置 enabledStack: true !")},e.prototype.getAdjMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var r=this.get("adjMatrix");return r&&t||(r=no(this,e),this.set("adjMatrix",r)),r},e.prototype.getShortestPathMatrix=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=this.get("directed"));var r=this.get("adjMatrix"),n=this.get("shortestPathMatrix");return r&&t||(r=no(this,e),this.set("adjMatrix",r)),n&&t||(n=io(this,e),this.set("shortestPathMatrix",n)),n},e.prototype.destroy=function(){this.clear(),this.clearStack(),(0,at.each)(this.get("plugins"),(function(t){t.destroyPlugin()}));var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var r=t[e];if(r){var n=r.parentElement;n&&n.removeChild(r)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},e.prototype.createHull=function(t){var e=this.get("hullGroup"),r=this.get("hullMap");if(r||(r={},this.set("hullMap",r)),e||((e=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",e)),r[t.id])return console.warn("Existed hull id."),r[t.id];var n=e.addGroup({id:t.id+"-container"}),i=new go(this,(0,x.__assign)((0,x.__assign)({},t),{group:n}));return r[i.id]=i,i},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var e;e=(0,at.isString)(t)?this.getHullById(t):t,delete this.get("hullMap")[e.id],e.destroy()},e.prototype.setImageWaterMarker=function(t,e){void 0===t&&(t=q.waterMarkerImage);var r=this.get("container");(0,at.isString)(r)&&(r=document.getElementById(r)),r.style.position||(r.style.position="relative");var n=this.get("graphWaterMarker"),i=(0,at.deepMix)({},q.imageWaterMarkerConfig,e),o=i.width,a=i.height,s=i.compatible,u=i.image;if(!n){var h={container:r,width:o,height:a,capture:!1},c=this.get("pixelRatio");c&&(h.pixelRatio=c),n=new De.Z(h),this.set("graphWaterMarker",n)}n.get("el").style.display="none";var l=n.get("context"),f=u.rotate,d=u.x,p=u.y;l.rotate(-f*Math.PI/180);var g=new Image;g.crossOrigin="anonymous",g.src=t,g.onload=function(){if(l.drawImage(g,d,p,u.width,u.height),l.rotate(f*Math.PI/180),s)r.style.cssText="background-image: url("+n.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var t=document.querySelector(".g6-graph-watermarker");t||((t=document.createElement("div")).className="g6-graph-watermarker"),t.className="g6-graph-watermarker",n.destroyed||(t.style.cssText="background-image: url("+n.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",r.appendChild(t))}}},e.prototype.setTextWaterMarker=function(t,e){var r=this.get("container");(0,at.isString)(r)&&(r=document.getElementById(r)),r.style.position||(r.style.position="relative");var n=this.get("graphWaterMarker"),i=(0,at.deepMix)({},q.textWaterMarkerConfig,e),o=i.width,a=i.height,s=i.compatible,u=i.text;if(!n){var h={container:r,width:o,height:a,capture:!1},c=this.get("pixelRatio");c&&(h.pixelRatio=c),n=new De.Z(h),this.set("graphWaterMarker",n)}n.get("el").style.display="none";var l=n.get("context"),f=u.rotate,d=u.fill,p=u.fontFamily,g=u.fontSize,v=u.baseline,y=u.x,m=u.y,x=u.lineHeight;l.rotate(-f*Math.PI/180),l.font=g+"px "+p,l.fillStyle=d,l.textBaseline=v;for(var b=t.length-1;b>=0;b--)l.fillText(t[b],y,m+b*x);if(l.rotate(f*Math.PI/180),s)r.style.cssText="background-image: url("+n.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var w=document.querySelector(".g6-graph-watermarker");w||((w=document.createElement("div")).className="g6-graph-watermarker"),w.style.cssText="background-image: url("+n.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",r.appendChild(w)}},e}(Ne.Z);var yo=r(19165),mo=r.n(yo);const xo=function(t){function e(e){var r=t.call(this,e)||this;return r.layoutAnimating=!1,r.set("removeList",[]),r.set("layoutMethod",r.getLayout()),r}return(0,x.__extends)(e,t),e.prototype.getLayout=function(){var t=this.get("layout");return t?"function"==typeof t?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var r=mo()[t.type](e,t);return ar(r),r}:function(e){return mo()[t.type](e,t)}):null},e.indexOfChild=function(t,e){var r=-1;return(0,l.S6)(t,(function(t,n){if(e===t.id)return r=n,!1})),r},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.animate=!0,e},e.prototype.innerAddChild=function(t,e,r){var n=this,i=t.data;i&&(i.x=t.x,i.y=t.y,i.depth=t.depth);var o=n.addItem("node",i,!1);if(e){if(o.set("parent",e),r){var a=e.get("originAttrs");if(a)o.set("originAttrs",a);else{var s=e.getModel();o.set("originAttrs",{x:s.x,y:s.y})}}var u=e.get("children");u?u.push(o):e.set("children",[o]),n.addItem("edge",{source:e,target:o,id:e.get("id")+":"+o.get("id")},!1)}return(0,l.S6)(t.children||[],(function(t){n.innerAddChild(t,o,r)})),n.emit("afteraddchild",{item:o,parent:e}),o},e.prototype.innerUpdateChild=function(t,r,n){var i=this,o=i.findById(t.id);if(o){(0,l.S6)(t.children||[],(function(t){i.innerUpdateChild(t,o,n)}));var a,s,u=o.get("children");if(u)if(u.length>0)for(var h=u.length-1;h>=0;h--){var c=u[h].getModel();-1===e.indexOfChild(t.children||[],c.id)&&(i.innerRemoveChild(c.id,{x:t.x,y:t.y},n),u.splice(h,1))}o.get("originAttrs")&&(a=o.get("originAttrs").x,s=o.get("originAttrs").y);var f=o.getModel();n&&o.set("originAttrs",{x:f.x,y:f.y}),o.set("model",t.data),a===t.x&&s===t.y||o.updatePosition({x:t.x,y:t.y})}else i.innerAddChild(t,r,n)},e.prototype.innerRemoveChild=function(t,e,r){var n=this,i=n.findById(t);if(i)if((0,l.S6)(i.get("children"),(function(t){n.innerRemoveChild(t.getModel().id,e,r)})),r){var o=i.getModel();i.set("to",e),i.set("originAttrs",{x:o.x,y:o.y}),n.get("removeList").push(i)}else n.removeItem(i)},e.prototype.changeData=function(t){var e=this;this.getNodes().map((function(t){return e.clearItemStates(t)})),this.getEdges().map((function(t){return e.clearItemStates(t)})),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},e.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");this.updateLayout(t)},e.prototype.updateLayout=function(t){var e=this;t?(e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()):console.warn("layout cannot be null")},e.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");this.layout(t)},e.prototype.layout=function(t){var e=this,r=e.get("data"),n=e.get("layoutMethod")(r,e.get("layout")),i=e.get("animate");(e.emit("beforerefreshlayout",{data:r,layoutData:n}),e.emit("beforelayout"),e.innerUpdateChild(n,void 0,i),t)&&e.get("viewController").fitView();i?e.layoutAnimate(n):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:r,layoutData:n}),e.emit("afterlayout")},e.prototype.addChild=function(t,e){var r=this;r.emit("beforeaddchild",{model:t,parent:e}),(0,l.HD)(e)||(e=e.get("id"));var n=r.findDataById(e);n&&(n.children||(n.children=[]),n.children.push(t),r.changeData())},e.prototype.updateChild=function(t,r){var n=this;if(r&&n.findById(r)){var i=n.findById(r).getModel(),o=n.findById(t.id);if(i.children||(i.children=[]),o){var a=e.indexOfChild(i.children,t.id);i.children[a]=t}else i.children.push(t);n.changeData()}else n.changeData(t)},e.prototype.removeChild=function(t){var r=this,n=r.findById(t);if(n){var i=n.get("parent");if(i&&!i.destroyed){var o=r.findDataById(i.get("id")),a=o&&o.children||[],s=n.getModel(),u=e.indexOfChild(a,s.id);a.splice(u,1)}r.changeData()}},e.prototype.findDataById=function(t,e){var r=this;if(e||(e=r.get("data")),t===e.id)return e;var n=null;return(0,l.S6)(e.children||[],(function(e){return e.id===t?(n=e,!1):!(n=r.findDataById(t,e))&&void 0})),n},e.prototype.layoutAnimate=function(t,e){var r=this,n=this.get("animateCfg");r.emit("beforeanimate",{data:t}),r.getEdges().forEach((function(t){var e=t.get("model");e.sourceAnchor||(e.sourceAnchor=t.get("sourceAnchorIndex"))})),this.get("canvas").animate((function(n){ir(t,(function(i){var o=r.findById(i.id);if(o){var a=o.get("originAttrs"),s=o.get("model");if(a||(a={x:s.x,y:s.y},o.set("originAttrs",a)),e){var u=e(o,n,a,t);o.set("model",Object.assign(s,u))}else s.x=a.x+(i.x-a.x)*n,s.y=a.y+(i.y-a.y)*n}return!0})),(0,l.S6)(r.get("removeList"),(function(t){var e=t.getModel(),r=t.get("originAttrs"),i=t.get("to");e.x=r.x+(i.x-r.x)*n,e.y=r.y+(i.y-r.y)*n})),r.refreshPositions()}),{duration:n.duration,easing:n.ease,callback:function(){(0,l.S6)(r.getNodes(),(function(t){t.set("originAttrs",null)})),(0,l.S6)(r.get("removeList"),(function(t){r.removeItem(t)})),r.set("removeList",[]),n.callback&&n.callback(),r.emit("afteranimate",{data:t})},delay:n.delay})},e.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(){var t=this;if(!t.get("data"))throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},e.prototype.save=function(){return this.get("data")},e}(vo);var bo="-label",wo=["startArrow","endArrow"],Mo="-label-bg",So={options:{},itemType:"",type:"",getCustomConfig:function(t){return{}},getOptions:function(t){return(0,at.deepMix)({labelCfg:{style:{fontFamily:"undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:"undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(t)||{},t)},draw:function(t,e){var r=this.drawShape(t,e);(r.set("className",this.itemType+"-shape"),t.label)&&this.drawLabel(t,e).set("className",this.itemType+bo);return r},afterDraw:function(t,e,r){},drawShape:function(t,e){return null},drawLabel:function(t,e){var r=this.getOptions(t).labelCfg||{},n=this.getLabelStyle(t,r,e),i=n.rotate;delete n.rotate;var o=e.addShape("text",{attrs:n,draggable:!0,className:"text-shape",name:"text-shape"});if(i){var a=o.getBBox(),s=o.getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),n.rotateCenter)switch(n.rotateCenter){case"center":s=ht(s,[["t",-a.width/2,-a.height/2],["r",i],["t",a.width/2,a.height/2]]);break;case"lefttop":s=ht(s,[["t",-n.x,-n.y],["r",i],["t",n.x,n.y]]);break;case"leftcenter":s=ht(s,[["t",-n.x,-n.y-a.height/2],["r",i],["t",n.x,n.y+a.height/2]]);break;default:s=ht(s,[["t",-a.width/2,-a.height/2],["r",i],["t",a.width/2,a.height/2]])}else s=ht(s,[["t",-n.x,-n.y-a.height/2],["r",i],["t",n.x,n.y+a.height/2]]);o.setMatrix(s)}if(n.background){var u=this.drawLabelBg(t,e,o),h=this.itemType+Mo;u.set("classname",h),o.toFront()}return o},drawLabelBg:function(t,e,r){var n=this.options.labelCfg,i=(0,at.mix)({},n,t.labelCfg),o=this.getLabelBgStyleByPosition(r,t,i,e);return e.addShape("rect",{name:"text-bg-shape",attrs:o})},getLabelStyleByPosition:function(t,e,r){return{text:t.label}},getLabelBgStyleByPosition:function(t,e,r,n){return{}},getLabelStyle:function(t,e,r){var n=this.getLabelStyleByPosition(t,e,r),i=this.itemType+"Label",o=q[i]?q[i].style:null;return(0,x.__assign)((0,x.__assign)((0,x.__assign)({},o),n),e.style)},getShapeStyle:function(t){return t.style},update:function(t,e){this.updateShapeStyle(t,e),this.updateLabel(t,e)},updateShapeStyle:function(t,e){var r=e.getContainer(),n=e.getKeyShape(),i=(0,at.mix)({},n.attr(),t.style),o=function(t){var e,o=i[t];if((0,at.isPlainObject)(o)){var a=r.find((function(e){return e.get("name")===t}));a&&a.attr(o)}else n.attr(((e={})[t]=o,e))};for(var a in i)o(a)},updateLabel:function(t,e){var r=e.getContainer(),n=this.getOptions({}).labelCfg,i=this.itemType+bo,o=r.find((function(t){return t.get("className")===i})),a=this.itemType+Mo,s=r.find((function(t){return t.get("classname")===a}));if(t.label||""===t.label)if(o){var u={};e.getModel&&(u=e.getModel().labelCfg);var h=(0,at.deepMix)({},n,u,t.labelCfg),c=this.getLabelStyleByPosition(t,h,r),l=t.labelCfg?t.labelCfg.style:void 0,f=h.style&&h.style.background,d=(0,x.__assign)((0,x.__assign)((0,x.__assign)({},o.attr()),c),l),p=d.rotate;if(delete d.rotate,p){var g=[1,0,0,0,1,0,0,0,1];g=ht(g,[["t",-d.x,-d.y],["r",p],["t",d.x,d.y]]),o.resetMatrix(),o.attr((0,x.__assign)((0,x.__assign)({},d),{matrix:g}))}else o.resetMatrix(),o.attr(d);if(s)if(d.background){var v=this.getLabelBgStyleByPosition(o,t,h,r),y=(0,x.__assign)((0,x.__assign)({},v),f);s.resetMatrix(),p&&s.rotateAtStart(p),s.attr(y)}else r.removeChild(s);else d.background&&((s=this.drawLabelBg(t,r,o)).set("classname",a),o.toFront())}else{this.drawLabel(t,r).set("className",i)}},afterUpdate:function(t,e){},setState:function(t,e,r){var n,i,o=r.get("keyShape");if(o){var a=r.getType(),s=(0,at.isBoolean)(e)?t:t+":"+e,u=this.getStateStyle(s,r),h=r.getStateStyle(s);if(h||u){var c=(0,at.mix)({},h||u),l=r.getContainer();if(e){var f=function(t){var e,r=c[t];if((0,at.isPlainObject)(r)&&!wo.includes(t)){var n=l.find((function(e){return e.get("name")===t}));n&&n.attr(r)}else o.attr(((e={})[t]=r,e))};for(var d in c)f(d)}else{var p=(0,at.clone)(r.getCurrentStatesStyle()),g=r.getModel(),v=(0,at.mix)({},g.style,(0,at.clone)(r.getOriginStyle())),y=o.get("name"),m=o.attr(),x={},b=function(t){var e=c[t];if((0,at.isPlainObject)(e)&&!wo.includes(t)){var r=l.find((function(e){return e.get("name")===t}));if(r){var n=r.attr();(0,at.each)(e,(function(t,e){(n[e]||0===n[e])&&delete n[e]})),x[t]=n}}else{m[t]&&!{x:1,y:1,cx:1,cy:1}[t]&&delete m[t]}};for(var w in c)b(w);for(var d in y?x[y]=m:(0,at.mix)(x,m),p){var M=p[d];(0,at.isPlainObject)(M)&&!wo.includes(d)||(y?((0,at.mix)(v[y],((i={})[d]=M,i)),delete v[d]):(0,at.mix)(v,((n={})[d]=M,n)),delete p[d])}var S={};(0,at.deepMix)(S,v,x,p);var _=function(t){var e,r,n=S[t];if((0,at.isPlainObject)(n)&&!wo.includes(t)){var i=l.find((function(e){return e.get("name")===t}));i&&i.attr(n)}else"combo"===a?y||o.attr(((e={})[t]=n,e)):o.attr(((r={})[t]=n,r))};for(var k in S)_(k)}}}},getStateStyle:function(t,e){var r=e.getModel(),n=e.getType(),i=this.getOptions(r),o=i.stateStyles,a=i.style,s=void 0===a?{}:a,u=r.stateStyles?r.stateStyles[t]:o&&o[t];return"combo"===n?(0,at.clone)(u):(0,at.mix)({},s,u)},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){return this.getOptions(t).anchorPoints}},_o={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:q.nodeLabel.offset,getSize:function(t){var e=t.size||this.getOptions({}).size||q.defaultNode.size;return(0,at.isArray)(e)&&1===e.length&&(e=[e[0],e[0]]),(0,at.isArray)(e)||(e=[e,e]),e},getLabelStyleByPosition:function(t,e){var r=e.position||this.labelPosition;if("center"===r)return{x:0,y:0,text:t.label};var n=e.offset;(0,at.isNil)(n)&&(n=this.offset);var i,o=this.getSize(t),a=o[0],s=o[1];switch(r){case"top":i={x:0,y:0-s/2-n,textBaseline:"bottom"};break;case"bottom":i={x:0,y:s/2+n,textBaseline:"top"};break;case"left":i={x:0-a/2-n,y:0,textAlign:"right"};break;default:i={x:a/2+n,y:0,textAlign:"left"}}return i.text=t.label,i},getLabelBgStyleByPosition:function(t,e,r,n){if(!t)return{};var i=t.getBBox(),o=r.style&&r.style.background;if(!o)return{};var a,s=w(o.padding),u=i.width+s[1]+s[3],h=i.height+s[0]+s[2],c=r.offset;return(0,at.isNil)(c)&&(c=this.offset),a={x:i.minX-s[3],y:i.minY-s[0]},a=(0,x.__assign)((0,x.__assign)((0,x.__assign)({},a),o),{width:u,height:h})},drawShape:function(t,e){var r=this.shapeType,n=this.getShapeStyle(t);return e.addShape(r,{attrs:n,draggable:!0,name:"node-shape"})},updateLinkPoints:function(t,e){var r,n=this.getOptions(t).linkPoints,i=e.find((function(t){return"link-point-left"===t.get("className")})),o=e.find((function(t){return"link-point-right"===t.get("className")})),a=e.find((function(t){return"link-point-top"===t.get("className")})),s=e.find((function(t){return"link-point-bottom"===t.get("className")}));i&&(r=i.attr()),o&&!r&&(r=o.attr()),a&&!r&&(r=a.attr()),s&&!r&&(r=s.attr()),r||(r=n);var u=(0,at.mix)({},r,t.linkPoints),h=u.fill,c=u.stroke,l=u.lineWidth,f=u.size/2;f||(f=u.r);var d=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},p=d.left,g=d.right,v=d.top,y=d.bottom,m=this.getSize(t),b=m[0],w=m[1],M={r:f,fill:h,stroke:c,lineWidth:l};i?p||void 0===p?i.attr((0,x.__assign)((0,x.__assign)({},M),{x:-b/2,y:0})):i.remove():p&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},M),{x:-b/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),o?(g||void 0===g||o.remove(),o.attr((0,x.__assign)((0,x.__assign)({},M),{x:b/2,y:0}))):g&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},M),{x:b/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a?(v||void 0===v||a.remove(),a.attr((0,x.__assign)((0,x.__assign)({},M),{x:0,y:-w/2}))):v&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},M),{x:0,y:-w/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s?y||void 0===y?s.attr((0,x.__assign)((0,x.__assign)({},M),{x:0,y:w/2})):s.remove():y&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},M),{x:0,y:w/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(t,e,r,n){e.get("keyShape").attr((0,x.__assign)({},r)),this.updateLabel(t,e),n&&this.updateIcon(t,e)},updateIcon:function(t,e){var r=this,n=e.getContainer(),i=this.getOptions(t).icon,o=(t.icon?t.icon:{show:void 0}).show,a=n.find((function(t){return t.get("className")===r.type+"-icon"}));if(a)if(o||void 0===o){var s=(0,at.mix)({},a.attr(),i),u=s.width,h=s.height;a.attr((0,x.__assign)((0,x.__assign)({},s),{x:-u/2,y:-h/2}))}else a.remove();else if(o){u=i.width,h=i.height;n.addShape("image",{attrs:(0,x.__assign)((0,x.__assign)({},i),{x:-u/2,y:-h/2}),className:this.type+"-icon",name:this.type+"-icon"});var c=n.find((function(t){return"node-label"===t.get("className")}));c&&c.toFront()}}},ko=(0,x.__assign)((0,x.__assign)({},So),_o);_r.registerNode("single-node",ko);var Eo="edge-shape";var Co={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:q.defaultEdge.size,style:{x:0,y:0,stroke:q.defaultEdge.style.stroke,lineAppendWidth:q.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:q.edgeLabel.style.fill,fontSize:q.edgeLabel.style.fontSize}},stateStyles:(0,x.__assign)({},q.edgeStateStyles)},getPath:function(t){var e=[];return(0,at.each)(t,(function(t,r){0===r?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},getShapeStyle:function(t){var e=this.options.style,r={stroke:t.color},n=(0,at.mix)({},e,r,t.style),i=t.size||q.defaultEdge.size,o=(t=this.getPathPoints(t)).startPoint,a=t.endPoint,s=this.getControlPoints(t),u=[o];s&&(u=u.concat(s)),u.push(a);var h=this.getPath(u);return(0,at.mix)({},q.defaultEdge.style,{stroke:q.defaultEdge.color,lineWidth:i,path:h},n)},updateShapeStyle:function(t,e){var r=e.getContainer(),n={stroke:t.color},i=r.find((function(t){return"edge-shape"===t.get("className")}))||e.getKeyShape(),o=t.size,a=(t=this.getPathPoints(t)).startPoint,s=t.endPoint,u=this.getControlPoints(t),h=[a];u&&(h=h.concat(u)),h.push(s);var c=(0,at.mix)({},n,i.attr(),t.style),l=t.sourceNode,f=t.targetNode,d={radius:c.radius};u||(d={source:l,target:f,offset:c.offset,radius:c.radius});var p=this.getPath(h,d),g=(0,at.mix)(n,i.attr(),{lineWidth:o,path:p},t.style);i&&i.attr(g)},getLabelStyleByPosition:function(t,e,r){var n,i=e.position||this.labelPosition,o={},a=r&&r.find((function(t){return t.get("className")===Eo}));n="start"===i?0:"end"===i?1:.5;var s=e.refX||this.refX,u=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return o.x=t.startPoint.x+s,o.y=t.startPoint.y+u,o.text=t.label,o;var h=(0,at.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate,c=er(a,n,s,u,h);return o.x=c.x,o.y=c.y,o.rotate=c.rotate,o.textAlign=this._getTextAlign(i,c.angle),o.text=t.label,o},getLabelBgStyleByPosition:function(t,e,r,n){if(!t)return{};var i=t.getBBox(),o=r.style&&r.style.background;if(!o)return{};var a,s=o.padding,u=i.width+s[1]+s[3],h=i.height+s[0]+s[2],c=r.position||this.labelPosition,l=(0,x.__assign)((0,x.__assign)({},o),{width:u,height:h,x:i.minX-s[2],y:i.minY-s[0],rotate:0}),f=(0,at.isNil)(r.autoRotate)?this.labelAutoRotate:r.autoRotate,d=n&&n.find((function(t){return t.get("className")===Eo}));a="start"===c?0:"end"===c?1:.5;var p=r.refX||this.refX,g=r.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return l.x=e.startPoint.x+p,l.y=e.startPoint.y+g,l;var v=er(d,a,p-u/2,g+h/2,f),y=v.angle;return y>.5*Math.PI&&y<1.5*Math.PI&&(v=er(d,a,p+u/2,g+h/2,f)),f&&(l.x=v.x,l.y=v.y),l.rotate=v.rotate,l},_getTextAlign:function(t,e){var r="center";return e?(e%=2*Math.PI,"center"!==t&&(r=e>=0&&e<=Math.PI/2||e>=1.5*Math.PI&&e<2*Math.PI?t:function(t){var e=t;return"start"===t?e="end":"end"===t&&(e="start"),e}(t)),r):t},getControlPoints:function(t){return t.controlPoints},getPathPoints:function(t){return t},drawShape:function(t,e){var r=this.getShapeStyle(t);return e.addShape("path",{className:Eo,name:Eo,attrs:r})},drawLabel:function(t,e){var r=this.options.labelCfg,n=(0,at.deepMix)({fontFamily:"undefined"!=typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},r,t.labelCfg),i=this.getLabelStyle(t,n,e),o=i.rotate;delete i.rotate;var a=e.addShape("text",{attrs:i,name:"text-shape"});if(o&&a.rotateAtStart(o),i.background){var s=this.drawLabelBg(t,e,a),u=this.itemType+Mo;s.set("classname",u),a.toFront()}return a},drawLabelBg:function(t,e,r){var n=this.options.labelCfg,i=(0,at.deepMix)({},n,t.labelCfg),o=this.getLabelStyle(t,i,e).rotate,a=this.getLabelBgStyleByPosition(r,t,i,e);delete a.rotate;var s=e.addShape("rect",{name:"text-bg-shape",attrs:a});return o&&s.rotateAtStart(o),s}},Po=(0,x.__assign)((0,x.__assign)({},So),Co);_r.registerEdge("single-edge",Po),_r.registerEdge("line",{getControlPoints:function(){}},"single-edge"),_r.registerEdge("spline",{getPath:function(t){return de(t)}},"single-edge"),_r.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(t){var e,r,n=t.startPoint,i=t.endPoint,o=(n.x+i.x)/2,a=(n.y+i.y)/2;if(void 0!==t.controlPoints){if(r=t.controlPoints[0],e=Lt(n,r,i),n.x<=i.x&&n.y>i.y?this.clockwise=e.x>r.x?0:1:n.x<=i.x&&n.y<i.y?this.clockwise=e.x>r.x?1:0:n.x>i.x&&n.y<=i.y?this.clockwise=e.y<r.y?0:1:this.clockwise=e.y<r.y?1:0,(r.x-n.x)/(r.y-n.y)==(i.x-n.x)/(i.y-n.y))return[]}else{void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),(0,g.default)(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),t.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:i.x-n.x,y:i.y-n.y},u=Math.atan2(s.y,s.x);r={x:t.curveOffset*Math.cos(-Math.PI/2+u)+o,y:t.curveOffset*Math.sin(-Math.PI/2+u)+a},e=Lt(n,r,i)}var h=zt(n,e);return[{x:h,y:h}]},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),2===t.length?e.push(["L",t[1].x,t[1].y]):e.push(["A",t[1].x,t[1].y,0,0,this.clockwise,t[2].x,t[2].y]),e}},"single-edge"),_r.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(t){var e=t.controlPoints;if(!e||!e.length){var r=t.startPoint,n=t.endPoint;void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),(0,g.default)(this.curveOffset)&&(t.curveOffset=t.curveOffset[0]),(0,g.default)(this.curvePosition)&&(t.curvePosition=t.curveOffset[0]),e=[pe(r,n,t.curvePosition,t.curveOffset)]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["Q",t[1].x,t[1].y,t[2].x,t[2].y]),e}},"single-edge"),_r.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(t){var e=t.controlPoints;if(void 0===t.curveOffset&&(t.curveOffset=this.curveOffset),void 0===t.curvePosition&&(t.curvePosition=this.curvePosition),(0,y.default)(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),(0,y.default)(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]),!e||!e.length||e.length<2){var r=t.startPoint,n=t.endPoint;e=[pe(r,n,t.curvePosition[0],t.curveOffset[0]),pe(r,n,t.curvePosition[1],t.curveOffset[1])]}return e},getPath:function(t){var e=[];return e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),e}},"single-edge"),_r.registerEdge("cubic-vertical",{curvePosition:[.5,.5],getControlPoints:function(t){var e=t.startPoint,r=t.endPoint;return void 0!==t.curvePosition&&(this.curvePosition=t.curvePosition),(0,y.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:e.x,y:(r.y-e.y)*this.curvePosition[0]+e.y},{x:r.x,y:(r.y-e.y)*this.curvePosition[1]+e.y}]}},"cubic"),_r.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],getControlPoints:function(t){var e=t.startPoint,r=t.endPoint;return void 0!==t.curvePosition&&(this.curvePosition=t.curvePosition),(0,y.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:(r.x-e.x)*this.curvePosition[0]+e.x,y:e.y},{x:(r.x-e.x)*this.curvePosition[1]+e.x,y:r.y}]}},"cubic"),_r.registerEdge("loop",{getPathPoints:function(t){return tr(t)},getControlPoints:function(t){return t.controlPoints},afterDraw:function(t){t.controlPoints=void 0},afterUpdate:function(t){t.controlPoints=void 0}},"cubic");var Ao={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:q.comboLabel.refX,refY:q.comboLabel.refY,options:{style:{stroke:q.defaultCombo.style.stroke,fill:q.defaultCombo.style.fill,lineWidth:q.defaultCombo.style.lineWidth},labelCfg:{style:{fill:q.comboLabel.style.fill,fontSize:q.comboLabel.style.fontSize}},stateStyles:(0,x.__assign)({},q.comboStateStyles)},getSize:function(t){var e=(0,at.clone)(t.size||this.options.size||q.defaultCombo.size);return(0,at.isArray)(e)&&1===e.length&&(e=[e[0],e[0]]),(0,at.isArray)(e)||(e=[e,e]),e},getLabelStyleByPosition:function(t,e){var r=e.position||this.labelPosition,n=t.style,i=t.padding||this.options.padding;(0,at.isArray)(i)&&(i=i[0]);var o=e.refX,a=e.refY;(0,at.isNil)(o)&&(o=this.refX),(0,at.isNil)(a)&&(a=this.refY);var s,u=this.getSize(t),h=(Math.max(n.r,u[0]/2)||u[0]/2)+i;switch(r){case"top":s={x:0,y:-h-a,textBaseline:"bottom",textAlign:"center"};break;case"bottom":s={x:0,y:h+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:-h+o,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:t.label,textAlign:"center"};break;default:s={x:h+o,y:0,textAlign:"right"}}return s.text=t.label,s},drawShape:function(t,e){var r=this.shapeType,n=this.getShapeStyle(t);return e.addShape(r,{attrs:n,draggable:!0,name:"combo-shape"})},updateShape:function(t,e,r){var n=e.get("keyShape");(void 0===t.animate?this.options.animate:t.animate)&&n.animate?n.animate(r,{duration:200,easing:"easeLinear"}):n.attr((0,x.__assign)({},r)),this.updateLabel(t,e)}},Io=(0,x.__assign)((0,x.__assign)({},So),Ao);function Oo(t){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}_r.registerCombo("single-combo",Io),_r.registerCombo("circle",{options:{size:[q.defaultCombo.size[0],q.defaultCombo.size[0]],padding:q.defaultCombo.padding[0],animate:!0,style:{stroke:q.defaultCombo.style.stroke,fill:q.defaultCombo.style.fill,lineWidth:q.defaultCombo.style.lineWidth},labelCfg:{style:{fill:q.comboLabel.style.fill,fontSize:q.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,x.__assign)({},q.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(t,e){var r=this.getShapeStyle(t);return delete r.height,delete r.width,e.addShape("circle",{attrs:r,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(t){var e=this.options.style,r=t.padding||this.options.padding;(0,at.isArray)(r)&&(r=r[0]);var n,i={stroke:t.color},o=(0,at.mix)({},e,i,t.style),a=this.getSize(t);n=!(0,at.isNumber)(o.r)||isNaN(o.r)?a[0]/2||q.defaultCombo.style.r:Math.max(o.r,a[0]/2)||a[0]/2,o.r=n+r;var s=(0,x.__assign)({x:0,y:0},o);return t.style?t.style.r=n:t.style={r:n},s},update:function(t,e){var r=this.getSize(t),n=t.padding||this.options.padding;(0,at.isArray)(n)&&(n=n[0]);var i=(0,at.clone)(t.style),o=Math.max(i.r,r[0]/2)||r[0]/2;i.r=o+n;var a=e.get("sizeCache");a&&(a.r=i.r);var s={stroke:t.color},u=e.get("keyShape"),h=(0,at.mix)({},u.attr(),s,i);t.style?t.style.r=o:t.style={r:o},this.updateShape(t,e,h,!0)}},"single-combo"),_r.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:q.defaultCombo.style.stroke,fill:q.defaultCombo.style.fill,lineWidth:q.defaultCombo.style.lineWidth},labelCfg:{style:{fill:q.comboLabel.style.fill,fontSize:q.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,x.__assign)({},q.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(t,e){var r=this.getShapeStyle(t);return e.addShape("rect",{attrs:r,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(t,e){var r=e.position||this.labelPosition,n=t.style,i=t.padding||this.options.padding;(0,at.isNumber)(i)&&(i=[i,i,i,i]);var o=e.refX,a=e.refY;(0,at.isNil)(o)&&(o=this.refX),(0,at.isNil)(a)&&(a=this.refY);var s,u=n.width/2+i[3],h=n.height/2+i[0];switch(r){case"top":s={x:0-u+o,y:0-h+a,textBaseline:"top",textAlign:"left"};break;case"bottom":s={x:0,y:h+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:0-u+a,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:t.label,textAlign:"center"};break;default:s={x:u+o,y:0,textAlign:"right"}}return s.text=t.label,s},getShapeStyle:function(t){var e=this.options.style,r=t.padding||this.options.padding;(0,at.isNumber)(r)&&(r=[r,r,r,r]);var n,i,o={stroke:t.color},a=(0,at.mix)({},e,o,t.style),s=this.getSize(t);n=!(0,at.isNumber)(a.width)||isNaN(a.width)?s[0]||q.defaultCombo.style.width:Math.max(a.width,s[0])||s[0],i=!(0,at.isNumber)(a.height)||isNaN(a.height)?s[1]||q.defaultCombo.style.height:Math.max(a.height,s[1])||s[1];var u=-n/2-r[3],h=-i/2-r[0];a.width=n+r[1]+r[3],a.height=i+r[0]+r[2];var c=(0,x.__assign)({x:u,y:h},a);return t.style?(t.style.width=n,t.style.height=i):t.style={width:n,height:i},c},update:function(t,e){var r=this.getSize(t),n=t.padding||this.options.padding;(0,at.isNumber)(n)&&(n=[n,n,n,n]);var i=(0,at.clone)(t.style),o=Math.max(i.width,r[0])||r[0],a=Math.max(i.height,r[1])||r[1];i.width=o+n[1]+n[3],i.height=a+n[0]+n[2];var s=e.get("sizeCache");s&&(s.width=i.width,s.height=i.height),i.x=-o/2-n[3],i.y=-a/2-n[0];var u={stroke:t.color},h=e.get("keyShape"),c=(0,at.mix)({},h.attr(),u,i);t.style?(t.style.width=o,t.style.height=a):t.style={width:o,height:a},this.updateShape(t,e,c,!1)},updateShape:function(t,e,r){var n=e.get("keyShape");(void 0===t.animate?this.options.animate:t.animate)&&n.animate?n.animate(r,{duration:200,easing:"easeLinear"}):n.attr((0,x.__assign)({},r)),this.updateLabel(t,e)}},"single-combo"),_r.registerNode("circle",{options:{size:q.defaultNode.size,style:{x:0,y:0,stroke:q.defaultNode.style.stroke,fill:q.defaultNode.style.fill,lineWidth:q.defaultNode.style.lineWidth},labelCfg:{style:{fill:q.nodeLabel.style.fill,fontSize:q.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:q.defaultNode.linkPoints.size,lineWidth:q.defaultNode.linkPoints.lineWidth,fill:q.defaultNode.linkPoints.fill,stroke:q.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,x.__assign)({},q.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,e){var r=this.getOptions(t).icon,n=void 0===r?{}:r,i=this.getShapeStyle(t),o=(0,vt.default)({},n,t.icon),a=e.addShape("circle",{attrs:i,className:this.type+"-keyShape",draggable:!0}),s=o.width,u=o.height;return o.show&&e.addShape("image",{attrs:(0,x.__assign)({x:-s/2,y:-u/2},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(t,e),a},drawLinkPoints:function(t,e){var r=this.getOptions(t).linkPoints,n=void 0===r?{}:r,i=n.top,o=n.left,a=n.right,s=n.bottom,u=n.size,h=n.r,c=(0,x.__rest)(n,["top","left","right","bottom","size","r"]),l=this.getSize(t)[0]/2;o&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:-l,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:l,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),i&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:0,y:-l,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:0,y:l,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(t){var e=this.getOptions(t).style,r={stroke:t.color},n=(0,vt.default)({},e,r),i=this.getSize(t)[0]/2;return(0,x.__assign)({x:0,y:0,r:i},n)},update:function(t,e){var r=e.getContainer(),n=this.getSize(t),i={stroke:t.color,r:n[0]/2},o=e.get("keyShape"),a=(0,vt.default)({},o.attr(),i,t.style);this.updateShape(t,e,a,!0),this.updateLinkPoints(t,r)}},"single-node"),_r.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:q.defaultNode.style.stroke,fill:q.defaultNode.style.fill,lineWidth:q.defaultNode.style.lineWidth},labelCfg:{style:{fill:q.nodeLabel.style.fill,fontSize:q.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:q.defaultNode.linkPoints.size,lineWidth:q.defaultNode.linkPoints.lineWidth,fill:q.defaultNode.linkPoints.fill,stroke:q.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,x.__assign)({},q.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(t,e){var r=this.getShapeStyle(t),n=e.addShape("rect",{attrs:r,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(t,e),n},drawLinkPoints:function(t,e){var r=this.getOptions(t).linkPoints,n=void 0===r?{}:r,i=n.top,o=n.left,a=n.right,s=n.bottom,u=n.size,h=n.r,c=(0,x.__rest)(n,["top","left","right","bottom","size","r"]),l=this.getSize(t),f=l[0],d=l[1];o&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:-f/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:f/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),i&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:0,y:-d/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:0,y:d/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(t){var e=this.getOptions(t).style,r={stroke:t.color},n=(0,at.mix)({},e,r),i=this.getSize(t),o=n.width||i[0],a=n.height||i[1];return(0,x.__assign)({x:-o/2,y:-a/2,width:o,height:a},n)},update:function(t,e){var r=e.getContainer(),n=this.getOptions({}).style,i=this.getSize(t),o=e.get("keyShape");t.size||(i[0]=o.attr("width")||n.width,i[1]=o.attr("height")||n.height);var a={stroke:t.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},s=(0,at.mix)({},n,o.attr(),a);s=(0,at.mix)(s,t.style),this.updateShape(t,e,s,!1),this.updateLinkPoints(t,r)}},"single-node"),_r.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:q.defaultNode.style.stroke,fill:q.defaultNode.style.fill,lineWidth:q.defaultNode.style.lineWidth},labelCfg:{style:{fill:q.nodeLabel.style.fill,fontSize:q.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:q.defaultNode.linkPoints.size,lineWidth:q.defaultNode.linkPoints.lineWidth,fill:q.defaultNode.linkPoints.fill,stroke:q.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,x.__assign)({},q.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(t,e){var r=this.getOptions(t).icon,n=void 0===r?{}:r,i=this.getShapeStyle(t),o=e.addShape("ellipse",{attrs:i,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),a=n.width,s=n.height;if(n.show)e.addShape("image",{attrs:(0,x.__assign)({x:-a/2,y:-s/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var r=this.getOptions(t).linkPoints,n=void 0===r?{}:r,i=n.top,o=n.left,a=n.right,s=n.bottom,u=n.size,h=n.r,c=(0,x.__rest)(n,["top","left","right","bottom","size","r"]),l=this.getSize(t),f=l[0]/2,d=l[1]/2;o&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:-f,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:f,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),i&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:0,y:-d,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:0,y:d,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(t){var e=this.getOptions(t).style,r={stroke:t.color},n=(0,at.mix)({},e,r),i=this.getSize(t),o=i[0]/2,a=i[1]/2;return(0,x.__assign)({x:0,y:0,rx:o,ry:a},n)},update:function(t,e){var r=e.getContainer(),n=this.getOptions({}).style,i=this.getSize(t),o={stroke:t.color,rx:i[0]/2,ry:i[1]/2},a=e.get("keyShape"),s=(0,at.mix)({},n,a.attr(),o);s=(0,at.mix)(s,t.style),this.updateShape(t,e,s,!0),this.updateLinkPoints(t,r)}},"single-node"),_r.registerNode("diamond",{options:{size:[80,80],style:{stroke:q.defaultNode.style.stroke,fill:q.defaultNode.style.fill,lineWidth:q.defaultNode.style.lineWidth},labelCfg:{style:{fill:q.nodeLabel.style.fill,fontSize:q.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:q.defaultNode.linkPoints.size,lineWidth:q.defaultNode.linkPoints.lineWidth,fill:q.defaultNode.linkPoints.fill,stroke:q.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,x.__assign)({},q.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(t,e){var r=this.getOptions(t).icon,n=void 0===r?{}:r,i=this.getShapeStyle(t),o=e.addShape("path",{attrs:i,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),a=n.width,s=n.height;if(n.show)e.addShape("image",{attrs:(0,x.__assign)({x:-a/2,y:-s/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var r=this.getOptions(t).linkPoints,n=void 0===r?{}:r,i=n.top,o=n.left,a=n.right,s=n.bottom,u=n.size,h=n.r,c=(0,x.__rest)(n,["top","left","right","bottom","size","r"]),l=this.getSize(t),f=l[0],d=l[1];o&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:-f/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:f/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),i&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:0,y:-d/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:0,y:d/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(t){var e=this.getSize(t),r=e[0],n=e[1];return[["M",0,-n/2],["L",r/2,0],["L",0,n/2],["L",-r/2,0],["Z"]]},getShapeStyle:function(t){var e=this.getOptions(t).style,r={stroke:t.color},n=(0,at.mix)({},e,r),i=this.getPath(t);return(0,x.__assign)({path:i},n)},update:function(t,e){var r=e.getContainer(),n=this.getOptions({}).style,i=this.getPath(t),o={stroke:t.color,path:i},a=e.get("keyShape"),s=(0,at.mix)({},n,a.attr(),o);s=(0,at.mix)(s,t.style),this.updateShape(t,e,s,!0),this.updateLinkPoints(t,r)}},"single-node"),_r.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:q.defaultNode.style.stroke,fill:q.defaultNode.style.fill,lineWidth:q.defaultNode.style.lineWidth},labelCfg:{style:{fill:q.nodeLabel.style.fill,fontSize:q.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:q.defaultNode.linkPoints.size,lineWidth:q.defaultNode.linkPoints.lineWidth,fill:q.defaultNode.linkPoints.fill,stroke:q.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,x.__assign)({},q.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(t,e){var r=this.getOptions(t),n=r.icon,i=void 0===n?{}:n,o=r.direction,a=this.getShapeStyle(t),s=t.direction||o,u=e.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=i.width,c=i.height,l=i.show,f=i.offset;if(l){var d=-h/2,p=-c/2;"up"!==s&&"down"!==s||(p+=f),"left"!==s&&"right"!==s||(d+=f),e.addShape("image",{attrs:(0,x.__assign)({x:d,y:p},i),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(t,e),u},drawLinkPoints:function(t,e){var r=this.getOptions(t),n=r.linkPoints,i=void 0===n?{}:n,o=r.direction,a=t.direction||o,s=i.top,u=i.left,h=i.right,c=i.bottom,l=i.size,f=i.r,d=(0,x.__rest)(i,["top","left","right","bottom","size","r"]),p=this.getSize(t)[0];if(u){var g=null,v=p*Math.sin(1/3*Math.PI),y=p*Math.sin(1/3*Math.PI);"up"===a?g=[-y,v]:"down"===a?g=[-y,-v]:"left"===a&&(g=[-y,y-v]),g&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},d),{x:g[0],y:g[1],r:l/2||f||5}),className:"link-point-left",name:"link-point-left"})}if(h){var m=null;v=p*Math.sin(1/3*Math.PI),y=p*Math.sin(1/3*Math.PI);"up"===a?m=[y,v]:"down"===a?m=[y,-v]:"right"===a&&(m=[y,y-v]),m&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},d),{x:m[0],y:m[1],r:l/2||f||5}),className:"link-point-right",name:"link-point-right"})}if(s){var b=null;v=p*Math.sin(1/3*Math.PI),y=p*Math.sin(1/3*Math.PI);"up"===a?b=[y-v,-v]:"left"===a?b=[y,-v]:"right"===a&&(b=[-y,-v]),b&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},d),{x:b[0],y:b[1],r:l/2||f||5}),className:"link-point-top",name:"link-point-top"})}if(c){var w=null;v=p*Math.sin(1/3*Math.PI),y=p*Math.sin(1/3*Math.PI);"down"===a?w=[-y+v,v]:"left"===a?w=[y,v]:"right"===a&&(w=[-y,v]),w&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},d),{x:w[0],y:w[1],r:l/2||f||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(t){var e=this.getOptions(t).direction,r=t.direction||e,n=this.getSize(t)[0],i=n*Math.sin(1/3*Math.PI),o=n*Math.sin(1/3*Math.PI),a=[["M",-o,i],["L",0,-i],["L",o,i],["Z"]];return"down"===r?a=[["M",-o,-i],["L",o,-i],["L",0,i],["Z"]]:"left"===r?a=[["M",-o,o-i],["L",o,-o],["L",o,o],["Z"]]:"right"===r&&(a=[["M",o,o-i],["L",-o,o],["L",-o,-o],["Z"]]),a},getShapeStyle:function(t){var e=this.getOptions(t).style,r={stroke:t.color},n=(0,at.mix)({},e,r),i=this.getPath(t);return(0,x.__assign)({path:i},n)},update:function(t,e){var r=e.getContainer(),n=this.getOptions({}).style,i=this.getPath(t),o={stroke:t.color,path:i},a=e.get("keyShape"),s=(0,at.mix)({},n,a.attr(),o);s=(0,at.mix)(s,t.style),this.updateShape(t,e,s,!0),this.updateLinkPoints(t,r)},updateLinkPoints:function(t,e){var r=this.getOptions({}),n=r.linkPoints,i=r.direction,o=t.direction||i,a=e.find((function(t){return"link-point-left"===t.get("className")})),s=e.find((function(t){return"link-point-right"===t.get("className")})),u=e.find((function(t){return"link-point-top"===t.get("className")})),h=e.find((function(t){return"link-point-bottom"===t.get("className")})),c=n,l=a||s||u||h;l&&(c=l.attr());var f=(0,at.mix)({},c,t.linkPoints),d=f.fill,p=f.stroke,g=f.lineWidth,v=f.size/2;v||(v=f.r);var y=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},m=y.left,b=y.right,w=y.top,M=y.bottom,S=this.getSize(t)[0],_={r:v,fill:d,stroke:p,lineWidth:g},k=null,E=S*Math.sin(1/3*Math.PI),C=S*Math.sin(1/3*Math.PI);"up"===o?k=[-C,E]:"down"===o?k=[-C,-E]:"left"===o&&(k=[-C,C-E]),k&&(a?m||void 0===m?a.attr((0,x.__assign)((0,x.__assign)({},_),{x:k[0],y:k[1]})):a.remove():m&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},_),{x:k[0],y:k[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var P=null;"up"===o?P=[C,E]:"down"===o?P=[C,-E]:"right"===o&&(P=[C,C-E]),P&&(s?b||void 0===b?s.attr((0,x.__assign)((0,x.__assign)({},_),{x:P[0],y:P[1]})):s.remove():b&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},_),{x:P[0],y:P[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var A=null;"up"===o?A=[C-E,-E]:"left"===o?A=[C,-E]:"right"===o&&(A=[-C,-E]),A&&(u?w||void 0===w?u.attr((0,x.__assign)((0,x.__assign)({},_),{x:A[0],y:A[1]})):u.remove():w&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},_),{x:A[0],y:A[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var I=null;"down"===o?I=[-C+E,E]:"left"===o?I=[C,E]:"right"===o&&(I=[-C,E]),I&&(h?M||void 0===M?h.attr((0,x.__assign)((0,x.__assign)({},_),{x:I[0],y:I[1]})):h.remove():M&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},_),{x:I[0],y:I[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),_r.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:q.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(t,e){var r=this.getOptions(t).preRect,n=void 0===r?{}:r,i=this.getShapeStyle(t),o=this.getSize(t),a=o[0],s=o[1],u=e.addShape("rect",{attrs:i,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=n.show,c=(0,x.__rest)(n,["show"]);return h&&e.addShape("rect",{attrs:(0,x.__assign)({x:-a/2,y:-s/2,height:s},c),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(t,e),this.drawStateIcon(t,e),this.drawLinkPoints(t,e),u},drawLogoIcon:function(t,e){var r=this.getOptions(t).logoIcon,n=void 0===r?{}:r,i=this.getSize(t)[0];if(n.show){var o=n.width,a=n.height,s=n.x,u=n.y,h=n.offset,c=(0,x.__rest)(n,["width","height","x","y","offset"]);e.addShape("image",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:s||-i/2+o+h,y:u||-a/2,width:o,height:a}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(t,e){var r=this.getOptions(t).stateIcon,n=void 0===r?{}:r,i=this.getSize(t)[0];if(n.show){var o=n.width,a=n.height,s=n.x,u=n.y,h=n.offset,c=(0,x.__rest)(n,["width","height","x","y","offset"]);e.addShape("image",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:s||i/2-o+h,y:u||-a/2,width:o,height:a}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(t,e){var r=this.getOptions(t).linkPoints,n=void 0===r?{}:r,i=n.top,o=n.left,a=n.right,s=n.bottom,u=n.size,h=n.r,c=(0,x.__rest)(n,["top","left","right","bottom","size","r"]),l=this.getSize(t),f=l[0],d=l[1];o&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:-f/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:f/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),i&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:0,y:-d/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},c),{x:0,y:d/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(t,e){var r=this.getOptions(t),n=r.labelCfg,i=void 0===n?{}:n,o=r.logoIcon,a=void 0===o?{}:o,s=r.descriptionCfg,u=void 0===s?{}:s,h=this.getSize(t)[0],c=null,l=a.show,f=a.width,d=-h/2+i.offset;l&&(d=-h/2+f+i.offset);var p=i.style,g=u.style,v=u.paddingTop;return(0,at.isString)(t.description)?(c=e.addShape("text",{attrs:(0,x.__assign)((0,x.__assign)({},p),{x:d,y:-5,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0}),e.addShape("text",{attrs:(0,x.__assign)((0,x.__assign)({},g),{x:d,y:17+(v||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0})):c=e.addShape("text",{attrs:(0,x.__assign)((0,x.__assign)({},p),{x:d,y:7,text:t.label}),draggable:!0}),c},getShapeStyle:function(t){var e=this.getOptions(t).style,r={stroke:t.color},n=(0,at.mix)({},e,r),i=this.getSize(t),o=n.width||i[0],a=n.height||i[1];return(0,x.__assign)({x:-o/2,y:-a/2,width:o,height:a},n)},update:function(t,e){var r=this.getOptions(t),n=r.style,i=void 0===n?{}:n,o=r.labelCfg,a=void 0===o?{}:o,s=r.descriptionCfg,u=void 0===s?{}:s,h=this.getSize(t),c=h[0],l=h[1];e.get("keyShape").attr((0,x.__assign)((0,x.__assign)({},i),{x:-c/2,y:-l/2,width:c,height:l}));var f=e.getContainer(),d=f.find((function(t){return"rect-logo-icon"===t.get("className")})),p=d?d.attr():{},g=(0,at.mix)({},p,t.logoIcon),v=g.width;void 0===v&&(v=this.options.logoIcon.width);var y=t.logoIcon?t.logoIcon.show:void 0,m=a.offset,b=-c/2+v+m;y||void 0===y||(b=-c/2+m);var w=f.find((function(t){return"node-label"===t.get("className")})),M=f.find((function(t){return"rect-description"===t.get("className")}));if(t.label)if(w){var S=t.labelCfg?t.labelCfg.style:{},_=(0,at.mix)({},w.attr(),S);t.label&&(_.text=t.label),_.x=b,(0,at.isString)(t.description)&&(_.y=-5),M&&(M.resetMatrix(),M.attr({x:b})),w.resetMatrix(),w.attr(_)}else f.addShape("text",{attrs:(0,x.__assign)((0,x.__assign)({},a.style),{x:b,y:t.description?-5:7,text:t.label}),className:"node-label",name:"node-label",draggable:!0});if((0,at.isString)(t.description)){var k=u.paddingTop;if(M){S=t.descriptionCfg?t.descriptionCfg.style:{};var E=(0,at.mix)({},M.attr(),S);(0,at.isString)(t.description)&&(E.text=t.description),E.x=b,M.resetMatrix(),M.attr((0,x.__assign)((0,x.__assign)({},E),{y:17+(k||0)}))}else f.addShape("text",{attrs:(0,x.__assign)((0,x.__assign)({},u.style),{x:b,y:17+(k||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0})}var C=f.find((function(t){return"pre-rect"===t.get("className")}));if(C){var P=(0,at.mix)({},C.attr(),t.preRect);C.attr((0,x.__assign)((0,x.__assign)({},P),{x:-c/2,y:-l/2,height:l}))}if(d)if(y||void 0===y){var A=g.width,I=g.height,O=g.x,T=g.y,N=g.offset,D=(0,x.__rest)(g,["width","height","x","y","offset"]);d.attr((0,x.__assign)((0,x.__assign)({},D),{x:O||-c/2+A+N,y:T||-I/2,width:A,height:I}))}else d.remove();else y&&this.drawLogoIcon(t,f);var B=f.find((function(t){return"rect-state-icon"===t.get("className")})),j=B?B.attr():{},R=(0,at.mix)({},j,t.stateIcon);if(B){R.show||void 0===R.show||B.remove();var L=R.width,z=(I=R.height,O=R.x,T=R.y,R.offset),F=(0,x.__rest)(R,["width","height","x","y","offset"]);B.attr((0,x.__assign)((0,x.__assign)({},F),{x:O||c/2-L+z,y:T||-I/2,width:L,height:I}))}else R.show&&this.drawStateIcon(t,f);this.updateLinkPoints(t,f)}},"single-node"),_r.registerNode("star",{options:{size:60,style:{stroke:q.defaultNode.style.stroke,fill:q.defaultNode.style.fill,lineWidth:q.defaultNode.style.lineWidth},labelCfg:{style:{fill:q.nodeLabel.style.fill,fontSize:q.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:q.defaultNode.linkPoints.size,lineWidth:q.defaultNode.linkPoints.lineWidth,fill:q.defaultNode.linkPoints.fill,stroke:q.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,x.__assign)({},q.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(t,e){var r=this.getOptions(t).icon,n=void 0===r?{}:r,i=this.getShapeStyle(t),o=e.addShape("path",{attrs:i,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),a=n.width,s=n.height;if(n.show)e.addShape("image",{attrs:(0,x.__assign)({x:-a/2,y:-s/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(t,e),o},drawLinkPoints:function(t,e){var r=this.getOptions(t).linkPoints,n=void 0===r?{}:r,i=n.top,o=n.left,a=n.right,s=n.leftBottom,u=n.rightBottom,h=n.size,c=n.r,l=(0,x.__rest)(n,["top","left","right","leftBottom","rightBottom","size","r"]),f=this.getSize(t)[0];if(a){var d=Math.cos(.1*Math.PI)*f,p=Math.sin(.1*Math.PI)*f;e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},l),{x:d,y:-p,r:h/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(i){d=Math.cos(.5*Math.PI)*f,p=Math.sin(.5*Math.PI)*f;e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},l),{x:d,y:-p,r:h/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){d=Math.cos(.9*Math.PI)*f,p=Math.sin(.9*Math.PI)*f;e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},l),{x:d,y:-p,r:h/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(s){d=Math.cos(1.3*Math.PI)*f,p=Math.sin(1.3*Math.PI)*f;e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},l),{x:d,y:-p,r:h/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){d=Math.cos(1.7*Math.PI)*f,p=Math.sin(1.7*Math.PI)*f;e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},l),{x:d,y:-p,r:h/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(t){for(var e=this.getSize(t)[0],r=3*e/8,n=t.innerR||r,i=[],o=0;o<5;o++){var a=Math.cos((18+72*o)/180*Math.PI)*e,s=Math.sin((18+72*o)/180*Math.PI)*e,u=Math.cos((54+72*o)/180*Math.PI)*n,h=Math.sin((54+72*o)/180*Math.PI)*n;0===o?i.push(["M",a,-s]):i.push(["L",a,-s]),i.push(["L",u,-h])}return i.push(["Z"]),i},getShapeStyle:function(t){var e=this.getOptions(t).style,r={stroke:t.color},n=(0,at.mix)({},e,r),i=this.getPath(t);return(0,x.__assign)({path:i},n)},update:function(t,e){var r=e.getContainer(),n=this.getOptions({}).style,i=this.getPath(t),o={stroke:t.color,path:i},a=e.get("keyShape"),s=(0,at.mix)({},n,a.attr(),o);s=(0,at.mix)(s,t.style),this.updateShape(t,e,s,!0),this.updateLinkPoints(t,r)},updateLinkPoints:function(t,e){var r=this.getOptions({}).linkPoints,n=e.find((function(t){return"link-point-left"===t.get("className")})),i=e.find((function(t){return"link-point-right"===t.get("className")})),o=e.find((function(t){return"link-point-top"===t.get("className")})),a=e.find((function(t){return"link-point-left-bottom"===t.get("className")})),s=e.find((function(t){return"link-point-right-bottom"===t.get("className")})),u=r,h=n||i||o||a||s;h&&(u=h.attr());var c=(0,at.mix)({},u,t.linkPoints),l=c.fill,f=c.stroke,d=c.lineWidth,p=c.size/2;p||(p=c.r);var g=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},v=g.left,y=g.right,m=g.top,b=g.leftBottom,w=g.rightBottom,M=this.getSize(t)[0],S={r:p,fill:l,stroke:f,lineWidth:d},_=Math.cos(.1*Math.PI)*M,k=Math.sin(.1*Math.PI)*M;i?y||void 0===y?i.attr((0,x.__assign)((0,x.__assign)({},S),{x:_,y:-k})):i.remove():y&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},S),{x:_,y:-k}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),_=Math.cos(.5*Math.PI)*M,k=Math.sin(.5*Math.PI)*M,o?m||void 0===m?o.attr((0,x.__assign)((0,x.__assign)({},S),{x:_,y:-k})):o.remove():m&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},S),{x:_,y:-k}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),_=Math.cos(.9*Math.PI)*M,k=Math.sin(.9*Math.PI)*M,n?v||void 0===v?n.attr((0,x.__assign)((0,x.__assign)({},S),{x:_,y:-k})):n.remove():v&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},S),{x:_,y:-k}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),_=Math.cos(1.3*Math.PI)*M,k=Math.sin(1.3*Math.PI)*M,a?b||void 0===b?a.attr((0,x.__assign)((0,x.__assign)({},S),{x:_,y:-k})):a.remove():b&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},S),{x:_,y:-k}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),_=Math.cos(1.7*Math.PI)*M,k=Math.sin(1.7*Math.PI)*M,s?w||void 0===w?s.attr((0,x.__assign)((0,x.__assign)({},S),{x:_,y:-k})):a.remove():w&&e.addShape("circle",{attrs:(0,x.__assign)((0,x.__assign)({},S),{x:_,y:-k}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),_r.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(t,e){var r=this.shapeType,n=this.getShapeStyle(t);delete n.fill;var i=e.addShape(r,{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(t,i),i},drawClip:function(t,e){var r=this.getOptions(t).clipCfg;if(r.show){var n=r.type,i=r.x,o=r.y,a=r.style;if("circle"===n){var s=r.r;e.setClip({type:"circle",attrs:(0,x.__assign)({r:s,x:i,y:o},a)})}else if("rect"===n){var u=r.width,h=r.height,c=i-u/2,l=o-h/2;e.setClip({type:"rect",attrs:(0,x.__assign)({x:c,y:l,width:u,height:h},a)})}else if("ellipse"===n){var f=r.rx,d=r.ry;e.setClip({type:"ellipse",attrs:(0,x.__assign)({x:i,y:o,rx:f,ry:d},a)})}else if("polygon"===n){var p=r.points;e.setClip({type:"polygon",attrs:(0,x.__assign)({points:p},a)})}else if("path"===n){var g=r.path;e.setClip({type:"path",attrs:(0,x.__assign)({path:g},a)})}}},getShapeStyle:function(t){var e=this.getOptions(t).style,r=this.getSize(t),n=this.getOptions(t).img,i=r[0],o=r[1];return e&&(i=e.width||r[0],o=e.height||r[1]),(0,x.__assign)({x:-i/2,y:-o/2,width:i,height:o,img:n},e)},updateShapeStyle:function(t,e){var r=e.getContainer(),n=this.itemType+"-shape",i=r.find((function(t){return t.get("className")===n}))||e.getKeyShape(),o=this.getShapeStyle(t);i&&i.attr(o)}},"single-node");var To=function(t){var e=t.x,r=t.y;return{x:e,y:r,centerX:e,centerY:r,minX:e,minY:r,maxX:e,maxY:r,height:0,width:0}},No=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},Do=function(t){var e=[],r={};return t.forEach((function(t){var e=t.x+"-"+t.y;t.id=e,r[e]=t})),(0,at.each)(r,(function(t){e.push(t)})),e},Bo=function(t){return t=Do(t)},jo=function(t,e){return[t,{x:t.x,y:e.y},e]},Ro=function(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Lo=function(t,e){return function(t,e){var r=Math.abs(t.x-e.centerX),n=Math.abs(t.y-e.centerY);return r/e.width>n/e.height}(e,t)?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},zo=function(t,e){var r=Math.min(t.minX,e.minX),n=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(r+i)/2,centerY:(n+o)/2,minX:r,minY:n,maxX:i,maxY:o,height:o-n,width:i-r}},Fo=function(t){var e=t.minX,r=t.minY,n=t.maxX,i=t.maxY;return[{x:e,y:r},{x:n,y:r},{x:n,y:i},{x:e,y:i}]},Yo=function(t,e){var r=t.x,n=t.y;return r<e.minX||r>e.maxX||n<e.minY||n>e.maxY},Go=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Xo=function(t,e,r,n,i){return Go(t,e)+Go(t,r)+function(t,e){var r=0;return e.forEach((function(e){e&&(t.x===e.x&&(r+=-2),t.y===e.y&&(r+=-2))})),r}(t,[e,r,n,i])},Vo=function t(e,r,n,i,o){void 0===o&&(o=0),e.unshift(r[i]),n[i]&&n[i]!==i&&o<=100&&t(e,r,n,n[i],o+1)},Ho=function(t,e,r,n){var i=e.x-t.x,o=e.y-t.y,a=n.x-r.x,s=n.y-r.y,u=(-o*(t.x-r.x)+i*(t.y-r.y))/(-a*o+i*s),h=(a*(t.y-r.y)-s*(t.x-r.x))/(-a*o+i*s);return u>=0&&u<=1&&h>=0&&h<=1},qo=function(t,e,r){if(0===r.width&&0===r.height)return!1;var n=Fo(r),i=n[0],o=n[1],a=n[2],s=n[3];return Ho(t,e,i,o)||Ho(t,e,i,s)||Ho(t,e,o,a)||Ho(t,e,a,s)},Wo=function(t,e,r,n,i,o,a){var s=[],u=[e],h={},c={},l={};c[e.id]=0,l[e.id]=Xo(e,r,e);var f={};t.forEach((function(t){f[t.id]=t}));for(var d=function(){var d,p=1/0;if(u.forEach((function(t){l[t.id]<p&&(p=l[t.id],d=t)})),d===r){var g=[];return Vo(g,f,h,r.id),{value:g}}!function(t,e){var r=t.indexOf(e);r>-1&&t.splice(r,1)}(u,d),s.push(d),function(t,e,r,n){var i=[];return t.forEach((function(t){t!==e&&(t.x!==e.x&&t.y!==e.y||qo(t,e,r)||qo(t,e,n)||i.push(t))})),Do(i)}(t,d,n,i).forEach((function(t){if(-1===s.indexOf(t)){-1===u.indexOf(t)&&u.push(t);var n=l[d.id]+Go(d,t);c[t.id]&&n>=c[t.id]||(h[t.id]=d.id,c[t.id]=n,l[t.id]=c[t.id]+Xo(t,r,e,o,a))}}))};u.length;){var p=d();if("object"===Oo(p))return p.value}return[e,r]},Uo=function(t,e){var r=[],n=t[0];return r.push("M"+n.x+" "+n.y),t.forEach((function(n,i){var o=t[i+1],a=t[i+2];if(o&&a)if(function(t,e,r){return!(t.x===e.x&&e.x===r.x||t.y===e.y&&e.y===r.y)}(n,o,a)){var s=function(t,e,r,n){var i=Go(t,e),o=Go(r,e);return i<n&&(n=i),o<n&&(n=o),[{x:e.x-n/i*(e.x-t.x),y:e.y-n/i*(e.y-t.y)},{x:e.x-n/o*(e.x-r.x),y:e.y-n/o*(e.y-r.y)}]}(n,o,a,e),u=s[0],h=s[1];r.push("L"+u.x+" "+u.y),r.push("Q"+o.x+" "+o.y+" "+h.x+" "+h.y),r.push("L"+h.x+" "+h.y)}else r.push("L"+o.x+" "+o.y);else o&&r.push("L"+o.x+" "+o.y)})),r.join("")},Zo=function(t,e,r,n,i){var o,a;if(r&&r.getType())if("combo"===r.getType()){(o=r.getKeyShape().getCanvasBBox()||To(t)).centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=r.getBBox();else o=To(t);if(n&&n.getType())if("combo"===n.getType()){(a=n.getKeyShape().getCanvasBBox()||To(e)).centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2}else a=n&&n.getBBox();else a=To(e);if(No(o,a))return Bo(jo(t,e));var s=Ro(o,i),u=Ro(a,i);if(No(s,u))return Bo(jo(t,e));var h=Lo(s,t),c=Lo(u,e),l=function(t){void 0===t&&(t=[]);var e=[],r=[];t.forEach((function(t){e.push(t.x),r.push(t.y)}));var n=Math.min.apply(Math,e),i=Math.max.apply(Math,e),o=Math.min.apply(Math,r),a=Math.max.apply(Math,r);return{centerX:(n+i)/2,centerY:(o+a)/2,maxX:i,maxY:a,minX:n,minY:o,height:a-o,width:i-n}}([h,c]),f=(zo(s,u),zo(s,l)),d=zo(u,l),p=[];p=(p=p.concat(Fo(f))).concat(Fo(d));var g={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[l,f,d].forEach((function(t){p=p.concat(function(t,e){return function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]}(t,e.x).concat(function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]}(t,e.y))}(t,g).filter((function(t){return Yo(t,s)&&Yo(t,u)})))})),[{x:h.x,y:c.y},{x:c.x,y:h.y}].forEach((function(t){Yo(t,s)&&Yo(t,u)&&p.push(t)})),p.unshift(h),p.push(c),p=Do(p);var v=Wo(p,h,c,o,a,t,e);return v.unshift(t),v.push(e),Bo(v)};function Ko(t){return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var $o={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},fallbackRoute:function(t,e,r,n,i){return Bo(Zo(t,e,r,n,i.offset))}},Qo=function(t,e){var r=Math.floor(t/e);return r<0?0:r},Jo=function(t,e){var r=e.x-t.x,n=e.y-t.y;return r||n?(360+180*Math.atan2(n,r)/Math.PI)%360:0},ta=function(t,e){var r=Math.abs(t-e);return r>180?360-r:r},ea=function(t,e,r){for(var n=1/0,i=0,o=e.length;i<o;i++){var a=r(t,e[i]);a<n&&(n=a)}return n},ra=function(t,e,r){var n=[];if(!e)return n;var i=r.directions,o=r.offset,a=e.getBBox(),s=Ro(e.getBBox(),o);for(var u in s)s[u]=Qo(s[u],r.gridSize);if(t.x>Qo(a.minX,r.gridSize)&&t.x<Qo(a.maxX,r.gridSize)&&t.y>Qo(a.minY,r.gridSize)&&t.y<Qo(a.maxY,r.gridSize))for(var h=0,c=i;h<c.length;h++){var l=c[h],f=[[{x:s.minX,y:s.minY},{x:s.maxX,y:s.minY}],[{x:s.minX,y:s.minY},{x:s.minX,y:s.maxY}],[{x:s.maxX,y:s.minY},{x:s.maxX,y:s.maxY}],[{x:s.minX,y:s.maxY},{x:s.maxX,y:s.maxY}]];for(u=0;u<4;u++){var d,p=f[u];(d=Tt(t,{x:t.x+l.stepX*s.width,y:t.y+l.stepY*s.height},p[0],p[1]))&&!qo(t,d,e.getBBox())&&(d.id=d.x+"-"+d.y,n.push(d))}}else(d=Lo(s,t)).id=d.x+"-"+d.y,n.push(d);return n},na=function(t,e,r,n,i){var o=(0,vt.default)($o,i);o.obstacles=o.obstacles||[];var a=function(t,e,r){var n={};return t.forEach((function(t){if(t)for(var i=Ro(t.getBBox(),r),o=Qo(i.minX,e);o<=Qo(i.maxX,e);o+=1)for(var a=Qo(i.minY,e);a<=Qo(i.maxY,e);a+=1)n[o+"-"+a]=!0})),n}(o.obstacles.concat([r,n]),o.gridSize,o.offset),s={x:Qo(t.x,o.gridSize),y:Qo(t.y,o.gridSize)},u={x:Qo(e.x,o.gridSize),y:Qo(e.y,o.gridSize)};t.id=s.x+"-"+s.y,e.id=u.x+"-"+u.y;var h=ra(s,r,o),c=ra(u,n,o);h.forEach((function(t){delete a[t.id]})),c.forEach((function(t){delete a[t.id]}));for(var l={},f={},d={},p={},g={},v=0;v<h.length;v++){var y=h[v];l[y.id]=y,p[y.id]=0,g[y.id]=ea(y,c,o.distFunc)}for(var m=function(t,e){var r,n=Jo(t,e);if(d[t.id]){var i=Jo({x:parseFloat(d[t.id].split("-")[0]),y:parseFloat(d[t.id].split("-")[1])},t);r=ta(i,n)}else{var o=Jo(s,t);r=ta(o,n)}return r},x=o.maximumLoops,b=function(){var r,n=1/0;for(var i in l)g[i]<=n&&(n=g[i],r=l[i]);if(!r)return"break";if(c.findIndex((function(t){return t.x===r.x&&t.y===r.y}))>-1)return{value:function(r){var n=[e],i={x:parseFloat(r.split("-")[0]),y:parseFloat(r.split("-")[1]),id:r};for(m(i,u)&&n.unshift({x:i.x===u.x?e.x:i.x*o.gridSize,y:i.y===u.y?e.y:i.y*o.gridSize});d[r]&&d[r]!==r;){var a={x:parseFloat(r.split("-")[0]),y:parseFloat(r.split("-")[1]),id:r},h=d[r],c={x:parseFloat(h.split("-")[0]),y:parseFloat(h.split("-")[1]),id:h};m(c,a)&&n.unshift({x:c.x===a.x?n[0].x:c.x*o.gridSize,y:c.y===a.y?n[0].y:c.y*o.gridSize}),r=h}var l=parseFloat(r.split("-")[0]),f=parseFloat(r.split("-")[1]);return n[0].x=l===s.x?t.x:n[0].x,n[0].y=f===s.y?t.y:n[0].y,n.unshift(t),n}(r.id)};delete l[r.id],f[r.id]=!0;for(var h=0;h<o.directions.length;h++){var v=o.directions[h],y={x:r.x+v.stepX,y:r.y+v.stepY,id:r.x+v.stepX+"-"+(r.y+v.stepY)};if(!f[y.id]){var b=m(r,y);if(!(b>o.maxAllowedDirectionChange||a[y.id])){l[y.id]||(l[y.id]=y);var w=o.distFunc(r,y)+(isNaN(o.penalties[b])?o.gridSize:o.penalties[b]),M=p[r.id]+w;p[y.id]&&M>=p[y.id]||(d[y.id]=r.id,p[y.id]=M,g[y.id]=M+ea(y,c,o.distFunc))}}}x-=1};Object.keys(l).length>0&&x>0;){var w=b();if("object"===Ko(w))return w.value;if("break"===w)break}return o.fallbackRoute(t,e,r,n,o)};_r.registerEdge("polyline",{options:{color:q.defaultEdge.color,size:q.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:q.defaultEdge.style.stroke,lineAppendWidth:q.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:q.edgeLabel.style.fill,fontSize:q.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:(0,x.__assign)({},q.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(t,e){var r=this.getShapeStyle(t);return 0===r.radius&&delete r.radius,e.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:r})},getShapeStyle:function(t){var e=this.options.style,r={stroke:t.color},n=(0,at.mix)({},e,r,t.style);t=this.getPathPoints(t),this.radius=n.radius,this.offset=n.offset;var i=t.startPoint,o=t.endPoint,a=this.getControlPoints(t),s=[i];a&&(s=s.concat(a)),s.push(o);var u=t.sourceNode,h=t.targetNode,c=n.radius,l=this.options.routeCfg;l.offset=n.offset;var f=this.getPath(s,u,h,c,l);return((0,at.isArray)(f)&&f.length<=1||(0,at.isString)(f)&&-1===f.indexOf("L"))&&(f="M0 0, L0 0"),(isNaN(i.x)||isNaN(i.y)||isNaN(o.x)||isNaN(o.y))&&(f="M0 0, L0 0"),(0,at.mix)({},q.defaultEdge.style,n,{lineWidth:t.size,path:f})},updateShapeStyle:function(t,e){var r=e.getContainer(),n={stroke:t.color},i=r.find((function(t){return"edge-shape"===t.get("className")}))||e.getKeyShape(),o=t.size,a=(t=this.getPathPoints(t)).startPoint,s=t.endPoint,u=this.getControlPoints(t),h=[a];u&&(h=h.concat(u)),h.push(s);var c=(0,at.mix)({},n,i.attr(),t.style),l=t.sourceNode,f=t.targetNode,d=c.radius,p=this.options.routeCfg;p.offset=c.offset;var g=this.getPath(h,l,f,d,p);((0,at.isArray)(g)&&g.length<=1||(0,at.isString)(g)&&-1===g.indexOf("L"))&&(g="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(s.x)||isNaN(s.y))&&(g="M0 0, L0 0");var v=(0,at.mix)(n,i.attr(),{lineWidth:o,path:g},t.style);i&&i.attr(v)},getPath:function(t,e,r,n,i){var o;if(!i.offset||t.length>2){if(n)return Uo(t,n);var a=[];return(0,at.each)(t,(function(t,e){0===e?a.push(["M",t.x,t.y]):a.push(["L",t.x,t.y])})),a}return n?(o=na(t[0],t[t.length-1],e,r,i),Uo(o,n)):(o=na(t[0],t[t.length-1],e,r,i),ge(o))}},"single-edge");const ia=_r;var oa={mat3:je.wO,mix:Tr.default,deepMix:vt.default,transform:je.vs};const aa=(0,x.__assign)((0,x.__assign)((0,x.__assign)((0,x.__assign)((0,x.__assign)((0,x.__assign)({},oa),n),s),a),o),i);const sa=function(){function t(t){this._cfgs=(0,vt.default)(this.getDefaultCfgs(),t),this._events={},this.destroyed=!1}return t.prototype.getDefaultCfgs=function(){return{}},t.prototype.initPlugin=function(t){var e=this;e.set("graph",t);var r=e.getEvents(),n={};(0,c.default)(r,(function(r,i){var o=(0,Ye.default)(e,r);n[i]=o,t.on(i,o)})),this._events=n,this.init()},t.prototype.init=function(){},t.prototype.getEvents=function(){return{}},t.prototype.get=function(t){return this._cfgs[t]},t.prototype.set=function(t,e){this._cfgs[t]=e},t.prototype.destroy=function(){},t.prototype.destroyPlugin=function(){this.destroy();var t=this.get("graph"),e=this._events;(0,c.default)(e,(function(e,r){t.off(r,e)})),this._events=null,this._cfgs=null,this.destroyed=!0},t}();var ua="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)";const ha=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,x.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{img:ua}},e.prototype.init=function(){var t=this.get("graph"),e=t.get("minZoom"),r=t.get("container"),n=t.get("canvas").get("el"),i=t.get("width"),o=t.get("height"),a=this.get("img")||ua,s=(0,ft.Z)("<div class='g6-grid-container' style=\"position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;\"></div>"),u=(0,ft.Z)("<div \n        class='g6-grid' \n        style='position:absolute;\n        transform-origin: 0% 0% 0px;\n        background-image: "+a+";\n        user-select: none\n        '></div>");s.appendChild(u),(0,lt.Z)(s,{width:i+"px",height:o+"px",left:r.offsetLeft+"px",top:r.offsetTop+"px"}),(0,lt.Z)(u,{width:i/e+"px",height:o/e+"px",left:"0px",top:"0px"}),r.insertBefore(s,n),this.set("container",s),this.set("gridContainer",u)},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var e=this.get("gridContainer"),r=t.matrix;r||(r=[1,0,0,0,1,0,0,0,1]);var n="matrix("+r[0]+", "+r[1]+", "+r[3]+", "+r[4]+", 0, 0)";(0,lt.Z)(e,{transform:n})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph").get("container"),e=this.get("container");t.removeChild(e)},e}(sa);var ca=r(34508),la=r.n(ca);la()("\n  .g6-component-contextmenu {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .g6-contextmenu-ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n");const fa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,x.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(t){return"\n          <ul class='g6-contextmenu-ul'>\n            <li>菜单项1</li>\n            <li>菜单项2</li>\n          </ul>\n        "},shouldBegin:function(t){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},e.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),e=(0,ft.Z)("<div class="+(t||"g6-component-contextmenu")+"></div>");(0,lt.Z)(e,{top:"0px",position:"absolute",visibility:"hidden"});var r=this.get("container");r||(r=this.get("graph").get("container")),r.appendChild(e),this.set("menu",e)},e.prototype.onMenuShow=function(t){var e=this;if((t.preventDefault(),t.stopPropagation(),t.item)&&this.get("shouldBegin")(t)){var r=this.get("itemTypes");if(t.item&&t.item.getType&&-1===r.indexOf(t.item.getType()))e.onMenuHide();else if(t.item){var n=this.get("menu"),i=this.get("getContent"),o=this.get("graph"),a=i(t,o);(0,m.default)(a)?n.innerHTML=a:n.innerHTML=a.outerHTML,this.removeMenuEventListener();var s=this.get("handleMenuClick");if(s){var u=function(e){s(e.target,t.item,o)};this.set("handleMenuClickWrapper",u),n.addEventListener("click",u)}var h=o.get("width"),c=o.get("height"),l=n.getBoundingClientRect(),f=this.get("offsetX")||0,d=this.get("offsetY")||0,p=o.getContainer().offsetTop,g=o.getContainer().offsetLeft,v=t.canvasX+g+f,y=t.canvasY+p+d;v+l.width>h&&(v=t.canvasX-l.width-f+g),y+l.height>c&&(y=t.canvasY-l.height-d+p),(0,lt.Z)(n,{top:y+"px",left:v+"px",visibility:"visible"});var x=function(t){e.onMenuHide()};document.body.addEventListener("click",x),this.set("handler",x)}}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");t&&(this.get("menu").removeEventListener("click",t),this.set("handleMenuClickWrapper",null));e&&document.body.removeEventListener("click",e)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&(0,lt.Z)(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},e}(sa);var da=Math.max;const pa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleUpdateCanvas=(0,at.debounce)((function(t){var r=e;r.destroyed||r.updateCanvas()}),100,!1),e}return(0,x.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,e=this._cfgs,r=e.size,n=e.graph;if(!this.destroyed){var i=this.get("canvas").get("container"),o=(0,ft.Z)("\n      <div\n        class="+e.viewportClassName+"\n        style='position:absolute;\n          left:0;\n          top:0;\n          box-sizing:border-box;\n          border: 2px solid #1980ff'\n        draggable=true>\n      </div>"),a=0,s=0,u=!1,h=0,c=0,l=0,f=0,d=0,p=0;o.addEventListener("dragstart",(function(i){if(i.dataTransfer){var g=new Image;g.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",i.dataTransfer.setDragImage(g,0,0),i.dataTransfer.setData("text","view-port-minimap")}if(e.refresh=!1,i.target===o){var v=o.style;h=parseInt(v.left,10),c=parseInt(v.top,10),l=parseInt(v.width,10),f=parseInt(v.height,10),l>r[0]||f>r[1]||(p=n.getZoom(),d=t.get("ratio"),u=!0,a=i.clientX,s=i.clientY)}}),!1),o.addEventListener("drag",(function(t){if(u&&!(0,v.default)(t.clientX)&&!(0,v.default)(t.clientY)){var e=a-t.clientX,i=s-t.clientY;(h-e<0||h-e+l>=r[0])&&(e=0),(c-i<0||c-i+f>=r[1])&&(i=0),h-=e,c-=i,(0,lt.Z)(o,{left:h+"px",top:c+"px"}),n.translate(e*p/d,i*p/d),a=t.clientX,s=t.clientY}}),!1),o.addEventListener("dragend",(function(){u=!1,e.refresh=!0}),!1),this.set("viewport",o),i.appendChild(o)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=(this.get("dx"),this.get("dy"),this.get("totaldx")),r=this.get("totaldy"),n=this.get("graph"),i=this.get("size"),o=n.get("width"),a=n.get("height"),s=n.getPointByCanvas(0,0),u=n.getPointByCanvas(o,a),h=this.get("viewport");h||this.initViewport();n.getZoom();var c=(u.x-s.x)*t,l=(u.y-s.y)*t,f=s.x*t+e,d=s.y*t+r,p=f+c,g=d+l;f<0&&(c+=f,f=0),p>i[0]&&(c-=p-i[0]),d<0&&(l+=d,d=0),g>i[1]&&(l-=g-i[1]),this.set("ratio",t);var v=f+"px",y=d+"px";(0,lt.Z)(h,{left:v,top:y,width:c+"px",height:l+"px"})}},e.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),r=t.get("group");if(!r.destroyed){var n=r.clone();n.resetMatrix(),e.clear(),e.add(n),"svg"===t.get("renderer")&&this.updateVisible(n)}},e.prototype.updateVisible=function(t){var e=this;if(t.isGroup()||t.get("visible")){var r=t.get("children");if(!r||!r.length)return;r.forEach((function(t){t.get("visible")||t.hide(),e.updateVisible(t)}))}else t.hide()},e.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph;(0,c.default)(e.getEdges(),(function(e){t.updateOneEdgeKeyShape(e)})),(0,c.default)(e.getNodes(),(function(e){t.updateOneNodeKeyShape(e)})),this.clearDestroyedShapes()},e.prototype.updateOneNodeKeyShape=function(t){var e=this.get("canvas"),r=e.get("children")[0]||e.addGroup(),n=this.get("itemMap")||{},i=n[t.get("id")],o=t.getBBox(),a=t.get("keyShape").clone(),s=a.attr(),u={x:o.centerX,y:o.centerY};i?u=Object.assign(s,u):(i=a,r.add(i));var h=i.get("type");"rect"!==h&&"image"!==h||(u.x=o.minX,u.y=o.minY),i.attr(u),t.isVisible()||i.hide(),i.exist=!0,n[t.get("id")]=i,this.set("itemMap",n)},e.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph;(0,c.default)(e.getEdges(),(function(e){t.updateOneEdgeKeyShape(e)})),(0,c.default)(e.getNodes(),(function(e){t.updateOneNodeDelegateShape(e)})),this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(e&&0!==e.length)for(var r=e.length-1;r>=0;r--){var n=t[e[r]],i=n.exist;n.exist=!1,i||(n.remove(),delete t[e[r]])}},e.prototype.updateOneEdgeKeyShape=function(t){var e=this.get("canvas"),r=e.get("children")[0]||e.addGroup(),n=this.get("itemMap")||{},i=n[t.get("id")];if(i){var o=t.get("keyShape").attr("path");i.attr("path",o)}else i=t.get("keyShape").clone(),r.add(i),i.toBack();t.isVisible()||i.hide(),i.exist=!0,n[t.get("id")]=i,this.set("itemMap",n)},e.prototype.updateOneNodeDelegateShape=function(t){var e=this.get("canvas"),r=e.get("children")[0]||e.addGroup(),n=this.get("delegateStyle"),i=this.get("itemMap")||{},o=i[t.get("id")],a=t.getBBox();if(o){var s={x:a.minX,y:a.minY,width:a.width,height:a.height};o.attr(s)}else o=r.addShape("rect",{attrs:(0,x.__assign)({x:a.minX,y:a.minY,width:a.width,height:a.height},n),name:"minimap-node-shape"});t.isVisible()||o.hide(),o.exist=!0,i[t.get("id")]=o,this.set("itemMap",i)},e.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this,e=t.get("graph"),r=t.get("size"),n=t.get("className"),i=t.get("container"),o=(0,ft.Z)("<div class='"+n+"' style='width: "+r[0]+"px; height: "+r[1]+"px; overflow: hidden'></div>");(0,m.default)(i)&&(i=document.getElementById(i)),i?i.appendChild(o):e.get("container").appendChild(o),t.set("container",o);var a,s=(0,ft.Z)('<div class="g6-minimap-container" style="position: relative;"></div>');o.appendChild(s),a="svg"===e.get("renderer")?new Be.Z({container:s,width:r[0],height:r[1]}):new De.Z({container:s,width:r[0],height:r[1]}),t.set("canvas",a),t.updateCanvas()},e.prototype.updateCanvas=function(){if(this.get("refresh")){var t=this.get("graph");if(!t.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var e=this.get("size"),r=this.get("canvas"),n=this.get("type"),i=this.get("padding");if(!r.destroyed){switch(n){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var o=r.get("children")[0];if(o){o.resetMatrix();var a=o.getCanvasBBox(),s=t.get("canvas").getBBox(),u=s.width,h=s.height;Number.isFinite(a.width)&&(u=da(a.width,u),h=da(a.height,h)),u+=2*i,h+=2*i;var c=Math.min(e[0]/u,e[1]/h),l=[1,0,0,0,1,0,0,0,1],f=0,d=0;Number.isFinite(a.minX)&&(f=-a.minX),Number.isFinite(a.minY)&&(d=-a.minY);var p=(e[0]-(u-2*i)*c)/2,g=(e[1]-(h-2*i)*c)/2;l=ht(l,[["t",f,d],["s",c,c],["t",p,g]]),o.setMatrix(l),this.set("ratio",c),this.set("totaldx",p+f*c),this.set("totaldy",g+d*c),this.set("dx",p),this.set("dy",g),this.updateViewport()}}}}},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},e}(sa);function ga(t,e,r){var n=t.x-e.x,i=t.y-e.y;return!r||Math.abs(n)>r||Math.abs(i)>r?Math.sqrt(n*n+i*i):r}function va(t,e){var r=(e.source.y-e.target.y)/(e.source.x-e.target.x),n=(r*r*e.source.x+r*(t.y-e.source.y)+t.x)/(r*r+1);return{x:n,y:r*(n-e.source.x)+e.source.y}}const ya=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,x.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick");this.set("tick",(function(){e&&e(),t.refreshPositions()}))},e.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var r=t.edges||[],n=t.nodes||[],i={},o=!1;if(n.forEach((function(t){null!==t.x&&null!==!t.y&&void 0!==t.x&&void 0!==!t.y||(o=!0),i[t.id]=t})),o)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",i);var a=e.get("divisions"),s=e.get("divRate"),u=e.divideEdges(a);e.set("edgePoints",u);var h=e.getEdgeBundles();e.set("edgeBundles",h);for(var c=e.get("cycles"),l=e.get("iterations"),f=e.get("iterRate"),d=e.get("lambda"),p=0;p<c;p++){for(var g=function(t){var n=[];r.forEach((function(t,r){if(t.source!==t.target){var o=i[t.source],s=i[t.target];n[r]=e.getEdgeForces({source:o,target:s},r,a,d);for(var h=0;h<a+1;h++)u[r][h].x+=n[r][h].x,u[r][h].y+=n[r][h].y}}))},v=0;v<l;v++)g();d/=2,a*=s,l*=f,u=e.divideEdges(a),e.set("edgePoints",u)}r.forEach((function(t,e){t.source!==t.target&&(t.shape="polyline",t.type="polyline",t.controlPoints=u[e].slice(1,u[e].length-1))})),e.get("graph").refresh()}},e.prototype.updateBundling=function(t){var e=this,r=t.data;if(r&&e.set("data",r),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach((function(r){e.set(r,t[r])})),t.onTick){var n=this.get("graph");e.set("tick",(function(){t.onTick(),n.refresh()}))}e.bundling(r)},e.prototype.divideEdges=function(t){var e=this,r=e.get("data").edges,n=e.get("nodeIdMap"),i=e.get("edgePoints");return i&&void 0!==i||(i=[]),r.forEach((function(r,o){i[o]&&void 0!==i[o]||(i[o]=[]);var a=n[r.source],s=n[r.target];if(1===t)i[o].push({x:a.x,y:a.y}),i[o].push({x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),i[o].push({x:s.x,y:s.y});else{var u=(i[o]&&i[o]!==[]?e.getEdgeLength(i[o]):ga({x:a.x,y:a.y},{x:s.x,y:s.y}))/(t+1),h=u,c=[{x:a.x,y:a.y}];i[o].forEach((function(t,e){if(0!==e){for(var r=ga(t,i[o][e-1]);r>h;){var n=h/r,a={x:i[o][e-1].x,y:i[o][e-1].y};a.x+=n*(t.x-i[o][e-1].x),a.y+=n*(t.y-i[o][e-1].y),c.push(a),r-=h,h=u}h-=r}})),c.push({x:s.x,y:s.y}),i[o]=c}})),i},e.prototype.getEdgeLength=function(t){var e=0;return t.forEach((function(r,n){0!==n&&(e+=ga(r,t[n-1]))})),e},e.prototype.getEdgeBundles=function(){var t=this,e=t.get("data").edges||[],r=t.get("bundleThreshold"),n=t.get("nodeIdMap"),i=t.get("edgeBundles");return i||(i=[]),e.forEach((function(t,e){i[e]&&void 0!==i[e]||(i[e]=[])})),e.forEach((function(o,a){var s=n[o.source],u=n[o.target];e.forEach((function(e,o){if(!(o<=a)){var h=n[e.source],c=n[e.target];t.getBundleScore({source:s,target:u},{source:h,target:c})>=r&&(i[a].push(o),i[o].push(a))}}))})),i},e.prototype.getBundleScore=function(t,e){var r=this;return t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=ga({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=ga({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y}),r.getAngleScore(t,e)*r.getScaleScore(t,e)*r.getPositionScore(t,e)*r.getVisibilityScore(t,e)},e.prototype.getAngleScore=function(t,e){return function(t,e){return t.x*e.x+t.y*e.y}({x:t.vx,y:t.vy},{x:e.vx,y:e.vy})/(t.length*e.length)},e.prototype.getScaleScore=function(t,e){var r=(t.length+e.length)/2;return 2/(r/Math.min(t.length,e.length)+Math.max(t.length,e.length)/r)},e.prototype.getPositionScore=function(t,e){var r=(t.length+e.length)/2;return r/(r+ga({x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},{x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2}))},e.prototype.getVisibilityScore=function(t,e){var r=this.getEdgeVisibility(t,e),n=this.getEdgeVisibility(e,t);return r<n?r:n},e.prototype.getEdgeVisibility=function(t,e){var r=va(e.source,t),n=va(e.target,t),i={x:(r.x+n.x)/2,y:(r.y+n.y)/2},o={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*ga(i,o)/ga(r,n))},e.prototype.getEdgeForces=function(t,e,r,n){for(var i=this,o=i.get("edgePoints"),a=i.get("K")/(ga(t.source,t.target)*(r+1)),s=[{x:0,y:0}],u=1;u<r;u++){var h={x:0,y:0},c=i.getSpringForce({pre:o[e][u-1],cur:o[e][u],next:o[e][u+1]},a),l=i.getElectrostaticForce(u,e);h.x=n*(c.x+l.x),h.y=n*(c.y+l.y),s.push(h)}return s.push({x:0,y:0}),s},e.prototype.getSpringForce=function(t,e){var r=t.pre.x+t.next.x-2*t.cur.x,n=t.pre.y+t.next.y-2*t.cur.y;return{x:r*=e,y:n*=e}},e.prototype.getElectrostaticForce=function(t,e){var r=this,n=r.get("eps"),i=r.get("edgeBundles"),o=r.get("edgePoints"),a=i[e],s={x:0,y:0};return a.forEach((function(r){var i={x:o[r][t].x-o[e][t].x,y:o[r][t].y-o[e][t].y};if(Math.abs(i.x)>n||Math.abs(i.y)>n){var a=1/ga(o[r][t],o[e][t]);s.x+=i.x*a,s.y+=i.y*a}})),s},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),t.prototype.destroy.call(this)},e}(sa);var ma={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"};const xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,x.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,l.d9)(ma),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"}}return t},e.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var r=t.get("d");t.set("molecularParam",(r+1)*e)},e.prototype.createDelegate=function(t){var e=this,r=this,n=r.get("delegate");n&&!n.destroyed||(r.magnify(t),(n=r.get("delegate")).on("dragstart",(function(t){r.set("delegateCenterDiff",{x:n.attr("x")-t.x,y:n.attr("y")-t.y})})),n.on("drag",(function(t){r.magnify(t)})),"wheel"===this.get("scaleDBy")&&n.on("mousewheel",(function(t){e.scaleDByWheel(t)})),"wheel"===this.get("scaleRBy")&&n.on("mousewheel",(function(t){r.scaleRByWheel(t)})))},e.prototype.scaleRByWheel=function(t){var e=this;if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var r,n=e.get("graph"),i=e.get("delegate"),o=(i?{x:i.attr("x"),y:i.attr("y")}:void 0)||n.getPointByClient(t.clientX,t.clientY);r=t.originalEvent.wheelDelta<0?.95:1/.95;var a=e.get("maxR"),s=e.get("minR"),u=e.get("r");(u>(a||n.get("height"))&&r>1||u<(s||.05*n.get("height"))&&r<1)&&(r=1),u*=r,e.set("r",u),e.set("r2",u*u);var h=e.get("d");e.set("molecularParam",(h+1)*u),e.set("delegateCenterDiff",void 0),e.magnify(t,o)}},e.prototype.scaleRByDrag=function(t){var e=this;if(t){var r,n=e.get("dragPrePos"),i=e.get("graph"),o=i.getPointByClient(t.clientX,t.clientY);r=t.x-n.x<0?.95:1/.95;var a=e.get("maxR"),s=e.get("minR"),u=e.get("r");(u>(a||i.get("height"))&&r>1||u<(s||.05*i.get("height"))&&r<1)&&(r=1),u*=r,e.set("r",u),e.set("r2",u*u);var h=e.get("d");e.set("molecularParam",(h+1)*u),e.magnify(t,o),e.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){var e=this;if(t||t.originalEvent){t.preventDefault&&t.preventDefault();var r=0;r=t.originalEvent.wheelDelta<0?-.1:.1;var n=e.get("d")+r,i=e.get("maxD"),o=e.get("minD");if(n<i&&n>o){e.set("d",n);var a=e.get("r");e.set("molecularParam",(n+1)*a);var s=e.get("delegate"),u=s?{x:s.attr("x"),y:s.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,u)}}},e.prototype.scaleDByDrag=function(t){var e=this,r=e.get("dragPrePos"),n=t.x-r.x>0?.1:-.1,i=e.get("d")+n,o=e.get("maxD"),a=e.get("minD");if(i<o&&i>a){e.set("d",i);var s=e.get("r");e.set("molecularParam",(i+1)*s),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,e){var r=this;r.restoreCache();var n=r.get("graph"),i=r.get("cachedMagnifiedModels"),o=r.get("cachedOriginPositions"),a=r.get("showLabel"),s=r.get("r"),u=r.get("r2"),h=r.get("d"),c=r.get("molecularParam"),l=n.getNodes(),f=l.length,d=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};!r.get("dragging")||"mousemove"!==r.get("trigger")&&"click"!==r.get("trigger")||(d=r.get("cacheCenter"));var p=r.get("delegateCenterDiff");p&&(d.x+=p.x,d.y+=p.y),r.updateDelegate(d,s);for(var g=0;g<f;g++){var v=l[g].getModel(),y=v.x,m=v.y;if(!isNaN(y)&&!isNaN(m)){var x=(y-d.x)*(y-d.x)+(m-d.y)*(m-d.y);if(!isNaN(x)&&x<u&&0!==x){var b=Math.sqrt(x),w=c*b/(h*b+s),M=(y-d.x)/b,S=(m-d.y)/b;if(v.x=M*w+d.x,v.y=S*w+d.y,o[v.id]||(o[v.id]={x:y,y:m,texts:[]}),i.push(v),a&&2*b<s)for(var _=l[g].getContainer().getChildren(),k=_.length,E=0;E<k;E++){var C=_[E];"text"===C.get("type")&&(o[v.id].texts.push({visible:C.get("visible"),shape:C}),C.set("visible",!0))}}}}n.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),r=t.get("cachedOriginPositions"),n=e.length,i=0;i<n;i++){var o=e[i],a=r[o.id];o.x=a.x,o.y=a.y;for(var s=a.texts.length,u=0;u<s;u++){var h=a.texts[u];h.shape.set("visible",h.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var e=this,r=t.r,n=t.d,i=t.trigger,o=t.minD,a=t.maxD,s=t.minR,u=t.maxR,h=t.scaleDBy,c=t.scaleRBy;isNaN(t.r)||(e.set("r",r),e.set("r2",r*r)),isNaN(n)||e.set("d",n),isNaN(a)||e.set("maxD",a),isNaN(o)||e.set("minD",o),isNaN(u)||e.set("maxR",u),isNaN(s)||e.set("minR",s);var l,f=e.get("d"),d=e.get("r");(e.set("molecularParam",(f+1)*d),"mousemove"!==i&&"click"!==i&&"drag"!==i||e.set("trigger",i),"drag"===h||"wheel"===h||"unset"===h)&&(e.set("scaleDBy",h),e.get("delegate").remove(),e.get("delegate").destroy(),(l=e.get("dPercentText"))&&(l.remove(),l.destroy()));"drag"!==c&&"wheel"!==c&&"unset"!==c||(e.set("scaleRBy",c),e.get("delegate").remove(),e.get("delegate").destroy(),(l=e.get("dPercentText"))&&(l.remove(),l.destroy()))},e.prototype.updateDelegate=function(t,e){var r=this,n=this,i=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var a=i.get("group"),s=n.get("delegateStyle")||ma;o=a.addShape("circle",{attrs:(0,x.__assign)({r:e/1.5,x:t.x,y:t.y},s),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&("wheel"===this.get("scaleRBy")?o.on("mousewheel",(function(t){n.scaleRByWheel(t)})):"drag"===this.get("scaleRBy")&&(o.on("dragstart",(function(t){n.set("dragging",!0),n.set("cacheCenter",{x:t.x,y:t.y}),n.set("dragPrePos",{x:t.x,y:t.y})})),o.on("drag",(function(t){n.scaleRByDrag(t)})),o.on("dragend",(function(t){n.set("dragging",!1)}))),"wheel"===this.get("scaleDBy")?o.on("mousewheel",(function(t){r.scaleDByWheel(t)})):"drag"===this.get("scaleDBy")&&(o.on("dragstart",(function(t){n.set("dragging",!0),n.set("cacheCenter",{x:t.x,y:t.y}),n.set("dragPrePos",{x:t.x,y:t.y})})),o.on("drag",(function(t){r.scaleDByDrag(t)})),o.on("dragend",(function(t){n.set("dragging",!1)}))))}else o.attr({x:t.x,y:t.y,r:e/1.5});if(n.get("showDPercent")){var u=Math.round((n.get("d")-n.get("minD"))/(n.get("maxD")-n.get("minD"))*100),h=n.get("dPercentText"),c=t.y+e/1.5+16;if(!h||h.destroyed)h=i.get("group").addShape("text",{attrs:{text:u+"%",x:t.x,y:c,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),n.set("dPercentText",h);else h.attr({text:u+"%",x:t.x,y:c})}n.set("delegate",o)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var r=this.get("dPercentText");r&&!r.destroyed&&(r.remove(),r.destroy())},e.prototype.destroy=function(){this.clear()},e}(sa);la()("\n  .g6-component-toolbar {\n    position: absolute;\n    list-style-type: none;\n    padding: 6px;\n    left: 0px;\n    top: 0px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    margin: 0;\n  }\n  .g6-component-toolbar li {\n    float: left;\n    text-align: center;\n    width: 35px;\n    height: 24px;\n    cursor: pointer;\n\t\tlist-style-type:none;\n    list-style: none;\n    margin-left: 0px;\n  }\n  .g6-component-toolbar li .icon {\n    opacity: 0.7;\n  }\n  .g6-component-toolbar li .icon:hover {\n    opacity: 1;\n  }\n");const ba=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,x.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(t){return'\n          <ul class=\'g6-component-toolbar\'>\n            <li code=\'redo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>\n              </svg>\n            </li>\n            <li code=\'undo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>\n              </svg>\n            </li>\n            <li  code=\'zoomOut\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>\n              </svg>\n            </li>\n            <li code=\'zoomIn\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>\n              </svg>\n            </li>\n            <li code=\'realZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>\n              </svg>\n            </li>\n            <li code=\'autoZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>\n              </svg>\n            </li>\n          </ul>\n        '}}},e.prototype.init=function(){var t=this,e=this.get("graph"),r=this.get("getContent")(e),n=r;(0,l.HD)(r)&&(n=(0,ft.Z)(r));var i=this.get("className");n.setAttribute("class",i||"g6-component-toolbar");var o=this.get("container");o||(o=this.get("graph").get("container")),o.appendChild(n),this.set("toolBar",n);var a=this.get("handleClick");n.addEventListener("click",(function(r){var n=r.path.filter((function(t){return"LI"===t.nodeName}));if(0!==n.length){var i=n[0].getAttribute("code");i&&(a?a(i,e):t.handleDefaultOperator(i,e))}}));var s=this.get("position");s&&(0,lt.Z)(n,{top:s.y+"px",left:s.x+"px"}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),r=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),n=document.querySelector('.g6-component-toolbar li[code="redo"]'),i=document.querySelector('.g6-component-toolbar li[code="redo"] svg');e&&r&&n&&i&&t.on("stackchange",(function(t){var o=t.undoStack,a=t.redoStack,s=o.length,u=a.length;1===s?(e.setAttribute("style","cursor: not-allowed"),r.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),r.removeAttribute("style")),0===u?(n.setAttribute("style","cursor: not-allowed"),i.setAttribute("style","opacity: 0.4")):(n.removeAttribute("style"),i.removeAttribute("style"))}))},e.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(e&&0!==e.length){var r=e.pop();if(r){var n=r.action;t.pushStack(n,(0,l.d9)(r.data),"redo");var i=r.data.before;if("add"===n&&(i=r.data.after),!i)return;switch(n){case"visible":Object.keys(i).forEach((function(e){var r=i[e];r&&r.forEach((function(e){var r=t.findById(e.id);e.visible?t.showItem(r,!1):t.hideItem(r,!1)}))}));break;case"render":case"update":Object.keys(i).forEach((function(e){var r=i[e];r&&r.forEach((function(e){t.updateItem(e.id,e,!1)}))}));break;case"changedata":t.changeData(i,!1);break;case"delete":Object.keys(i).forEach((function(e){var r=i[e];r&&r.forEach((function(e){var r=e.itemType;delete e.itemType,t.addItem(r,e,!1)}))}));break;case"add":Object.keys(i).forEach((function(e){var r=i[e];r&&r.forEach((function(e){t.removeItem(e.id,!1)}))}))}}}},e.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(e&&0!==e.length){var r=e.pop();if(r){var n=r.action,i=r.data.after;if(t.pushStack(n,(0,l.d9)(r.data)),"delete"===n&&(i=r.data.before),!i)return;switch(n){case"visible":Object.keys(i).forEach((function(e){var r=i[e];r&&r.forEach((function(e){var r=t.findById(e.id);e.visible?t.showItem(r,!1):t.hideItem(r,!1)}))}));break;case"render":case"update":Object.keys(i).forEach((function(e){var r=i[e];r&&r.forEach((function(e){t.updateItem(e.id,e,!1)}))}));break;case"changedata":t.changeData(i,!1);break;case"delete":i.edges&&i.edges.forEach((function(e){t.removeItem(e.id,!1)})),i.nodes&&i.nodes.forEach((function(e){t.removeItem(e.id,!1)})),i.combos&&i.combos.forEach((function(e){t.removeItem(e.id,!1)}));break;case"add":Object.keys(i).forEach((function(e){var r=i[e];r&&r.forEach((function(e){var r=e.itemType;delete e.itemType,t.addItem(r,e,!1)}))}))}}}},e.prototype.handleDefaultOperator=function(t,e){var r=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":if(1.25*r>5)return;e.zoomTo(1.1*r);break;case"zoomIn":if(.75*r<.3)return;e.zoomTo(.9*r);break;case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20])}},e.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}var r=this.get("handleClick");r&&t.removeEventListener("click",r)},e}(sa);la()("\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .tooltip-type {\n    padding: 0;\n    margin: 0;\n  }\n  .tooltip-id {\n    color: #531dab;\n  }\n");const wa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,x.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(t){return"\n          <h4 class='tooltip-type'>类型："+t.item.getType()+"</h4>\n          <span class='tooltip-id'>ID："+t.item.getID()+"</span>\n        "},shouldBegin:function(t){return!0},itemTypes:["node","edge","combo"]}},e.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},e.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",e=(0,ft.Z)("<div class="+t+"></div>"),r=this.get("container");r||(r=this.get("graph").get("container")),(0,lt.Z)(e,{position:"absolute",visibility:"hidden"}),r.appendChild(e),this.set("tooltip",e)},e.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!t.item||!t.item.getType||-1!==e.indexOf(t.item.getType())){var r=t.item,n=this.get("graph");this.currentTarget=r,this.showTooltip(t),n.emit("tooltipchange",{item:t.item,action:"show"})}},e.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&-1===e.indexOf(t.item.getType())||this.currentTarget&&t.item===this.currentTarget&&this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},e.prototype.showTooltip=function(t){if(t.item){var e=this.get("itemTypes");if(!t.item.getType||-1!==e.indexOf(t.item.getType())){var r=this.get("tooltip"),n=this.get("getContent")(t);(0,m.default)(n)?r.innerHTML=n:r.innerHTML=n.outerHTML,this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&(0,lt.Z)(t,{visibility:"hidden"})},e.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),r=this.get("tooltip");if(e(t)){var n=this.get("graph"),i=n.get("width"),o=n.get("height"),a=this.get("offsetX")||0,s=this.get("offsetY")||0,u=n.getPointByClient(t.clientX,t.clientY),h=n.getCanvasByPoint(u.x,u.y),c=h.x,l=h.y;c+=a,l+=s;var f=r.getBoundingClientRect();c+f.width>i&&(c=c-f.width-a),l+f.height>o&&(l=l-f.height-s),(0,lt.Z)(r,{left:c+"px",top:l+"px",visibility:"visible"})}else(0,lt.Z)(r,{visibility:"hidden"})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},e}(sa);var Ma={};function Sa(t,e){Ma[t]=e}const _a=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){(0,at.assign)(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return(0,at.map)(this.ticks,(function(e,r){return(0,at.isObject)(e)?e:{text:t.getText(e,r),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var r=this.formatter,n=r?r(t,e):t;return(0,at.isNil)(n)||!(0,at.isFunction)(n.toString)?"":n.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){(0,at.assign)(this,this.__cfg__),this.setDomain(),(0,at.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if((0,at.isString)(t)){var r=Ma[t];if(!r)throw new Error("There is no method to to calculate ticks!");e=r(this)}else(0,at.isFunction)(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return(0,at.head)(this.range)},t.prototype.rangeMax=function(){return(0,at.last)(this.range)},t.prototype.calcPercent=function(t,e,r){return(0,at.isNumber)(t)?(t-e)/(r-e):NaN},t.prototype.calcValue=function(t,e,r){return e+t*(r-e)},t}();const ka=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return(0,x.__extends)(e,t),e.prototype.translate=function(t){var e=(0,at.indexOf)(this.values,t);return-1===e?(0,at.isNumber)(t)?t:NaN:e},e.prototype.scale=function(t){var e=this.translate(t),r=this.calcPercent(e,this.min,this.max);return this.calcValue(r,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,r=this.calcPercent(t,this.rangeMin(),this.rangeMax()),n=Math.round(e*r)+this.min;return n<this.min||n>this.max?NaN:this.values[n]},e.prototype.getText=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=e;return(0,at.isNumber)(e)&&!this.values.includes(e)&&(i=this.values[i]),t.prototype.getText.apply(this,(0,x.__spreadArrays)([i],r))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if((0,at.isNil)(this.getConfig("min"))&&(this.min=0),(0,at.isNil)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}},e}(_a);var Ea=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Ca="[1-9]\\d?",Pa="\\d\\d",Aa="[^\\s]+",Ia=/\[([^]*?)\]/gm;function Oa(t,e){for(var r=[],n=0,i=t.length;n<i;n++)r.push(t[n].substr(0,e));return r}var Ta=function(t){return function(e,r){var n=r[t].map((function(t){return t.toLowerCase()})).indexOf(e.toLowerCase());return n>-1?n:null}};function Na(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0,i=e;n<i.length;n++){var o=i[n];for(var a in o)t[a]=o[a]}return t}var Da=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ba=["January","February","March","April","May","June","July","August","September","October","November","December"],ja=Oa(Ba,3),Ra={dayNamesShort:Oa(Da,3),dayNames:Da,monthNamesShort:ja,monthNames:Ba,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}},La=Na({},Ra),za=function(t){return La=Na(La,t)},Fa=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Ya=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},Ga={D:function(t){return String(t.getDate())},DD:function(t){return Ya(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return Ya(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return Ya(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return Ya(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return Ya(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return Ya(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return Ya(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return Ya(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return Ya(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return Ya(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return Ya(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+Ya(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+Ya(Math.floor(Math.abs(e)/60),2)+":"+Ya(Math.abs(e)%60,2)}},Xa=function(t){return+t-1},Va=[null,Ca],Ha=[null,Aa],qa=["isPm",Aa,function(t,e){var r=t.toLowerCase();return r===e.amPm[0]?0:r===e.amPm[1]?1:null}],Wa=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var r=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?r:-r}return 0}],Ua={D:["day",Ca],DD:["day",Pa],Do:["day","[1-9]\\d?[^\\s]+",function(t){return parseInt(t,10)}],M:["month",Ca,Xa],MM:["month",Pa,Xa],YY:["year",Pa,function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],h:["hour",Ca,void 0,"isPm"],hh:["hour",Pa,void 0,"isPm"],H:["hour",Ca],HH:["hour",Pa],m:["minute",Ca],mm:["minute",Pa],s:["second",Ca],ss:["second",Pa],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond",Pa,function(t){return 10*+t}],SSS:["millisecond","\\d{3}"],d:Va,dd:Va,ddd:Ha,dddd:Ha,MMM:["month",Aa,Ta("monthNamesShort")],MMMM:["month",Aa,Ta("monthNames")],a:qa,A:qa,ZZ:Wa,Z:Wa},Za={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Ka=function(t){return Na(Za,t)},$a=function(t,e,r){if(void 0===e&&(e=Za.default),void 0===r&&(r={}),"number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");var n=[];e=(e=Za[e]||e).replace(Ia,(function(t,e){return n.push(e),"@@@"}));var i=Na(Na({},La),r);return(e=e.replace(Ea,(function(e){return Ga[e](t,i)}))).replace(/@@@/g,(function(){return n.shift()}))};function Qa(t,e,r){if(void 0===r&&(r={}),"string"!=typeof e)throw new Error("Invalid format in fecha parse");if(e=Za[e]||e,t.length>1e3)return null;var n={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],a=e.replace(Ia,(function(t,e){return o.push(Fa(e)),"@@@"})),s={},u={};a=Fa(a).replace(Ea,(function(t){var e=Ua[t],r=e[0],n=e[1],o=e[3];if(s[r])throw new Error("Invalid format. "+r+" specified twice in format");return s[r]=!0,o&&(u[o]=!0),i.push(e),"("+n+")"})),Object.keys(u).forEach((function(t){if(!s[t])throw new Error("Invalid format. "+t+" is required in specified format")})),a=a.replace(/@@@/g,(function(){return o.shift()}));var h=t.match(new RegExp(a,"i"));if(!h)return null;for(var c=Na(Na({},La),r),l=1;l<h.length;l++){var f=i[l-1],d=f[0],p=f[2],g=p?p(h[l],c):+h[l];if(null==g)return null;n[d]=g}1===n.isPm&&null!=n.hour&&12!=+n.hour?n.hour=+n.hour+12:0===n.isPm&&12==+n.hour&&(n.hour=0);for(var v=new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond),y=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],m=(l=0,y.length);l<m;l++)if(s[y[l][0]]&&n[y[l][0]]!==v[y[l][1]]())return null;return null==n.timezoneOffset?v:new Date(Date.UTC(n.year,n.month,n.day,n.hour,n.minute-n.timezoneOffset,n.second,n.millisecond))}const Ja={format:$a,parse:Qa,defaultI18n:Ra,setGlobalDateI18n:za,setGlobalDateMasks:Ka};function ts(t,e){return(u.format||Ja.format)(t,e)}function es(t){return(0,at.isString)(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),(0,at.isDate)(t)&&(t=t.getTime()),t}var rs=1e3,ns=6e4,is=36e5,os=24*is,as=31*os,ss=365*os,us=[["HH:mm:ss",rs],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",ns],["HH:mm",6e5],["HH:mm",18e5],["HH",is],["HH",6*is],["HH",12*is],["YYYY-MM-DD",os],["YYYY-MM-DD",4*os],["YYYY-WW",7*os],["YYYY-MM",as],["YYYY-MM",4*as],["YYYY-MM",6*as],["YYYY",380*os]];function hs(t,e,r){var n,i=(n=function(t){return t[1]},function(t,e,r,i){for(var o=(0,at.isNil)(r)?0:r,a=(0,at.isNil)(i)?t.length:i;o<a;){var s=o+a>>>1;n(t[s])>e?a=s:o=s+1}return o})(us,(e-t)/r)-1,o=us[i];return i<0?o=us[0]:i>=us.length&&(o=(0,at.last)(us)),o}const cs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return(0,x.__extends)(e,t),e.prototype.translate=function(t){t=es(t);var e=this.values.indexOf(t);return-1===e&&(e=(0,at.isNumber)(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var r=this.translate(t);if(r>-1){var n=this.values[r],i=this.formatter;return n=i?i(n,e):ts(n,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;(0,at.each)(e,(function(t,r){e[r]=es(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(ka);const ls=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return(0,x.__extends)(e,t),e.prototype.scale=function(t){if((0,at.isNil)(t))return NaN;var e=this.rangeMin(),r=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(r-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,r=(0,at.head)(e),n=(0,at.last)(e);r<this.min&&(this.min=r),n>this.max&&(this.max=n),(0,at.isNil)(this.minLimit)||(this.min=r),(0,at.isNil)(this.maxLimit)||(this.max=n)},e.prototype.setDomain=function(){var t=(0,at.getRange)(this.values),e=t.min,r=t.max;(0,at.isNil)(this.min)&&(this.min=e),(0,at.isNil)(this.max)&&(this.max=r),this.min>this.max&&(this.min=e,this.max=r)},e.prototype.calculateTicks=function(){var e=this,r=t.prototype.calculateTicks.call(this);return this.nice||(r=(0,at.filter)(r,(function(t){return t>=e.min&&t<=e.max}))),r},e.prototype.getScalePercent=function(t){var e=this.max,r=this.min;return(t-r)/(e-r)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(_a);const fs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return(0,x.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(ls);function ds(t,e){var r=Math.E;return e>=0?Math.pow(r,Math.log(e)/t):-1*Math.pow(r,Math.log(-e)/t)}function ps(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function gs(t,e,r){(0,at.isNil)(r)&&(r=Math.max.apply(null,t));var n=r;return(0,at.each)(t,(function(t){t>0&&t<n&&(n=t)})),n===r&&(n=r/e),n>1&&(n=1),n}const vs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return(0,x.__extends)(e,t),e.prototype.invert=function(t){var e,r=this.base,n=ps(r,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===t)return 0;var s=1/(n-(e=ps(r,a/r)))*o;if(t<s)return t/s*a}else e=ps(r,this.min);var u=(t-i)/o*(n-e)+e;return Math.pow(r,u)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=gs(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,r=this.min;if(e===r)return 0;if(t<=0)return 0;var n=this.base,i=this.positiveMin;return i&&(r=1*i/n),t<i?t/i/(ps(n,e)-ps(n,r)):(ps(n,t)-ps(n,r))/(ps(n,e)-ps(n,r))},e}(ls);const ys=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return(0,x.__extends)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),r=this.exponent,n=ds(r,this.max),i=ds(r,this.min),o=e*(n-i)+i,a=o>=0?1:-1;return Math.pow(o,r)*a},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,r=this.min;if(e===r)return 0;var n=this.exponent;return(ds(n,t)-ds(n,r))/(ds(n,e)-ds(n,r))},e}(ls);const ms=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return(0,x.__extends)(e,t),e.prototype.getText=function(t,e){var r=this.translate(t),n=this.formatter;return n?n(r,e):ts(r,this.mask)},e.prototype.scale=function(e){var r=e;return((0,at.isString)(r)||(0,at.isDate)(r))&&(r=this.translate(r)),t.prototype.scale.call(this,r)},e.prototype.translate=function(t){return es(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),r=this.getConfig("max");if((0,at.isNil)(e)&&(0,at.isNumber)(e)||(this.min=this.translate(this.min)),(0,at.isNil)(r)&&(0,at.isNumber)(r)||(this.max=this.translate(this.max)),t&&t.length){var n=[],i=1/0,o=i,a=0;(0,at.each)(t,(function(t){var e=es(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");i>e?(o=i,i=e):o>e&&(o=e),a<e&&(a=e),n.push(e)})),t.length>1&&(this.minTickInterval=o-i),(0,at.isNil)(e)&&(this.min=i),(0,at.isNil)(r)&&(this.max=a)}},e}(fs);const xs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return(0,x.__extends)(e,t),e.prototype.invert=function(t){var e=this.ticks,r=e.length,n=this.getInvertPercent(t),i=Math.floor(n*(r-1));if(i>=r-1)return(0,at.last)(e);if(i<0)return(0,at.head)(e);var o=e[i],a=i/(r-1);return o+(n-a)/((i+1)/(r-1)-a)*(e[i+1]-o)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||((0,at.last)(e)!==this.max&&e.push(this.max),(0,at.head)(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<(0,at.head)(e))return 0;if(t>(0,at.last)(e))return 1;var r=0;return(0,at.each)(e,(function(e,n){if(!(t>=e))return!1;r=n})),r/(e.length-1)},e}(ls);const bs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return(0,x.__extends)(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(xs);var ws={};function Ms(t,e){if(function(t){return ws[t]}(t))throw new Error("type '"+t+"' existed.");ws[t]=e}const Ss=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return(0,x.__extends)(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&(0,at.isNumber)(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(_a);var _s=[1,5,2,2.5,4,3],ks=100*Number.EPSILON;function Es(t,e,r,n,i,o){var a=(0,at.size)(e),s=(0,at.indexOf)(e,t),u=0,h=function(t,e){return(t%e+e)%e}(n,o);return(h<ks||o-h<ks)&&n<=0&&i>=0&&(u=1),1-s/(a-1)-r+u}function Cs(t,e,r){var n=(0,at.size)(e);return 1-(0,at.indexOf)(e,t)/(n-1)-r+1}function Ps(t,e,r,n,i,o){var a=(t-1)/(o-i),s=(e-1)/(Math.max(o,n)-Math.min(r,i));return 2-Math.max(a/s,s/a)}function As(t,e){return t>=e?2-(t-1)/(e-1):1}function Is(t,e,r,n){var i=e-t;return 1-.5*(Math.pow(e-n,2)+Math.pow(t-r,2))/Math.pow(.1*i,2)}function Os(t,e,r){var n=e-t;if(r>n){var i=(r-n)/2;return 1-Math.pow(i,2)/Math.pow(.1*n,2)}return 1}function Ts(t,e,r,n,i,o){if(void 0===r&&(r=5),void 0===n&&(n=!0),void 0===i&&(i=_s),void 0===o&&(o=[.25,.2,.5,.05]),"number"!=typeof t||"number"!=typeof e)return{min:0,max:0,ticks:[]};if(t===e||1===r)return{min:t,max:e,ticks:[t]};for(var a={score:-2,lmin:0,lmax:0,lstep:0},s=1;s<1/0;){for(var u=0,h=i;u<h.length;u++){var c=h[u],l=Cs(c,i,s);if(Number.isNaN(l))throw new Error("NaN");if(o[0]*l+o[1]+o[2]+o[3]<a.score){s=1/0;break}for(var f=2;f<1/0;){var d=As(f,r);if(o[0]*l+o[1]+o[2]*d+o[3]<a.score)break;for(var p=(e-t)/(f+1)/s/c,g=Math.ceil(Math.log10(p));g<1/0;){var v=s*c*Math.pow(10,g),y=Os(t,e,v*(f-1));if(o[0]*l+o[1]*y+o[2]*d+o[3]<a.score)break;var m=Math.floor(e/v)*s-(f-1)*s,x=Math.ceil(t/v)*s;if(m>x)g+=1;else{for(var b=m;b<=x;b+=1){var w=b*(v/s),M=w+v*(f-1),S=v,_=Es(c,i,s,w,M,S),k=Is(t,e,w,M),E=Ps(f,r,t,e,w,M),C=o[0]*_+o[1]*k+o[2]*E+1*o[3];C>a.score&&(!n||w<=t&&M>=e)&&(a.lmin=w,a.lmax=M,a.lstep=S,a.score=C)}g+=1}}f+=1}}s+=1}for(var P=Number.isInteger(a.lstep)?0:Math.ceil(Math.abs(Math.log10(a.lstep))),A=[],I=a.lmin;I<=a.lmax;I+=a.lstep)A.push(I);var O=P?(0,at.map)(A,(function(t){return Number.parseFloat(t.toFixed(P))})):A;return{min:Math.min(t,(0,at.head)(O)),max:Math.max(e,(0,at.last)(O)),ticks:O}}function Ns(t){var e=t.values,r=t.tickInterval,n=t.tickCount,i=e;if((0,at.isNumber)(r))return(0,at.filter)(i,(function(t,e){return e%r==0}));var o=t.min,a=t.max;if((0,at.isNil)(o)&&(o=0),(0,at.isNil)(a)&&(a=e.length-1),(0,at.isNumber)(n)&&n<a-o){var s=Ts(o,a,n,!1,[1,2,5,3,4,7,6,8,9]).ticks;return(0,at.filter)(s,(function(t){return t>=o&&t<=a})).map((function(t){return e[t]}))}return e.slice(o,a+1)}var Ds=Math.sqrt(50),Bs=Math.sqrt(10),js=Math.sqrt(2),Rs=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,r;void 0===t&&(t=5);var n,i=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],u=this._domain[a];return u<s&&(s=(e=[u,s])[0],u=e[1],o=(r=[a,o])[0],a=r[1]),(n=Ls(s,u,t))>0?n=Ls(s=Math.floor(s/n)*n,u=Math.ceil(u/n)*n,t):n<0&&(n=Ls(s=Math.ceil(s*n)/n,u=Math.floor(u*n)/n,t)),n>0?(i[o]=Math.floor(s/n)*n,i[a]=Math.ceil(u/n)*n,this.domain(i)):n<0&&(i[o]=Math.ceil(s*n)/n,i[a]=Math.floor(u*n)/n,this.domain(i)),this},t.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,r){var n,i,o,a,s=-1;if(r=+r,(t=+t)===(e=+e)&&r>0)return[t];(n=e<t)&&(i=t,t=e,e=i);if(0===(a=Ls(t,e,r))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;n&&o.reverse();return o}(this._domain[0],this._domain[this._domain.length-1],t||5)},t}();function Ls(t,e,r){var n=(e-t)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,i);return i>=0?(o>=Ds?10:o>=Bs?5:o>=js?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ds?10:o>=Bs?5:o>=js?2:1)}function zs(t,e,r){return("ceil"===r?Math.ceil(t/e):"floor"===r?Math.floor(t/e):Math.round(t/e))*e}function Fs(t,e,r){var n=zs(t,r,"floor"),i=zs(e,r,"ceil");n=(0,at.fixedBase)(n,r),i=(0,at.fixedBase)(i,r);for(var o=[],a=n;a<=i;a+=r){var s=(0,at.fixedBase)(a,r);o.push(s)}return{min:n,max:i,ticks:o}}function Ys(t,e,r){var n,i=t.minLimit,o=t.maxLimit,a=t.min,s=t.max,u=t.tickCount,h=void 0===u?5:u,c=(0,at.isNil)(i)?(0,at.isNil)(e)?a:e:i,l=(0,at.isNil)(o)?(0,at.isNil)(r)?s:r:o;if(c>l&&(l=(n=[c,l])[0],c=n[1]),h<=2)return[c,l];for(var f=(l-c)/(h-1),d=[],p=0;p<h;p++)d.push(c+f*p);return d}function Gs(t,e,r){void 0===r&&(r=5);var n={max:0,min:0,ticks:[]};if(t===e)return{max:e,min:t,ticks:[t]};var i=(e-t)/r,o=Math.pow(10,Math.floor(Math.log10(i))),a=o<1?Math.ceil(Math.abs(Math.log10(o))):0,s=o;2*o-i<1.5*(i-s)&&5*o-i<2.75*(i-(s=2*o))&&10*o-i<1.5*(i-(s=5*o))&&(s=10*o);var u=Math.ceil(e/s),h=Math.floor(t/s);n.max=Math.max(u*s,e),n.min=Math.min(h*s,t);for(var c=Number.parseFloat((h*s).toFixed(a));c<e;)n.ticks.push(c),c+=s,a&&(c=Number.parseFloat(c.toFixed(a)));return n.ticks.push(c),n}function Xs(t,e){var r=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:r%1!=0?t[Math.ceil(r)-1]:t.length%2==0?(t[r-1]+t[r])/2:t[r]}function Vs(t){return new Date(t).getFullYear()}function Hs(t){return new Date(t,0,1).getTime()}function qs(t){return new Date(t).getMonth()}function Ws(t,e){return new Date(t,e,1).getTime()}Sa("cat",Ns),Sa("time-cat",(function(t){var e=Ns(t),r=(0,at.last)(t.values);return r!==(0,at.last)(e)&&e.push(r),e})),Sa("wilkinson-extended",(function(t){var e=t.min,r=t.max,n=t.tickCount,i=t.nice,o=t.tickInterval,a=t.minLimit,s=t.maxLimit,u=Ts(e,r,n,i).ticks;return(0,at.isNil)(a)&&(0,at.isNil)(s)?o?Fs(e,r,o).ticks:u:Ys(t,(0,at.head)(u),(0,at.last)(u))})),Sa("r-pretty",(function(t){var e=t.min,r=t.max,n=t.tickCount,i=t.tickInterval,o=t.minLimit,a=t.maxLimit,s=Gs(e,r,n).ticks;return(0,at.isNil)(o)&&(0,at.isNil)(a)?i?Fs(e,r,i).ticks:s:Ys(t,(0,at.head)(s),(0,at.last)(s))})),Sa("time",(function(t){var e=t.min,r=t.max,n=t.minTickInterval,i=t.tickInterval,o=t.tickCount;if(i)o=Math.ceil((r-e)/i);else{var a=(r-e)/(i=hs(e,r,o)[1])/o;a>1&&(i*=Math.ceil(a)),n&&i<n&&(i=n)}for(var s=[],u=e;u<r+i;u+=i)s.push(u);return s})),Sa("time-pretty",(function(t){var e=t.min,r=t.max,n=t.minTickInterval,i=t.tickCount,o=t.tickInterval,a=[];o||(o=(r-e)/i,n&&o<n&&(o=n));var s=Vs(e);if(o>ss)for(var u=Vs(r),h=Math.ceil(o/ss),c=s;c<=u+h;c+=h)a.push(Hs(c));else if(o>as){var l=Math.ceil(o/as),f=qs(e),d=function(t,e){var r=Vs(t),n=Vs(e),i=qs(t);return 12*(n-r)+(qs(e)-i)%12}(e,r);for(c=0;c<=d+l;c+=l)a.push(Ws(s,c+f))}else if(o>os){var p=(x=new Date(e)).getFullYear(),g=x.getMonth(),v=x.getDate(),y=Math.ceil(o/os),m=function(t,e){return Math.ceil((e-t)/os)}(e,r);for(c=0;c<m+y;c+=y)a.push(new Date(p,g,v+c).getTime())}else if(o>is){p=(x=new Date(e)).getFullYear(),g=x.getMonth(),y=x.getDate();var x,b=x.getHours(),w=Math.ceil(o/is),M=function(t,e){return Math.ceil((e-t)/is)}(e,r);for(c=0;c<=M+w;c+=w)a.push(new Date(p,g,y,b+c).getTime())}else if(o>ns){var S=function(t,e){return Math.ceil((e-t)/6e4)}(e,r),_=Math.ceil(o/ns);for(c=0;c<=S+_;c+=_)a.push(e+c*ns)}else{var k=o;k<rs&&(k=rs);var E=Math.floor(e/rs)*rs,C=Math.ceil((r-e)/rs),P=Math.ceil(k/rs);for(c=0;c<C+P;c+=P)a.push(E+c*rs)}return a.length>=512&&console.warn("Notice: current ticks length("+a.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+o+") is too small, increase the value to solve the problem!"),a})),Sa("log",(function(t){var e,r=t.base,n=t.tickCount,i=t.min,o=t.max,a=t.values,s=ps(r,o);if(i>0)e=Math.floor(ps(r,i));else{var u=gs(a,r,o);e=Math.floor(ps(r,u))}for(var h=s-e,c=Math.ceil(h/n),l=[],f=e;f<s+c;f+=c)l.push(Math.pow(r,f));return i<=0&&l.unshift(0),l})),Sa("pow",(function(t){var e=t.exponent,r=t.tickCount,n=Math.ceil(ds(e,t.max));return Gs(Math.floor(ds(e,t.min)),n,r).ticks.map((function(t){var r=t>=0?1:-1;return Math.pow(t,e)*r}))})),Sa("quantile",(function(t){var e=t.tickCount,r=t.values;if(!r||!r.length)return[];for(var n=r.slice().sort((function(t,e){return t-e})),i=[],o=0;o<e;o++){var a=o/(e-1);i.push(Xs(n,a))}return i})),Sa("d3-linear",(function(t){var e=t.min,r=t.max,n=t.tickInterval,i=t.minLimit,o=t.maxLimit,a=function(t){var e=t.min,r=t.max,n=t.nice,i=t.tickCount,o=new Rs;return o.domain([e,r]),n&&o.nice(i),o.ticks(i)}(t);return(0,at.isNil)(i)&&(0,at.isNil)(o)?n?Fs(e,r,n).ticks:a:Ys(t,(0,at.head)(a),(0,at.last)(a))})),Ms("cat",ka),Ms("category",ka),Ms("identity",Ss),Ms("linear",fs),Ms("log",vs),Ms("pow",ys),Ms("time",ms),Ms("timeCat",cs),Ms("quantize",xs),Ms("quantile",bs);var Us=r(2005);function Zs(t){return function(t){return(0,at.map)(t,(function(t,e){return[0===e?"M":"L",t[0],t[1]]}))}(t)}function Ks(t,e,r,n){void 0===n&&(n=!0);var i=new fs({values:t}),o=new ka({values:(0,at.map)(t,(function(t,e){return e}))}),a=(0,at.map)(t,(function(t,n){return[o.scale(n)*e,r-i.scale(t)*r]}));return n?function(t){if(t.length<=2)return Zs(t);var e=[];(0,at.each)(t,(function(t){(0,at.isEqual)(t,e.slice(e.length-2))||e.push(t[0],t[1])}));var r=ue(e,!1),n=(0,at.head)(t),i=n[0],o=n[1];return r.unshift(["M",i,o]),r}(a):Zs(a)}function $s(t,e,r){for(var n=new fs({values:t}),i=new ka({values:(0,at.map)(t,(function(t,e){return e}))}),o=(0,at.map)(t,(function(t,o){return[i.scale(o)*e,r-n.scale(t)*r]})),a=[],s=0;s<o.length;s++){var u=o[s],h=Js({x:u[0],y:u[1],y0:r,size:5});a.push.apply(a,h)}return function(t,e){void 0===e&&(e=!0);var r=[],n=t[0];r.push(["M",n.x,n.y]);for(var i=1,o=t.length;i<o;i++)r.push(["L",t[i].x,t[i].y]);e&&(r.push(["L",n.x,n.y]),r.push(["z"]));return r}(a)}function Qs(t,e,r,n){var i=(0,x.__spreadArrays)(t),o=function(t,e){var r=new fs({values:t}),n=Math.max(0,r.min);return e-r.scale(n)*e}(n,r);return i.push(["L",e,o]),i.push(["L",0,o]),i.push(["Z"]),i}function Js(t){var e,r,n,i,o=t.x,a=t.y,s=t.y0,u=t.size;(0,Us.isArray)(a)?(e=a[0],r=a[1]):(e=s,r=a),(0,Us.isArray)(o)?(n=o[0],i=o[1]):(n=o-u/2,i=o+u/2);var h=[{x:n,y:e},{x:n,y:r}];return h.push({x:i,y:r},{x:i,y:e}),h}var tu={stroke:"#C5C5C5",strokeOpacity:.85},eu={fill:"#CACED4",opacity:.85};const ru=function(){function t(t){var e=t.x,r=void 0===e?0:e,n=t.y,i=void 0===n?0:n,o=t.width,a=void 0===o?200:o,s=t.height,u=void 0===s?26:s,h=t.smooth,c=void 0===h||h,l=t.isArea,f=void 0!==l&&l,d=t.data,p=void 0===d?[]:d,g=t.lineStyle,v=t.areaStyle,y=t.group,m=t.interval,x=void 0===m?null:m;this.group=y,this.x=r,this.y=i,this.width=a,this.height=u,this.data=p,this.smooth=c,this.isArea=f,this.lineStyle=Object.assign({},tu,g),this.areaStyle=Object.assign({},eu,v),this.intervalConfig=x,this.renderLine()}return t.prototype.renderLine=function(){var t=this,e=t.x,r=t.y,n=t.width,i=t.height,o=t.data,a=t.smooth,s=t.isArea,u=(t.backgroundStyle,t.lineStyle),h=t.areaStyle,c=this.group.addGroup({name:"trend-group"});if(o){var l=Ks(o,n,i,a);if(c.addShape("path",{attrs:(0,x.__assign)({path:l},u)}),s){var f=Qs(l,n,i,o);c.addShape("path",{attrs:(0,x.__assign)({path:f},h)})}}this.intervalConfig&&c.addShape("path",{attrs:(0,x.__assign)({path:$s(this.intervalConfig.data,n,i)},this.intervalConfig.style)}),c.move(e,r)},t.prototype.destory=function(){this.group.destroy()},t}();var nu={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},iu={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"};const ou=function(){function t(t){var e=t.group,r=t.name,n=t.type,i=t.x,o=void 0===i?0:i,a=t.y,s=void 0===a?0:a,u=t.width,h=void 0===u?2:u,c=t.height,l=void 0===c?24:c,f=t.style,d=void 0===f?{}:f;this.group=e,this.name=r,this.handleType=n,this.x=o,this.y=s,this.width=h,this.height=l,"trend"===n?this.style=(0,x.__assign)((0,x.__assign)({},nu),d):"simple"===n&&(this.style=(0,x.__assign)((0,x.__assign)({},iu),d)),this.renderHandle()}return t.prototype.setX=function(t){this.setXY(t,void 0)},t.prototype.setY=function(t){this.setXY(void 0,t)},t.prototype.setXY=function(t,e){(0,at.isNumber)(t)&&(this.x=t),(0,at.isNumber)(e)&&(this.y=e),this.updateXY()},t.prototype.renderHandle=function(){var t=this,e=t.width,r=t.height,n=t.style,i=t.name,o=n.fill,a=n.stroke,s=n.radius,u=n.opacity,h=n.cursor;this.handleGroup=this.group.addGroup(),"trend"===this.handleType?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:e,height:r,fill:o,stroke:a,radius:s,opacity:u,cursor:h},name:i+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:e/2,y:0,r:2*e,fill:o,stroke:a,radius:s,opacity:u,cursor:h},name:i+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:e/2,y:r,r:2*e,fill:o,stroke:a,radius:s,opacity:u,cursor:h},name:i+"-handler"})):"simple"===this.handleType&&(this.handleGroup.addShape("circle",{attrs:{x:e/2,y:r/2,r:2*e,fill:o,stroke:a,radius:s,opacity:u,cursor:h},name:i+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:e/2,y:r/2,r:2*e,fill:o,stroke:a,radius:s,opacity:u,cursor:h},name:i+"-handler"})),this.updateXY(),"trend"===this.handleType&&this.bindEvents()},t.prototype.bindEvents=function(){var t=this,e=this.name;this.handleGroup.on(e+"-handler:mouseenter",(function(){var e=t.style.highLightFill;t.background.attr("fill",e)})),this.handleGroup.on(e+"-handler:mouseleave",(function(){var e=t.style.fill;t.background.attr("fill",e)}))},t.prototype.show=function(){this.handleGroup.show()},t.prototype.hide=function(){this.handleGroup.hide()},t.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},t}();const au=function(){function t(t){this.config=(0,at.deepMix)({},t),this.init()}return t.prototype.update=function(t){this.config=(0,at.deepMix)({},this.config,t),this.updateElement(),this.renderMarker()},t.prototype.init=function(){this.initElement(),this.renderMarker()},t.prototype.initElement=function(){var t=this.config,e=t.group,r=t.style;this.circle=e.addShape("circle",{attrs:(0,x.__assign)({x:this.config.x,y:this.config.y,r:this.config.r},r)}),this.startMarker=e.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=e.addGroup();var n=1/4*this.config.r,i=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-i/2,width:2.5*n,height:i,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-i/2,width:n,height:i,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-i/2,width:n,height:i,fill:"#ccc"},name:"playPauseBtn"})},t.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-.375*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},t.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},t.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},t}();var su={fill:"#607889",stroke:"#607889"},uu={fill:"#fff"},hu={fill:"green"},cu={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},lu=110,fu=50;const du=function(){function t(t){this.controllerCfg=(0,at.deepMix)({},cu,t),this.group=t.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return t.prototype.init=function(){this.renderPlayButton()},t.prototype.getNextMarkerPath=function(t,e,r){return[["M",t,e-r],["L",t+r,e],["L",t,e+r]]},t.prototype.getPreMarkerPath=function(t,e,r){return[["M",t,e-r],["L",t-r,e],["L",t,e+r]]},t.prototype.renderPlayButton=function(){var t=this.controllerCfg,e=t.width,r=t.height,n=t.x,i=t.y,o=t.hiddleToggle,a=t.fill,s=void 0===a?"#ccc":a,u=t.stroke,h=void 0===u?"green":u,c=t.playBtnStyle,l=void 0===c?su:c,f=t.preBtnStyle,d=void 0===f?uu:f,p=t.nextBtnStyle,g=void 0===p?hu:p,v=r/2-5,y=i+10,m=this.group.addShape("rect",{attrs:{x:n,y,width:e,height:r,stroke:h,fill:s},name:"container-rect"});this.playButton?this.playButton.update({x:e/2,y,r:v}):this.playButton=new au({group:this.group,x:e/2,y:y+v+5,r:v,isPlay:this.isPlay,style:l}),this.group.addShape("path",{attrs:(0,x.__assign)({path:this.getPreMarkerPath(e/2-5*v,y+v+5,.5*v)},d),name:"preStepBtn"}),this.group.addShape("path",{attrs:(0,x.__assign)({path:this.getPreMarkerPath(e/2-4.5*v,y+v+5,.5*v)},d),name:"preStepBtn"}),this.group.addShape("path",{attrs:(0,x.__assign)({path:this.getNextMarkerPath(e/2+5*v,y+v+5,.5*v)},g),name:"nextStepBtn"}),this.group.addShape("path",{attrs:(0,x.__assign)({path:this.getNextMarkerPath(e/2+4.5*v,y+v+5,.5*v)},g),name:"nextStepBtn"}),m.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent()},t.prototype.renderSpeedBtn=function(){var t=this.controllerCfg,e=t.y,r=t.width,n=t.hiddleToggle,i=this.group.addGroup({name:"speed-group"});this.speedGroup=i;for(var o=1,a=[],s=9,u=0;u<5;u++){var h=e+15+u*(u+1)+o;i.addShape("rect",{attrs:{x:r-(n?fu:lu),y:h,width:15,height:2,fill:"#ccc"},speed:s,name:"speed-rect"}),this.speedAxisY.push(h),a.push(s),s-=2,o++}for(u=0;u<4;u++)i.addShape("rect",{attrs:{x:r-(n?fu:lu),y:this.speedAxisY[u]+2,width:15,height:2*u+1,fill:"#fff",opacity:.3},speed:a[u]-1,name:"speed-rect"});this.speedText=i.addShape("text",{attrs:{x:r-(n?fu:lu)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=i.addShape("path",{attrs:{path:this.getPath(r-(n?fu:lu),this.speedAxisY[4]),fill:"#ccc"}})},t.prototype.getPath=function(t,e){return[["M",t,e],["L",t-12,e-6],["L",t-12,e+6],["Z"]]},t.prototype.renderToggleTime=function(){var t=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:t-fu,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",t-fu+3,this.speedAxisY[1]+6],["L",t-fu+7,this.speedAxisY[1]+10],["L",t-fu+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"单一时间",x:t-fu+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},t.prototype.bindEvent=function(){var t=this,e=this.controllerCfg,r=e.width,n=e.hiddleToggle;this.speedGroup.on("speed-rect:click",(function(e){t.speedPoint.attr("path",t.getPath(r-(n?fu:lu),e.y)),t.currentSpeed=e.target.get("speed"),t.speedText.attr("text",t.currentSpeed+".0X"),t.group.emit("timebarConfigChanged",{speed:t.currentSpeed,type:t.currentType})})),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",(function(e){var r=e.target.get("isChecked");r?(t.checkedIcon.hide(),t.checkedText.attr("text","单一时间"),t.currentType="range"):(t.checkedIcon.show(),t.checkedText.attr("text","时间范围"),t.currentType="single"),e.target.set("isChecked",!r),t.group.emit("timebarConfigChanged",{type:t.currentType,speed:t.currentSpeed})}))},t.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},t}();var pu="timelinestart",gu="timelineend",vu="valueChange",yu="timebarConfigChanged",mu={fill:"#416180",opacity:.05},xu={fill:"#416180",opacity:.15,radius:5},bu={fill:"#5B8FF9",opacity:.3,cursor:"move"},wu={width:2,height:24},Mu={textBaseline:"middle",fill:"#000",opacity:.45};const Su=function(){function t(t){var e=this;this.prevX=0,this.onMouseDown=function(t){return function(r){e.currentHandler=t;var n=r.originalEvent;n.stopPropagation(),n.preventDefault(),e.prevX=(0,at.get)(n,"touches.0.pageX",n.pageX);var i=e.canvas.get("container");i.addEventListener("mousemove",e.onMouseMove),i.addEventListener("mouseup",e.onMouseUp),i.addEventListener("mouseleave",e.onMouseUp),i.addEventListener("touchmove",e.onMouseMove),i.addEventListener("touchend",e.onMouseUp),i.addEventListener("touchcancel",e.onMouseUp)}},this.onMouseMove=function(t){t.stopPropagation(),t.preventDefault();var r=(0,at.get)(t,"touches.0.pageX",t.pageX),n=r-e.prevX,i=e.adjustOffsetRange(n/e.width);e.updateStartEnd(i),e.updateUI(),e.prevX=r},this.onMouseUp=function(){e.currentHandler&&(e.currentHandler=void 0);var t=e.canvas.get("container");t&&(t.removeEventListener("mousemove",e.onMouseMove),t.removeEventListener("mouseup",e.onMouseUp),t.removeEventListener("mouseleave",e.onMouseUp),t.removeEventListener("touchmove",e.onMouseMove),t.removeEventListener("touchend",e.onMouseUp),t.removeEventListener("touchcancel",e.onMouseUp))};var r=t.x,n=void 0===r?0:r,i=t.y,o=void 0===i?0:i,a=t.width,s=void 0===a?100:a,u=t.height,h=t.padding,c=void 0===h?10:h,l=t.trendCfg,f=t.controllerCfg,d=void 0===f?{speed:1}:f,p=t.backgroundStyle,g=void 0===p?{}:p,v=t.foregroundStyle,y=void 0===v?{}:v,m=t.handlerStyle,b=void 0===m?{}:m,w=t.textStyle,M=void 0===w?{}:w,S=t.start,_=void 0===S?0:S,k=t.end,E=void 0===k?1:k,C=t.minText,P=void 0===C?"":C,A=t.maxText,I=void 0===A?"":A,O=t.group,T=t.graph,N=t.canvas,D=t.ticks,B=t.type;this.graph=T,this.canvas=N,this.group=O,this.timeBarType=B,this.x=n,this.y=o,this.width=s,this.height=u,this.padding=c,this.ticks=D,this.trendCfg=l,this.controllerCfg=d,this.currentSpeed=d.speed,"trend"===B?this.backgroundStyle=(0,x.__assign)((0,x.__assign)({},mu),g):"simple"===B&&(this.backgroundStyle=(0,x.__assign)((0,x.__assign)({},xu),g)),this.foregroundStyle=(0,x.__assign)((0,x.__assign)({},bu),y),this.handlerStyle=(0,x.__assign)((0,x.__assign)({},wu),b),this.textStyle=(0,x.__assign)((0,x.__assign)({},Mu),M),this.currentMode="range",this.start=_,this.end=E,this.minText=P,this.maxText=I,this.renderSlider()}return t.prototype.update=function(t){var e=t.x,r=t.y,n=t.width,i=t.height,o=t.minText,a=t.maxText,s=t.start,u=t.end;this.start=Math.min(1,Math.max(s,0)),this.end=Math.min(1,Math.max(u,0)),(0,at.assign)(this,{x:e,y:r,width:n,height:i,minText:o,maxText:a}),this.updateUI()},t.prototype.setText=function(t,e){this.minTextShape.attr("text",t),this.maxTextShape.attr("text",e)},t.prototype.renderSlider=function(){var t=this,e=this,r=e.width,n=e.height,i=e.timeBarType;if("trend"===i&&(0,at.size)((0,at.get)(this.trendCfg,"data"))){var o=new ru((0,x.__assign)((0,x.__assign)({x:this.x,y:this.y,width:r,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var a=this.group.addGroup({name:"slider-group"});a.addShape("rect",{attrs:(0,x.__assign)({x:0,y:0,width:r,height:n},this.backgroundStyle)});var s=this.group.addGroup();"trend"===i?(this.minTextShape=s.addShape("text",{attrs:(0,x.__assign)({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=s.addShape("text",{attrs:(0,x.__assign)({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=s.addShape("text",{attrs:(0,x.__assign)({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=s.addShape("text",{attrs:(0,x.__assign)({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:(0,x.__assign)({x:0,y:this.y,height:n},this.foregroundStyle)});var u=(0,at.get)(this.handlerStyle,"width",2),h=(0,at.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new ou((0,x.__assign)({name:"minHandlerShape",group:c,type:i,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var l=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new ou((0,x.__assign)({name:"maxHandlerShape",group:l,type:i,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var f=this.ticks,d=r/(f.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach((function(t){t.destroy()}));var p=-1/0;this.textList=f.map((function(e,r){t.tickPosList.push(t.x+r*d);var i=t.group.addShape("text",{attrs:{x:t.x+r*d,y:t.y+n+5,text:e,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),o=t.group.addShape("line",{attrs:{x1:t.x+r*d,y1:t.y+n+2,x2:t.x+r*d,y2:t.y+n+6,lineWidth:1,stroke:"#ccc"}}),a=i.getBBox();return a.minX>p?(i.show(),o.show(),p=a.minX+a.width+10):(i.hide(),o.hide()),i})),this.controllerBtnGroup=new du({group:this.group,x:this.x,y:this.y+n+25,width:r,height:40}),this.updateUI(),a.move(this.x,this.y),this.bindEvents()},t.prototype.bindEvents=function(){var t=this,e=this.group.find((function(t){return"minHandlerShape"===t.get("name")}));e&&(e.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),e.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var r=this.group.find((function(t){return"maxHandlerShape"===t.get("name")}));r&&(r.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),r.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("playPauseBtn:click",(function(){t.isPlay=!t.isPlay,t.currentHandler=t.maxHandlerShape,t.changePlayStatus()})),this.group.on("nextStepBtn:click",(function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(.01),t.updateUI()})),this.group.on("preStepBtn:click",(function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(-.01),t.updateUI()})),this.group.on(yu,(function(e){var r=e.type,n=e.speed;t.currentSpeed=n,t.currentMode=r,"single"===r?(t.minHandlerShape.hide(),t.foregroundShape.hide(),t.minTextShape.hide()):"range"===r&&(t.minHandlerShape.show(),t.foregroundShape.show(),t.minTextShape.show())}))},t.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},t.prototype.adjustOffsetRange=function(t){switch(this.currentHandler){case this.minHandlerShape:var e=0-this.start,r=1-this.start;return Math.min(r,Math.max(e,t));case this.maxHandlerShape:e=0-this.end,r=1-this.end;return Math.min(r,Math.max(e,t));case this.foregroundShape:e=0-this.start,r=1-this.end;return Math.min(r,Math.max(e,t));default:return 0}},t.prototype.updateStartEnd=function(t){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=t,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=t,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=t,this.end+=t,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)]}},t.prototype.updateUI=function(){var t=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var e=this.start*this.width,r=this.end*this.width;this.foregroundShape.attr("x",e),this.foregroundShape.attr("width",r-e);var n=(0,at.get)(this.handlerStyle,"width",2);this.setText(this.minText,this.maxText);var i=this.dodgeText([e,r]),o=i[0],a=i[1];this.minHandlerShape.setX(e-n/2),(0,at.each)(o,(function(e,r){return t.minTextShape.attr(r,e)})),this.maxHandlerShape.setX(r-n/2),(0,at.each)(a,(function(e,r){return t.maxTextShape.attr(r,e)})),"range"===this.currentMode?this.graph.emit(vu,{value:[this.start,this.end].sort()}):"single"===this.currentMode&&this.graph.emit(vu,{value:[this.end,this.end]})},t.prototype.dodgeText=function(t){var e,r,n=(0,at.get)(this.handlerStyle,"width",2),i=this.minTextShape,o=this.maxTextShape,a=t[0],s=t[1],u=!1;a>s&&(a=(e=[s,a])[0],s=e[1],i=(r=[o,i])[0],o=r[1],u=!0);var h=i.getBBox(),c=o.getBBox(),l=null,f=null;return"trend"===this.timeBarType?(l=h.width>a-2?{x:a+n/2+2,textAlign:"left"}:{x:a-n/2-2,textAlign:"right"},f=c.width>this.width-s-2?{x:s-n/2-2,textAlign:"right"}:{x:s+n/2+2,textAlign:"left"}):"simple"===this.timeBarType&&(l=h.width>a-2?{x:a+n/2+2,textAlign:"center"}:{x:a-n/2-2,textAlign:"center"},f=c.width>this.width-s-2?{x:s-n/2-2,textAlign:"center"}:{x:s+n/2+2,textAlign:"center"}),u?[f,l]:[l,f]},t.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame((function(){var e=t,r=e.ticks,n=e.width,i=t.currentSpeed,o=n/r.length/(1e3*(10-i)/60),a=t.adjustOffsetRange(o/t.width);t.updateStartEnd(a),t.updateUI(),t.isPlay&&(t.playHandler=t.startPlay())}))},t.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(pu,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit(gu,null))},t.prototype.destory=function(){this.graph.off(vu);var t=this.group,e=t.find((function(t){return"minHandlerShape"===t.get("name")}));e&&(e.off("minHandlerShape-handler:mousedown"),e.off("minHandlerShape-handler:touchstart"),e.destroy());var r=t.find((function(t){return"maxHandlerShape"===t.get("name")}));r&&(r.off("maxHandlerShape-handler:mousedown"),r.off("maxHandlerShape-handler:touchstart"),r.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),t.off("playPauseBtn:click"),t.off("nextStepBtn:click"),t.off("preStepBtn:click"),t.off(yu),t.destroy(),this.trendComponent&&this.trendComponent.destory()},t}();const _u=function(){function t(t){var e=t.x,r=void 0===e?0:e,n=t.y,i=void 0===n?0:n,o=t.container,a=t.text,s=t.padding,u=void 0===s?[4,4,4,4]:s,h=t.className,c=void 0===h?"g6-component-timebar-tooltip":h,l=t.backgroundColor,f=void 0===l?"#000":l,d=t.textColor,p=void 0===d?"#fff":d,g=t.opacity,v=void 0===g?.8:g,y=t.fontSize,m=void 0===y?12:y;this.container=o,this.className=c,this.backgroundColor=f,this.textColor=p,this.x=r,this.y=i,this.text=a,this.padding=u,this.opacity=v,this.fontSize=m,this.render()}return t.prototype.render=function(){var t=this,e=t.className,r=(t.x,t.y,t.backgroundColor),n=t.textColor,i=t.text,o=t.padding,a=t.opacity,s=t.fontSize,u=t.container,h=(0,ft.Z)("<div class='"+e+"' style=\"position: absolute; width: fit-content; height: fit-content; opacity: "+a+'"></div>');(0,at.isString)(u)&&(u=document.getElementById(u)),u.appendChild(h),t.parentHeight=u.offsetHeight,t.parentWidth=u.offsetWidth,(0,lt.Z)(h,{visibility:"hidden",top:0,left:0});var c=(0,ft.Z)("\n      <div style='position: absolute; white-space:nowrap; background-color: "+r+"; font-size: "+s+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+n+"; padding: "+o[0]+"px "+o[1]+"px "+o[2]+"px "+o[3]+"px'></div>");c.innerHTML=i,h.appendChild(c),t.backgroundDOM=c;var l=(0,ft.Z)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+r+"'></div>");h.appendChild(l),t.arrowDOM=l,t.container=h},t.prototype.show=function(t){var e=this,r=t.text,n=t.x;t.y,t.clientX,t.clientY;e.backgroundDOM.innerHTML=r;var i=e.backgroundDOM.offsetWidth,o=e.backgroundDOM.offsetHeight,a=e.arrowDOM.offsetWidth,s=e.arrowDOM.offsetHeight;(0,lt.Z)(e.container,{top:-o-s+"px",left:n+"px",visibility:"visible"}),(0,lt.Z)(e.backgroundDOM,{marginLeft:-i/2+"px"}),(0,lt.Z)(e.arrowDOM,{marginLeft:-a/2+"px",top:o+"px"});var u=n-i/2,h=n+i/2;u<0?(0,lt.Z)(e.backgroundDOM,{marginLeft:-i/2-u+"px"}):h>e.parentWidth&&(0,lt.Z)(e.backgroundDOM,{marginLeft:-i/2-h+e.parentWidth+12+"px"})},t.prototype.hide=function(){(0,lt.Z)(this.container,{top:0,left:0,visibility:"hidden"})},t}();var ku={fill:"#5B8FF9"},Eu={fill:"#e6e8e9"};const Cu=function(){function t(t){this.frameCount=0;var e=t.graph,r=t.canvas,n=t.group,i=t.width,o=t.height,a=t.padding,s=t.data,u=t.start,h=t.end,c=t.x,l=void 0===c?0:c,f=t.y,d=void 0===f?0:f,p=t.tickLabelFormatter,g=t.selectedTickStyle,v=void 0===g?ku:g,y=t.unselectedTickStyle,m=void 0===y?Eu:y,x=t.tooltipBackgroundColor,b=t.tooltipFomatter;this.graph=e,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=r,this.width=i,this.height=o,this.padding=a,this.data=s,this.start=u,this.end=h,this.tickLabelFormatter=p,this.selectedTickStyle=v,this.unselectedTickStyle=m,this.x=l,this.y=d,this.tooltipBackgroundColor=x,this.tooltipFomatter=b,this.renderSlices(),this.initEvent()}return t.prototype.renderSlices=function(){var t=this,e=t.width,r=t.height,n=t.padding,i=t.data,o=t.start,a=t.end,s=t.tickLabelFormatter,u=t.selectedTickStyle,h=t.unselectedTickStyle,c=e-2*n,l=r-(3*n+4+10)-2*n,f=i.length,d=(c-2*(f-1))/f;this.tickWidth=d;var p=this.sliceGroup,g=[],v=[],y=Math.round(f*o),m=Math.round(f*a);this.startTickRectId=y,this.endTickRectId=m,i.forEach((function(t,r){var i=r>=y&&r<=m?u:h,o=p.addShape("rect",{attrs:(0,x.__assign)({x:n+r*(d+2),y:n,width:d,height:l},i),draggable:!0,name:"tick-rect-"+r}),a=p.addShape("rect",{attrs:{x:n+r*d+2*(2*r-1)/2,y:n,width:0===r||r===f-1?d+1:d+2,height:l,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+r});a.toFront();var c,b=o.getBBox(),w=(b.minX+b.maxX)/2;if(g.push({rect:o,pickRect:a,value:t.date,x:w,y:b.minY}),s?(c=s(t),!(0,at.isString)(c)&&c&&(c=t.date)):r%Math.round(f/10)==0&&(c=t.date),c){v.push(c);var M=b.maxY+2*n;p.addShape("line",{attrs:{stroke:"#BFBFBF",x1:w,y1:M,x2:w,y2:M+4}});var S=M+4+n,_=p.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:w,y:S,textAlign:"center",text:c,textBaseline:"top",fontSize:10},capture:!1}),k=_.getBBox();k.maxX>e?_.attr("textAlign","right"):k.minX<0&&_.attr("textAlign","left")}})),this.tickRects=g;var b=this.group;this.currentSpeed=1,this.controllerBtnGroup=new du({group:b,x:this.x,y:this.y+r+5,width:e,height:40,hiddleToggle:!0,speed:this.currentSpeed})},t.prototype.initEvent=function(){var t=this,e=this.sliceGroup;e.on("click",(function(e){var r=e.target;if("rect"===r.get("type")&&r.get("name")){var n=parseInt(r.get("name").split("-")[2],10);if(!isNaN(n)){var i=t.tickRects,o=t.unselectedTickStyle;i.forEach((function(t){t.rect.attr(o)}));var a=t.selectedTickStyle;i[n].rect.attr(a),t.startTickRectId=n,t.endTickRectId=n;var s=n/i.length;t.graph.emit(vu,{value:[s,s]})}}})),e.on("dragstart",(function(e){var r=t.tickRects,n=t.unselectedTickStyle;r.forEach((function(t){t.rect.attr(n)}));var i=e.target,o=parseInt(i.get("name").split("-")[2],10),a=t.selectedTickStyle;r[o].rect.attr(a),t.startTickRectId=o;var s=o/r.length;t.graph.emit(vu,{value:[s,s]}),t.dragging=!0})),e.on("dragover",(function(e){if(t.dragging&&"rect"===e.target.get("type")){for(var r=parseInt(e.target.get("name").split("-")[2],10),n=t.startTickRectId,i=t.tickRects,o=t.selectedTickStyle,a=t.unselectedTickStyle,s=0;s<i.length;s++){var u=s>=n&&s<=r?o:a;i[s].rect.attr(u)}var h=i.length;t.endTickRectId=r;var c=n/h,l=r/h;t.graph.emit(vu,{value:[c,l]})}})),e.on("drop",(function(e){if(t.dragging&&(t.dragging=!1,"rect"===e.target.get("type"))){var r=t.startTickRectId,n=parseInt(e.target.get("name").split("-")[2],10);if(!(n<r)){var i=t.selectedTickStyle,o=t.tickRects;o[n].rect.attr(i),t.endTickRectId=n;var a=o.length,s=r/a,u=n/a;t.graph.emit(vu,{value:[s,u]})}}}));var r=this,n=r.tooltipBackgroundColor,i=r.tooltipFomatter,o=r.canvas,a=new _u({container:o.get("container"),backgroundColor:n}),s=this.tickRects;s.forEach((function(t){var e=t.pickRect;e.on("mouseenter",(function(t){var e=t.target;if("rect"===e.get("type")){var r=parseInt(e.get("name").split("-")[2],10),n=o.getClientByPoint(s[r].x,s[r].y);a.show({x:s[r].x,y:s[r].y,clientX:n.x,clientY:n.y,text:i?i(s[r].value):s[r].value})}})),e.on("mouseleave",(function(t){a.hide()}))}));var u=this.group;u.on("playPauseBtn:click",(function(){t.isPlay=!t.isPlay,t.changePlayStatus()})),u.on("nextStepBtn:click",(function(){t.updateStartEnd(1)})),u.on("preStepBtn:click",(function(){t.updateStartEnd(-1)})),u.on(yu,(function(e){e.type;var r=e.speed;t.currentSpeed=r}))},t.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(pu,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit(gu,null))},t.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame((function(){var e=t.currentSpeed;t.frameCount%(60/e)==0&&(t.frameCount=0,t.updateStartEnd(1)),t.frameCount++,t.isPlay&&(t.playHandler=t.startPlay())}))},t.prototype.updateStartEnd=function(t){var e=this,r=this.tickRects,n=r.length,i=this.unselectedTickStyle,o=this.selectedTickStyle,a=e.endTickRectId;if(t>0?e.endTickRectId++:(r[e.endTickRectId].rect.attr(i),e.endTickRectId--),a!==e.startTickRectId)e.endTickRectId<e.startTickRectId&&(e.startTickRectId=e.endTickRectId);else{for(var s=e.startTickRectId;s<=e.endTickRectId-1;s++)r[s].rect.attr(i);e.startTickRectId=e.endTickRectId}if(r[e.endTickRectId]){r[e.endTickRectId].rect.attr(o);var u=e.startTickRectId/n,h=e.endTickRectId/n;this.graph.emit(vu,{value:[u,h]})}},t.prototype.destory=function(){this.graph.off(vu);var t=this.sliceGroup;t.off("click"),t.off("dragstart"),t.off("dragover"),t.off("drop"),this.tickRects.forEach((function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")})),this.tickRects.length=0,t.off("playPauseBtn:click"),t.off("nextStepBtn:click"),t.off("preStepBtn:click"),t.off(yu),this.sliceGroup.destroy()},t}();const Pu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,x.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},e.prototype.initContainer=function(){var t,e,r=this.get("graph"),n=this._cfgs,i=n.width,o=n.height,a=this.get("className")||"g6-component-timebar",s=this.get("container"),u=this.get("graph").get("container");s?t=s:(t=(0,ft.Z)("<div class='"+a+"'></div>"),(0,lt.Z)(t,{position:"relative"})),u.appendChild(t),this.set("timeBarContainer",t),e="SVG"===r.get("renderer")?new Be.Z({container:t,width:i,height:o}):new De.Z({container:t,width:i,height:o}),this.set("canvas",e)},e.prototype.init=function(){this.initContainer();var t=this.get("canvas").addGroup({name:"timebar-group"});this.set("timeBarGroup",t),this.renderTrend(),this.initEvent()},e.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,r=t.x,n=t.y,i=t.padding,o=t.type,a=t.trend,s=t.slider,u=t.controllerCfg,h=a.data,c=(0,x.__rest)(a,["data"]),l=e-2*i,f="trend"===o?26:8,d=this.get("graph"),p=this.get("timeBarGroup"),g=this.get("canvas"),v=null;if("trend"===o||"simple"===o)v=new Su((0,x.__assign)((0,x.__assign)({graph:d,canvas:g,group:p,type:o,x:r+i,y:"trend"===o?n+i:n+i+15,width:l,height:f,padding:i,trendCfg:(0,x.__assign)((0,x.__assign)({},c),{data:h.map((function(t){return t.value}))})},s),{ticks:h.map((function(t){return t.date})),handlerStyle:(0,x.__assign)((0,x.__assign)({},s.handlerStyle),{height:s.height||f}),controllerCfg:u}));else if("tick"===o){var y=this._cfgs.tick;v=new Cu((0,x.__assign)({graph:d,canvas:g,group:p,x:r+i,y:n+i},y))}this.set("timebar",v)},e.prototype.filterData=function(t){var e=t.value,r=null,n=this._cfgs.type;if("trend"===n||"simple"===n?r=this._cfgs.trend.data:"tick"===n&&(r=this._cfgs.tick.data),r&&0!==r.length){var i=this.get("rangeChange"),o=this.get("graph"),a=Math.round(r.length*e[0]),s=Math.round(r.length*e[1]);s=s>=r.length?r.length-1:s;var u=r[a].date,h=r[s].date;if("tick"!==n)this.get("timebar").setText(u,h);if(i)i(o,u,h);else{var c=o.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=c);var l=this.cacheGraphData.nodes.filter((function(t){return t.date>=u&&t.date<=h})),f=l.map((function(t){return t.id})),d=this.cacheGraphData.edges.filter((function(t){return f.includes(t.source)&&f.includes(t.target)}));o.changeData({nodes:l,edges:d})}}else console.warn("请配置 TimeBar 组件的数据")},e.prototype.initEvent=function(){var t=this,e=0,r=0,n=this._cfgs.type;n&&"trend"!==n&&"simple"!==n?"tick"===n&&(e=this._cfgs.tick.start,r=this._cfgs.tick.end):(e=this._cfgs.slider.start,r=this._cfgs.slider.end);var i=this.get("graph");i.on("afterrender",(function(){t.filterData({value:[e,r]})})),i.on(vu,(function(e){t.filterData(e)}))},e.prototype.destroy=function(){var e=this.get("timebar");e&&e.destory&&e.destory(),t.prototype.destroy.call(this);var r=this.get("timeBarContainer");if(r){var n=this.get("container");n||(n=this.get("graph").get("container")),n.removeChild(r)}},e}(sa);var Au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,x.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,e=this._cfgs,r=e.graph;if(!this.destroyed){var n=this.get("container"),i=(0,ft.Z)("<div class="+e.viewportClassName+"\n      style='position:absolute;\n        left:0;\n        top:0;\n        box-sizing:border-box;\n        border: 2px solid #1980ff'>\n      </div>"),o=0,a=0,s=!1,u=0,h=0,c=0,l=0,f=0,d=0;n.addEventListener("mousedown",(function(n){if(e.refresh=!1,n.target===i){var u=i.style;c=parseInt(u.width,10),l=parseInt(u.height,10);var h=t.get("width"),p=t.get("height");c>h||l>p||(d=r.getZoom(),f=t.get("ratio"),s=!0,o=n.clientX,a=n.clientY)}}),!1),n.addEventListener("mousemove",(function(e){if(s&&!(0,v.default)(e.clientX)&&!(0,v.default)(e.clientY)){var n=t.get("width"),p=t.get("height"),g=i.style;u=parseInt(g.left,10),h=parseInt(g.top,10),c=parseInt(g.width,10),l=parseInt(g.height,10);var y=o-e.clientX,m=a-e.clientY;u-y<0?y=u:u-y+c>=n&&(y=0),h-m<0?m=h:h-m+l>=p&&(m=0),u-=y,h-=m,(0,lt.Z)(i,{left:u+"px",top:h+"px"}),r.translate(y*d/f,m*d/f),o=e.clientX,a=e.clientY}}),!1),n.addEventListener("mouseleave",(function(){s=!1,e.refresh=!0}),!1),n.addEventListener("mouseup",(function(){s=!1,e.refresh=!0}),!1),this.set("viewport",i),n.appendChild(i)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),r=this.get("height"),n=this.get("graph"),i=n.get("width"),o=i/n.get("height"),a=n.getGroup(),s=a.getCanvasBBox(),u=[(s.minX+s.maxX)/2,(s.minY+s.maxY)/2],h=[s.maxX-s.minX,s.maxY-s.minY],c={centerX:u[0],centerY:u[1],width:0,height:0,minX:0,minY:0};s[0]/s[1]>o?(c.width=h[0],c.height=c.width/o):(c.height=h[1],c.width=c.height*o),c.minX=u[0]-c.width/2,c.minY=u[1]-c.height/2;var l=a.getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]);var f=it.invert([],l),d=jt({x:c.minX,y:c.minY},f),p=n.getCanvasByPoint(d.x,d.y),g=this.get("viewport");g||this.initViewport();var v=i/c.width,y=v*e,m=v*r,x=e*-p.x/c.width,b=r*-p.y/c.height,w=x+y,M=b+m;x<0&&(y+=x,x=0),w>e&&(y-=w-e),b<0&&(m+=b,b=0),M>r&&(m-=M-r),this.set("ratio",t);var S=x+"px",_=b+"px";(0,lt.Z)(g,{left:S,top:_,width:y+"px",height:m+"px"})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this,e=t.get("graph"),r=e.get("width"),n=e.get("height")/r,i=t.get("className"),o=t.get("container"),a=t.get("width"),s=t.get("height");a||s||(a=200),a?(s=n*a,t.set("height",s)):(a=1/n*s,t.set("width",a));var u=(0,ft.Z)("<div class='"+i+"' style='width: "+a+"px; height: "+s+"px; overflow: hidden; position: relative;'></div>");(0,m.default)(o)&&(o=document.getElementById(o)),o?o.appendChild(u):e.get("container").appendChild(u),t.set("container",u);var h=(0,ft.Z)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');u.appendChild(h);var c=(0,ft.Z)('<span style="display: table-cell; vertical-align: middle; "></span>');h.appendChild(c),t.set("containerDOM",h),t.set("containerSpan",c);var l=(0,ft.Z)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",l),t.updateImgSize(),c.appendChild(l),t.updateCanvas()},e.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),r=t.get("width"),n=t.get("height");e.onload=function(){var t=function(t,e){var r,n;if(t.naturalWidth)r=t.naturalWidth,n=t.naturalHeight;else{var i=new Image;i.src=t.src,i.onload=function(){null==e||e(i.width,i.height)}}return[r,n]}(e);t[0]>t[1]?e.width=r:e.height=n}},e.prototype.updateCanvas=function(){if(this.get("refresh")){var t=this.get("graph");if(!t.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var e=this.get("width")/t.get("canvas").getCanvasBBox().width;this.set("ratio",e),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){var e=this;e.get("imgDOM").remove(),e.set("graphImg",t);var r=(0,ft.Z)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",r),r.src=t,e.updateImgSize(),e.get("containerSpan").appendChild(r),e.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(sa);var Iu={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"};const Ou={Menu:fa,Grid:ha,Minimap:pa,Bundling:ya,ToolBar:ba,Tooltip:wa,Fisheye:xa,TimeBar:Pu,ImageMinimap:Au,EdgeFilterLens:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,x.__extends)(e,t),e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,l.d9)(Iu),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"}}return t},e.prototype.init=function(){var t=this,e=t.get("showLabel"),r="node"===e||"both"===e,n="edge"===e||"both"===e;t.set("showNodeLabel",r),t.set("showEdgeLabel",n),t.get("shouldShow")||t.set("shouldShow",(function(){return!0}))},e.prototype.createDelegate=function(t){var e=this,r=e.get("delegate");r&&!r.destroyed||(e.filter(t),(r=e.get("delegate")).on("dragstart",(function(t){})),r.on("drag",(function(t){e.filter(t)})),"wheel"===this.get("scaleRBy")&&r.on("mousewheel",(function(t){e.scaleRByWheel(t)})))},e.prototype.scaleRByWheel=function(t){var e=this;if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var r,n=e.get("graph"),i=e.get("delegate");(i?{x:i.attr("x"),y:i.attr("y")}:void 0)||n.getPointByClient(t.clientX,t.clientY);r=t.originalEvent.wheelDelta<0?.95:1/.95;var o=e.get("maxR"),a=e.get("minR"),s=e.get("r");(s>(o||n.get("height"))&&r>1||s<(a||.05*n.get("height"))&&r<1)&&(r=1),s*=r,e.set("r",s),e.filter(t)}},e.prototype.filter=function(t){var e=this,r=e.get("graph"),n=r.getNodes(),i={},o=e.get("r"),a=e.get("type"),s={x:t.x,y:t.y};e.updateDelegate(s,o);var u=e.get("shouldShow"),h=e.get("vShapes");h&&h.forEach((function(t){t.remove(),t.destroy()})),h=[],n.forEach((function(t){var e=t.getModel(),r=e.x,n=e.y;zt({x:r,y:n},s)<o&&(i[e.id]=t)}));var c=r.getEdges(),l=[];c.forEach((function(t){var e=t.getModel(),r=e.source,n=e.target;u(e)&&("only-source"===a||"one"===a?i[r]&&!i[n]&&l.push(t):"only-target"===a||"one"===a?i[n]&&!i[r]&&l.push(t):"both"===a&&i[r]&&i[n]&&l.push(t))}));var f=e.get("showNodeLabel"),d=e.get("showEdgelabel"),p=r.get("group");l.forEach((function(t){t.get("group").get("children").forEach((function(t){var e=t.get("type"),r=p.addShape(e,{attrs:t.attr()});h.push(r),f&&"text"===e&&r.set("visible",!0)}))})),Object.keys(i).forEach((function(t){var e=i[t].get("group").clone();if(p.add(e),h.push(e),d)for(var r=e.get("children"),n=0;n<r.length;n++){var o=r[n];"text"===o.get("type")&&o.set("visible",!0)}})),e.set("vShapes",h)},e.prototype.updateParams=function(t){var e=this,r=t.r,n=t.trigger,i=t.minR,o=t.maxR,a=t.scaleRBy,s=t.showLabel,u=t.shouldShow;if(isNaN(t.r)||e.set("r",r),isNaN(o)||e.set("maxR",o),isNaN(i)||e.set("minR",i),"mousemove"!==n&&"click"!==n||e.set("trigger",n),"wheel"===a||"unset"===a){e.set("scaleRBy",a),e.get("delegate").remove(),e.get("delegate").destroy();var h=e.get("dPercentText");h&&(h.remove(),h.destroy())}"node"!==s&&"both"!==s||e.set("showNodeLabel",!0),"edge"!==s&&"both"!==s||e.set("showEdgeLabel",!0),u&&e.set("shouldShow",u)},e.prototype.updateDelegate=function(t,e){var r=this,n=r.get("graph"),i=r.get("delegate");if(!i||i.destroyed){var o=n.get("group"),a=r.get("delegateStyle")||Iu;i=o.addShape("circle",{attrs:(0,x.__assign)({r:e,x:t.x,y:t.y},a),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&"wheel"===this.get("scaleRBy")&&i.on("mousewheel",(function(t){r.scaleRByWheel(t)}))}else i.attr({x:t.x,y:t.y,r:e});r.set("delegate",i)},e.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach((function(t){t.remove(),t.destroy()})),e=[],t.set("vShapes",e);var r=t.get("delegate");r&&!r.destroyed&&(r.remove(),r.destroy())},e.prototype.destroy=function(){this.clear()},e}(sa)};function Tu(t,e,r,n){n.enter({current:e,previous:r}),t.getNeighbors(e,"target").forEach((function(i){n.allowTraversal({previous:r,current:e,next:i})&&Tu(t,i,e,n)})),n.leave({current:e,previous:r})}function Nu(t,e,r){var n=t.findById(e);Tu(t,n,null,function(t){void 0===t&&(t={});var e,r=t,n=function(){},i=(e={},function(t){var r=t.next;return!e[r.get("id")]&&(e[r.get("id")]=!0,!0)});return r.allowTraversal=t.allowTraversal||i,r.enter=t.enter||n,r.leave=t.leave||n,r}(r))}const Du=function(){function t(){this.linkedList=new eo}return t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},t.prototype.enqueue=function(t){this.linkedList.append(t)},t.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toString=function(t){return this.linkedList.toString(t)},t}();const Bu=function(t,e,r){var n=function(t){void 0===t&&(t={});var e,r=t,n=function(){},i=(e={},function(t){var r=t.next.get("id");return!e[r]&&(e[r]=!0,!0)});return r.allowTraversal=t.allowTraversal||i,r.enter=t.enter||n,r.leave=t.leave||n,r}(r),i=new Du,o=t.findById(e);i.enqueue(o);for(var a=null,s=function(){var e=i.dequeue();n.enter({current:e,previous:a}),t.getNeighbors(e,"target").forEach((function(t){n.allowTraversal({previous:a,current:e,next:t})&&i.enqueue(t)})),n.leave({current:e,previous:a}),a=e};!i.isEmpty();)s()};function ju(t){for(var e=[],r={},n={},i={},o=[],a=0,s=function s(u){n[u.get("id")]=a,i[u.get("id")]=a,a+=1,e.push(u),r[u.get("id")]=!0;for(var h=u.getNeighbors("target").filter((function(e){return t.indexOf(e)>-1})),c=0;c<h.length;c++){var l=h[c];n[l.get("id")]||0===n[l.get("id")]?r[l.get("id")]&&(i[u.get("id")]=Math.min(i[u.get("id")],n[l.get("id")])):(s(l),i[u.get("id")]=Math.min(i[u.get("id")],i[l.get("id")]))}if(i[u.get("id")]===n[u.get("id")]){for(var f=[];e.length>0;){var d=e.pop();if(r[d.get("id")]=!1,f.push(d),d===u)break}f.length>0&&o.push(f)}},u=0,h=t;u<h.length;u++){var c=h[u];n[c.get("id")]||0===n[c.get("id")]||s(c)}return o}function Ru(t,e){var r=void 0===e?t.get("directed"):e,n=t.getNodes();return r?ju(n):function(t){for(var e=[],r={},n=[],i=function t(e){n.push(e),r[e.get("id")]=!0;for(var i=e.getNeighbors(),o=0;o<i.length;++o){var a=i[o];r[a.get("id")]||t(a)}},o=0;o<t.length;o++){var a=t[o];if(!r[a.get("id")]){i(a);for(var s=[];n.length>0;)s.push(n.pop());e.push(s)}}return e}(n)}var Lu=function(t,e,r){var n,i,o;void 0===r&&(r=!0);for(var a=[],s=0,u=Ru(t,!1);s<u.length;s++){var h=u[s];if(h.length)for(var c=h[0],l=c.get("id"),f=[c],d=((n={})[l]=c,n),p=((i={})[l]=new Set,i);f.length>0;)for(var g=f.pop(),v=g.get("id"),y=g.getNeighbors(),m=0;m<y.length;m+=1){var x=y[m],b=x.get("id");if(b===v)a.push(((o={})[x.getID()]=g,o));else if(b in p){if(!p[v].has(x)){for(var w=!0,M=[x,g],S=d[v];p[b].size&&!p[b].has(S)&&(M.push(S),S!==d[S.getID()]);)S=d[S.getID()];if(M.push(S),e&&r?(w=!1,M.findIndex((function(t){return e.indexOf(t.get("id"))>-1}))>-1&&(w=!0)):e&&!r&&M.findIndex((function(t){return e.indexOf(t.get("id"))>-1}))>-1&&(w=!1),w){for(var _={},k=1;k<M.length;k+=1)_[M[k-1].getID()]=M[k];M.length&&(_[M[M.length-1].getID()]=M[0]),a.push(_)}p[b].add(g)}}else d[b]=g,f.push(x),p[b]=new Set([g])}}return a},zu=function(t,e,r){void 0===r&&(r=!0);for(var n=[],i=new Set,o=[],a=[],s={},u={},h=function t(u,h,c){var l=!1;if(e&&!1===r&&e.indexOf(u.get("id"))>-1)return l;n.push(u),i.add(u);for(var f=c[u.getID()],d=0;d<f.length;d+=1){if((v=s[f[d]])===h){for(var p={},g=1;g<n.length;g+=1)p[n[g-1].getID()]=n[g];n.length&&(p[n[n.length-1].getID()]=n[0]),a.push(p),l=!0}else i.has(v)||t(v,h,c)&&(l=!0)}if(l)!function(t){for(var e=[t];e.length>0;){var r=e.pop();i.has(r)&&(i.delete(r),o[r.get("id")].forEach((function(t){e.push(t)})),o[r.get("id")].clear())}}(u);else for(d=0;d<f.length;d+=1){var v=s[f[d]];o[v.get("id")].has(u)||o[v.get("id")].add(u)}return n.pop(),l},c=t.getNodes(),l=0;l<c.length;l+=1){var f=c[l],d=f.getID();u[d]=l,s[l]=f}if(e&&r)for(l=0;l<e.length;l++){d=e[l];u[c[l].getID()]=u[d],u[d]=0,s[0]=t.findById(d),s[u[c[l].getID()]]=c[l]}for(var p=function(t){for(var n,i,o=1/0,s=0;s<t.length;s+=1)for(var h=t[s],c=0;c<h.length;c++){var l=u[h[c].getID()];l<o&&(o=l,i=s)}var f=t[i],d=[];for(s=0;s<f.length;s+=1){var p=f[s];d[p.getID()]=[];for(var g=0,v=p.getNeighbors("target").filter((function(t){return f.indexOf(t)>-1}));g<v.length;g++){var y=v[g];y!==p||!1===r&&e.indexOf(p.getId())>-1?d[p.getID()].push(u[y.getID()]):a.push(((n={})[p.getID()]=p,n))}}return{component:f,adjList:d,minIdx:o}},g=0;g<c.length;){var v=ju(c.filter((function(t){return u[t.getID()]>=g}))).filter((function(t){return t.length>1}));if(0===v.length)break;var y=p(v),m=y.minIdx,x=y.adjList,b=y.component;if(!(b.length>1))break;b.forEach((function(t){o[t.get("id")]=new Set}));var w=s[m];if(e&&r&&-1===e.indexOf(w.get("id")))return a;h(w,w,x),g=m+1}return a},Fu=function(t,e,r,n){return void 0===n&&(n=!0),void 0===e&&(e=t.get("directed")),e?zu(t,r,n):Lu(t,r,n)};const Yu=function(t){var e=null,r={},n={},i={},o={};t.getNodes().forEach((function(t){n[t.getID()]=t}));for(var a={enter:function(t){var o=t.current,a=t.previous;if(i[o.getID()]){e={};for(var s=o,u=a;u.getID()!==o.getID();)e[s.getID()]=u,s=u,u=r[u.getID()];e[s.getID()]=u}else i[o.getID()]=o,delete n[o.getID()],r[o.getID()]=a},leave:function(t){var e=t.current;o[e.getID()]=e,delete i[e.getID()]},allowTraversal:function(t){var r=t.next;return!e&&!o[r.getID()]}};Object.keys(n).length;){Nu(t,Object.keys(n)[0],a)}return e};const Gu=function(t,e,r,n){var i=t.getNodes(),o=[],a={},s={},u={};i.forEach((function(t,r){var n=t.getID();o.push(n),s[n]=1/0,n===e&&(s[n]=0)}));for(var h=i.length,c=function(t){var e=function(t,e,r){for(var n,i=1/0,o=0;o<e.length;o++){var a=e[o].get("id");!r[a]&&t[a]<=i&&(i=t[a],n=e[o])}return n}(s,i,a),o=e.get("id");if(a[o]=!0,s[o]===1/0)return"continue";(r?e.getOutEdges():e.getEdges()).forEach((function(t){var r=t.getTarget().getID(),i=t.getSource().getID(),a=r===o?i:r,h=n&&t.getModel()[n]?t.getModel()[n]:1;s[a]>s[e.get("id")]+h&&(s[a]=s[e.get("id")]+h,u[a]=e.get("id"))}))},l=0;l<h;l++)c();var f={};for(var d in s){f[d]=[d];for(var p=u[d];void 0!==p;)f[d].unshift(p),p=u[p]}return{length:s,path:f}};var Xu=function(t,e,r,n,i){(0,at.isString)(e)&&(e=t.findById(e)),(0,at.isString)(r)&&(r=t.findById(r));var o=Gu(t,e.get("id"),n,i),a=o.length,s=o.path;return{length:a[r.get("id")],path:s[r.get("id")]}},Vu=function(t,e,r,n){var i;if((0,at.isString)(e)&&(e=t.findById(e)),(0,at.isString)(r)&&(r=t.findById(r)),void 0===n&&(n=t.get("directed")),e===r)return[[e.get("id")]];var o=[e],a=((i={})[e.get("id")]=!0,i),s=[],u=[],h=n?e.getNeighbors("target"):e.getNeighbors();for(s.push(h);o.length>0&&s.length>0;){var c=s[s.length-1];if(c.length){var l=c.shift();if(l&&(o.push(l),a[l.get("id")]=!0,h=n?l.getNeighbors("target"):l.getNeighbors(),s.push(h.filter((function(t){return!a[t.get("id")]})))),o[o.length-1]===r){var f=o.map((function(t){return t.get("id")}));u.push(f);d=o.pop();a[d.get("id")]=!1,s.pop()}}else{var d=o.pop();a[d.get("id")]=!1,s.pop()}}return u};const Hu=function(){function t(t){this.count=t.length,this.parent={};for(var e=0,r=t;e<r.length;e++){var n=r[e];this.parent[n]=n}}return t.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},t.prototype.union=function(t,e){var r=this.find(t),n=this.find(e);r!==n&&(r<n?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},t.prototype.connected=function(t,e){return this.find(t)===this.find(e)},t}();var qu=function(t,e){return t-e};const Wu=function(){function t(t){void 0===t&&(t=qu),this.compareFn=t,this.list=[]}return t.prototype.getLeft=function(t){return 2*t+1},t.prototype.getRight=function(t){return 2*t+2},t.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},t.prototype.isEmpty=function(){return this.list.length<=0},t.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},t.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return this.list.length>0&&(this.list[0]=e,this.moveDown(0)),t},t.prototype.insert=function(t){if(null!==t){this.list.push(t);var e=this.list.length-1;return this.moveUp(e),!0}return!1},t.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&t>0&&this.compareFn(this.list[e],this.list[t])>0;){var r=this.list[e];this.list[e]=this.list[t],this.list[t]=r,t=e,e=this.getParent(t)}},t.prototype.moveDown=function(t){var e,r=t,n=this.getLeft(t),i=this.getRight(t),o=this.list.length;null!==n&&n<o&&this.compareFn(this.list[r],this.list[n])>0?r=n:null!==i&&i<o&&this.compareFn(this.list[r],this.list[i])>0&&(r=i),t!==r&&(e=[this.list[r],this.list[t]],this.list[t]=e[0],this.list[r]=e[1],this.moveDown(r))},t}();var Uu=function(t,e){var r=[],n=t.getNodes();if(0===n.length)return r;var i=n[0],o=new Set;o.add(i);var a=new Wu((function(t,r){return e?t.getModel()[e]-r.getModel()[e]:0}));for(i.getEdges().forEach((function(t){a.insert(t)}));!a.isEmpty();){var s=a.delMin(),u=s.getSource(),h=s.getTarget();o.has(u)&&o.has(h)||(r.push(s),o.has(u)||(o.add(u),u.getEdges().forEach((function(t){a.insert(t)}))),o.has(h)||(o.add(h),h.getEdges().forEach((function(t){a.insert(t)}))))}return r},Zu=function(t,e){var r=[];if(0===t.getNodes().length)return r;var n=t.getEdges().map((function(t){return t}));e&&n.sort((function(t,r){return t.getModel()[e]-r.getModel()[e]}));for(var i=new Hu(t.getNodes().map((function(t){return t.get("id")})));n.length>0;){var o=n.shift(),a=o.getSource().get("id"),s=o.getTarget().get("id");i.connected(a,s)||(r.push(o),i.union(a,s))}return r};function Ku(t,e,r){return r?{prim:Uu,kruskal:Zu}[r](t,e):Zu(t,e)}const $u=function(t,e,r){"number"!=typeof e&&(e=1e-6),"number"!=typeof r&&(r=.85);for(var n,i=1,o=0,a=1e3,s=t.getNodes(),u=s.length,h={},c={},l=0;l<u;++l){h[f=(y=s[l]).get("id")]=1/u,c[f]=1/u}for(;a>0&&i>e;){o=0;for(l=0;l<u;++l){var f=(y=s[l]).get("id");if(n=0,0===t.getNodeDegree(y,"in"))h[f]=0;else{for(var d=y.getNeighbors("source"),p=0;p<d.length;++p){var g=d[p],v=t.getNodeDegree(g,"out");v>0&&(n+=c[g.get("id")]/v)}h[f]=r*n,o+=h[f]}}o=(1-o)/u,i=0;for(l=0;l<u;++l){var y;n=h[f=(y=s[l]).get("id")]+o,i+=Math.abs(n-c[f]),c[f]=n}a-=1}return c};var Qu=ia.registerNode,Ju=ia.registerEdge,th=(ia.registerCombo,Te.registerBehavior),eh=zi.registerLayout,rh=Ou.Tooltip;ia.registerNode,ia.registerEdge,ia.registerCombo,Te.registerBehavior,zi.registerLayout;var nh=I;"function"!=typeof nh&&(nh=O());var ih=function(){return(ih=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};const oh=function(){function t(t,e){var r,n=this;if(void 0===t&&(t={}),void 0===e&&(e={}),this.graph=null,this.tree=!1,this.colors={color:"#096dd9",bgColor:"#fff"},this.getGraph=function(){return n.graph},this.createGraph=function(t){var e;if(e="string"==typeof t?document.getElementById(t):t){n.el=e;var r=e.clientWidth,i=e.clientHeight,o=ih({container:t,width:r,height:i},n.config);return new vo(o)}return console.warn(t,"mount element was not found"),null},this.setData=function(t){return n.checkData(t),n.data=n.dataTransform(t),n.graph&&n.graph.changeData(n.data),n},this.getData=function(){if(n.graph)return n.graph.get("data")},t){var i=ih(ih({},e),this.colors),o=function(t,e){void 0===e&&(e="#fff");var r=nh(t),n=nh(e);return{style:{stroke:t,fill:n.mix(r,.2).hex()},stateStyles:{active:{lineWidth:2,stroke:t,shadow:n.mix(r,.1)},selected:{lineWidth:3,stroke:t,fill:e,shadow:n.mix(r,.1)},disable:{stroke:r.grayscale().hex(),fill:n.mix(r,.2).grayscale().hex()},highlight:{},inactive:{stroke:n.mix(r,.5).hex(),fill:n.mix(r,.1).hex()}}}}(i.color||"#096dd9",i.bgColor||"#fff"),a=o.stateStyles,s=o.style;this.config=ih(ih(ih({},this.config),t),{nodeStateStyles:a,defaultNode:ih(ih({},t.defaultNode||{}),{style:ih(ih({},(null===(r=t.defaultNode)||void 0===r?void 0:r.style)||{}),s)})})}this.registerCustomSetting()}return t.prototype.mount=function(t){this.graph=this.createGraph(t),this.graph&&(this.beforeRender&&this.beforeRender(),this.graph.data(this.data),this.graph.render(),this.afterRender&&this.afterRender())},t.prototype.registerCustomSetting=function(){},t.prototype.checkData=function(t){return!0},t.prototype.dataTransform=function(t){return t},t.prototype.beforeRender=function(){},t.prototype.afterRender=function(){},t.prototype.render=function(){this.graph&&this.graph.render()},t}();var ah,sh=(ah=function(t,e){return(ah=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}ah(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),uh=function(){return(uh=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};const hh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createGraph=function(t){var r;if(r="string"==typeof t?document.getElementById(t):t){e.el=r;var n=r.clientWidth,i=r.clientHeight,o=uh({container:t,width:n,height:i},e.config);return new xo(o)}return console.warn(t,"mount element was not found"),null},e}return sh(e,t),e}(oh);var ch=function(){return(ch=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},lh=function(t,e){return ch(ch({},t||{}),e||{})},fh=function(t,e){return ch(ch({},lh(t,e)),{defaultNode:lh(t.defaultNode,e.defaultNode),defaultEdge:lh(t.defaultEdge,e.defaultEdge),defaultCombo:lh(t.defaultCombo,e.defaultCombo),layout:lh(t.layout,e.layout),nodeStateStyles:lh(t.nodeStateStyles,e.nodeStateStyles),edgeStateStyles:lh(t.edgeStateStyles,e.edgeStateStyles),comboStateStyles:lh(t.comboStateStyles,e.comboStateStyles),modes:lh(t.modes,e.modes)})},dh=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ph=function(){return(ph=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},gh={fitView:!0,fitViewPadding:[10,20],layout:{type:"mindmap",direction:"H",getHeight:function(){return 16},getWidth:function(t){return 0===t.level?aa.getTextSize(t.label,16)[0]+12:aa.getTextSize(t.label,12)[0]},getVGap:function(){return 10},getHGap:function(){return 60}},defaultEdge:{type:"cubic-horizontal",style:{lineWidth:2}},modes:{default:[{type:"collapse-expand",onChange:function(t,e){return t.get("model").data.collapsed=e,!0}},"drag-canvas","zoom-canvas"]}};const vh=function(t){function e(e){var r=t.call(this,fh(gh,e))||this;return r.tree=!0,r}return dh(e,t),e.prototype.dataTransform=function(t){var e=function(t,r,n){void 0===r&&(r=0);var i=ph({},t);switch(r){case 0:i.type="dice-mind-map-root";break;case 1:i.type="dice-mind-map-sub";break;default:i.type="dice-mind-map-leaf"}return n&&(i.color=n),t.children&&(i.children=t.children.map((function(t){return e(t,r+1,i.color)}))),i};return e(t)},e.prototype.registerCustomSetting=function(){Qu("dice-mind-map-root",{jsx:function(t){return'\n          <group>\n            <rect draggable="true" style={{width: '+(aa.getTextSize(t.label,16)[0]+24)+", height: 42, stroke: "+(t.style.stroke||"#096dd9")+", fill: "+t.style.fill+", radius: 4}} keyshape>\n              <text style={{ fontSize: 16, marginLeft: 12, marginTop: 12 }}>"+t.label+"</text>\n            </rect>\n          </group>\n        "},getAnchorPoints:function(){return[[0,.5],[1,.5]]}},"single-node"),Qu("dice-mind-map-sub",{jsx:function(t){var e=aa.getTextSize(t.label,14)[0]+24,r=t.color||t.style.stroke;return'\n          <group>\n            <rect draggable="true" style={{width: '+e+", height: 22}}>\n              <text style={{ fontSize: 14, marginLeft: 12, marginTop: 6 }}>"+t.label+"</text>\n            </rect>\n            <rect style={{ fill: "+r+", width: "+e+", height: 4, x: 0, y: 22 }} />\n          </group>\n        "},getAnchorPoints:function(){return[[0,1],[1,1]]}},"single-node"),Qu("dice-mind-map-leaf",{jsx:function(t){var e=aa.getTextSize(t.label,12)[0]+24,r=t.color||t.style.stroke;return'\n          <group>\n            <rect draggable="true" style={{width: '+e+", height: 22 }}>\n              <text style={{ fontSize: 12, marginLeft: 12, marginTop: 6 }}>"+t.label+"</text>\n            </rect>\n            <rect style={{ fill: "+r+", width: "+e+", height: 2, x: 0, y: 32 }} />\n          </group>\n        "},getAnchorPoints:function(){return[[0,1],[1,1]]}},"single-node")},e.prototype.afterRender=function(){var t=this,e=function(){return t.graph.getEdges().forEach((function(e){return t.graph.updateItem(e,{style:{stroke:e.getTarget().get("model").color,lineWidth:2}})}))};e(),this.graph.on("afterlayout",e)},e}(hh);var yh=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mh=function(){return(mh=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},xh={fitView:!0,layout:{type:"dice-family-tree"},modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{size:[120,60],type:"dice-familytree-node",anchorPoints:[[.5,0],[.5,1]]},defaultEdge:{type:"dice-familytree-edge",style:{lineWidth:2}},plugins:[new rh({getContent:function(t){var e=t.item.get("model");return"\n      <div>\n        <h4>"+e.name+"</h4>\n        <p>"+(e.desc||"")+"</p>\n      </div>\n      "}})]};const bh=function(t){function e(e){return t.call(this,fh(xh,e))||this}return yh(e,t),e.prototype.dataTransform=function(t){var e=[],r=[],n=function(t,i,o){var a;void 0===i&&(i=0),void 0===o&&(o={node:0,gap:0});var s={node:1,gap:1};(null===(a=t.children)||void 0===a?void 0:a.length)&&(t.children.forEach((function(e){r.push({relation:"child",source:t.name+"-"+i,target:e.name+"-"+(i+1)});var a=n(e,i+1,{node:o.node+s.node-.5,gap:o.gap+s.gap-1});s.node+=a.node,s.gap+=a.gap})),s.gap-=1);var u=mh(mh({},t),{label:t.name,id:t.name+"-"+i,hasMate:t.mate,layoutInfo:mh(mh({},s),{level:i,startAtOffset:o})});return t.mate&&e.push(mh(mh({},t.mate),{label:t.mate.name,id:t.mate.name+"-"+i,mate:!0,layoutInfo:mh(mh({},s),{level:i,startAtOffset:o})})),e.push(u),s};return n(t),{nodes:e,edges:r}},e.prototype.registerCustomSetting=function(){eh("dice-family-tree",{execute:function(){this.layout(this)},layout:function(t){var e=this.getDefaultCfg()||{},r=e.gapWidth,n=void 0===r?20:r,i=e.gapHeight,o=void 0===i?100:i,a=t.nodes,s=320;return a=a.map((function(t){var e=t.layoutInfo,r=e.node,i=e.level,a=e.gap,u=e.startAtOffset,h=u.node,c=u.gap,l=r*s+a*n,f=(h+1)*s+c*n+100,d=i*(60+o)+100;return t.hasMate?t.x=f+l/2:t.mate?t.x=f+l/2-160:t.x=f+l/2-80,t.y=d,t.label=t.name,t})),t}}),Qu("dice-familytree-node",{jsx:function(t){return'\n        <group>\n          <rect draggable="true" style={{ height: 60, width: 160, radius: 6, fill: #fff, shadowBlur: 5, shadowColor: #ddd, shadowOffsetX: 4, shadowOffsetY: 4 }}>\n          <text style={{ marginLeft: 34, marginTop: '+(t.desc?8:22)+", fontWeight: bold, fontSize: 14 }}>"+t.name+"</text>\n          <text style={{ marginLeft: 6, marginTop: 18 }}>"+(e=t.desc||"",r=26,(e.length>r-3?e.slice(0,r-3)+"...":e)+"</text>\n          </rect>\n          <rect style={{ width: 24, height: 24, marginLeft: 6, marginTop: ")+(t.desc?-56:-42)+", stroke: "+("female"===t.gender?"#FF99C3":"male"===t.gender?"#5B8FF9":"#999")+", lineWidth: 3 }} />\n          "+(t.img?"<image style={{ marginLeft: 6, width: 24, height: 24, img: "+t.img+", radius: 12 }} />":"")+"\n        </group>\n      ";var e,r},getAnchorPoints:function(t){return t.mate?[[0,0],[0,1]]:t.hasMate?[[1,0],[1,1]]:[[.5,1],[.5,0]]}}),Ju("dice-familytree-edge",{getControlPoints:function(t){var e=t.startPoint,r=t.endPoint;return[{x:e.x,y:(e.y+r.y)/2},{x:r.x,y:(e.y+r.y)/2}]}},"polyline")},e}(oh);var wh=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mh=function(){return(Mh=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Sh={fitView:!0,fitViewPadding:[10,20],layout:{type:"dagre",controlPoints:!1,nodesep:20},modes:{default:["drag-canvas","zoom-canvas","drag-node"]},defaultEdge:{style:{lineWidth:2,stroke:"#7DAAFF"},labelCfg:{position:"start",refX:20,style:{textAlign:"center",stroke:"#fff",lineWidth:2}}}};const _h=function(t){function e(e){return t.call(this,fh(Sh,e))||this}return wh(e,t),e.prototype.dataTransform=function(t){var e=[];return{nodes:t.map((function(t){t.options&&Object.keys(t.options).sort().forEach((function(r,n){e.push({type:"dice-decision-edge",source:t.id,target:t.options[r],label:r,index:n})}));var r=Math.max(aa.getTextSize(t.label,14)[0]+20,40*Object.keys(t.options||{}).length);return Mh(Mh({width:r,size:[r,40]},t),{type:"dice-decision-node"})})),edges:e}},e.prototype.registerCustomSetting=function(){var t=this;Qu("dice-decision-node",{jsx:function(t){var e=t.options,r=void 0===e?{}:e,n=Object.keys(r).length,i=Number(t.width)/2-40*(n-1)/2;return'<group>\n          <rect draggable="true" style={{ width: '+t.width+", height: 40, fill: #ffffff, stroke: #5B8FF9, radius: 8, lineWidth: 3 }}>\n            <text style={{ fontSize: 14, marginLeft: "+Number(t.width)/2+", marginTop: 10, textAlign: center }}>"+t.label+"</text>\n            "+(n?Object.keys(r).map((function(t,e){return"<circle style={{ marginLeft: "+(i+40*e)+", marginTop: "+(e?0:23)+", fill: #fff, stroke: #5B8FF9, lineWidth: 3, r: 4, next: inline }} />"})):"")+"\n          </rect>\n        </group>\n      "},getAnchorPoints:function(){return[[.5,0],[.5,1]]}},"single-node"),Ju("dice-decision-edge",{getPathPoints:function(e){var r=t.graph.findById(e.source).get("model").options,n=void 0===r?{}:r,i=Object.keys(n).length,o=e.startPoint.x-40*(i-1)/2+40*Number(e.index);return Mh(Mh({},e),{startPoint:Mh(Mh({},e.startPoint),{x:o})})}},"polyline")},e}(oh);var kh=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Eh=function(){return(Eh=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};const Ch={MindMapGraph:vh,FamilyTreeGraph:bh,DecisionGraph:_h,ERGraph:function(t){function e(e){return t.call(this,fh({fitView:!0,fitViewPadding:[20],defaultNode:{size:[300,400],type:"dice-er-box",color:"#5B8FF9",style:{fill:"#9EC9FF",lineWidth:3},labelCfg:{style:{fill:"black",fontSize:20}}},defaultEdge:{type:"dice-er-edge",style:{stroke:"#e2e2e2",lineWidth:4,endArrow:!0}},modes:{default:["dice-er-scroll","drag-node","drag-canvas"]},layout:{type:"dagre",rankdir:"LR",align:"UL",controlPoints:!0,nodesepFunc:function(){return.2},ranksepFunc:function(){return.5}},animate:!0},e))||this}return kh(e,t),e.prototype.dataTransform=function(t){var e=[],r=[];return t.map((function(t){var n;e.push(Eh({},t)),null===(n=t.attrs)||void 0===n||n.forEach((function(e){var n;null===(n=e.relation)||void 0===n||n.forEach((function(n){r.push({source:t.id,target:n.nodeId,sourceKey:e.key,targetKey:n.key,label:n.label})}))}))})),{nodes:e,edges:r}},e.prototype.registerCustomSetting=function(){var t=30;th("dice-er-scroll",{getDefaultCfg:function(){return{multiple:!0}},getEvents:function(){return{itemHeight:50,wheel:"scorll",click:"click","node:mousemove":"move"}},scorll:function(t){t.preventDefault();var e=this.graph;e.getNodes().filter((function(r){var n=r.getBBox();return function(t,e){var r=t.x,n=t.y,i=e.minX,o=e.minY,a=e.maxX,s=e.maxY;return r<a&&r>i&&n>o&&n<s}(e.getPointByClient(t.clientX,t.clientY),n)})).forEach((function(r){var n=r.getModel();if(!(n.attrs.length<9)){var i=n.startIndex||0,o=n.startX||.5,a=i+.02*t.deltaY;a<0&&(a=0),(o-=t.deltaX)>0&&(o=0),a>n.attrs.length-1&&(a=n.attrs.length-1),e.update(r,{startIndex:a,startX:o})}}))},click:function(t){var e=this.graph,r=(t.y,t.item),n=t.shape;if(r){r.getModel();"collapse"===n.get("name")?(e.updateItem(r,{collapsed:!0,size:[300,50]}),setTimeout((function(){return e.layout()}),100)):"expand"===n.get("name")&&(e.updateItem(r,{collapsed:!1,size:[300,500]}),setTimeout((function(){return e.layout()}),100))}},move:function(t){var e,r=null===(e=t.shape)||void 0===e?void 0:e.get("name"),n=t.item;r&&r.startsWith("item")?this.graph.updateItem(n,{selectedIndex:Number(r.split("-")[1])}):this.graph.updateItem(n,{selectedIndex:NaN})}}),Ju("dice-er-edge",{draw:function(t,e){var r,n=e.cfg.item,i=n.getSource().getModel(),o=n.getTarget().getModel(),a=null===(r=i.attrs)||void 0===r?void 0:r.findIndex((function(e){return e.key===t.sourceKey})),s=i.startIndex||0,u=15;!i.collapsed&&a>s-1&&(u=30+30*(a-s+.5),u=Math.min(u,300));var h=o.attrs.findIndex((function(e){return e.key===t.targetKey})),c=o.startIndex||0,l=15;!o.collapsed&&h>c-1&&(l=30*(h-c+.5)+30,l=Math.min(l,300));var f,d=Eh({},t.startPoint),p=Eh({},t.endPoint);if(d.y=d.y+u,p.y=p.y+l,i.id!==o.id)f=e.addShape("path",{attrs:{stroke:"#5B8FF9",path:[["M",d.x,d.y],["C",p.x/3+2/3*d.x,d.y,p.x/3+2/3*d.x,p.y,p.x,p.y]],endArrow:!0},name:"path-shape"});else if(!i.collapsed){var g=Math.abs((d.y-p.y)/3);1===d.index&&(g=-g),f=e.addShape("path",{attrs:{stroke:"#5B8FF9",path:[["M",d.x,d.y],["C",d.x-g,d.y,d.x-g,p.y,d.x,p.y]],endArrow:!0},name:"path-shape"})}return f},afterDraw:function(t,e){t.labelCfg;var r=e.cfg.item,n=r.getSource().getModel(),i=r.getTarget().getModel();if(!n.collapsed||!i.collapsed){var o=e.find((function(t){return"path-shape"===t.get("name")})),a=aa.getLabelPosition(o,.5,0,0,!0);e.addShape("text",{attrs:Eh(Eh({},a),{text:t.label||"",fill:"#000",textAlign:"center",stroke:"#fff",lineWidth:1})}).rotateAtStart(a.rotate)}}}),Qu("dice-er-box",{draw:function(e,r){var n=250,i=316,o={stroke:"#096DD9",radius:4},a=e,s=a.attrs,u=void 0===s?[]:s,h=a.startIndex,c=void 0===h?0:h,l=a.selectedIndex,f=a.collapsed,d=a.icon,p=u,g=p.slice(Math.floor(c),Math.floor(c+10-1)),v=(.5-c%1)*t+30;r.addShape("rect",{attrs:{fill:o.stroke,height:30,width:n,radius:[o.radius,o.radius,0,0]},draggable:!0});var y=12;d&&!1!==d.show&&(r.addShape("image",{attrs:Eh({x:8,y:8,height:16,width:16},d)}),y+=18),r.addShape("text",{attrs:{y:22,x:y,fill:"#fff",text:e.label,fontSize:12,fontWeight:500}}),r.addShape("rect",{attrs:{x:0,y:f?30:300,height:15,width:n,fill:"#eee",radius:[0,0,o.radius,o.radius],cursor:"pointer"},name:f?"expand":"collapse"}),r.addShape("text",{attrs:{x:119,y:12+(f?30:300),text:f?"+":"-",width:n,fill:"#000",radius:[0,0,o.radius,o.radius],cursor:"pointer"},name:f?"expand":"collapse"});var m=r.addShape("rect",{attrs:Eh({x:0,y:0,width:n,height:f?45:i},o),draggable:!0});if(f)return m;var x=r.addGroup({});if(x.setClip({type:"rect",attrs:{x:-8,y:30,width:266,height:270}}),x.addShape({type:"rect",attrs:{x:1,y:30,width:248,height:270,fill:"#fff"},draggable:!0}),p.length>10){var b={width:4,padding:0,boxStyle:{stroke:"#00000022"},innerStyle:{fill:"#00000022"}};x.addShape("rect",{attrs:Eh({y:30,x:n-b.padding-b.width,width:b.width,height:286},b.boxStyle)});var w=g.length>10?g.length/p.length*i:10;x.addShape("rect",{attrs:Eh({y:30+b.padding+c/p.length*286,x:n-b.padding-b.width,width:b.width,height:Math.min(i,w)},b.innerStyle)})}return g.forEach((function(r,i){var a=Math.floor(c)+i===Number(l),s=r.key,u=void 0===s?"":s,h=r.type;h&&(u+=" - "+h);var f=u.length>26?u.slice(0,24)+"...":u;x.addShape("rect",{attrs:{x:1,y:i*t-15+v,width:246,height:t,radius:2,lineWidth:1,cursor:"pointer"},name:"item-"+(Math.floor(c)+i)+"-content",draggable:!0}),e.hideDot||(x.addShape("circle",{attrs:{x:0,y:i*t+v,r:3,stroke:o.stroke,fill:"white",radius:2,lineWidth:1,cursor:"pointer"}}),x.addShape("circle",{attrs:{x:n,y:i*t+v,r:3,stroke:o.stroke,fill:"white",radius:2,lineWidth:1,cursor:"pointer"}})),x.addShape("text",{attrs:{x:12,y:i*t+v+6,text:f,fontSize:12,fill:"#000",fontFamily:"Avenir,-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol",full:r,fontWeight:a?500:100,cursor:"pointer"},name:"item-"+(Math.floor(c)+i)})})),m},getAnchorPoints:function(){return[[0,0],[1,0]]}})},e}(oh)}},40466:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__extends:()=>i,__assign:()=>o,__rest:()=>a,__decorate:()=>s,__param:()=>u,__metadata:()=>h,__awaiter:()=>c,__generator:()=>l,__createBinding:()=>f,__exportStar:()=>d,__values:()=>p,__read:()=>g,__spread:()=>v,__spreadArrays:()=>y,__await:()=>m,__asyncGenerator:()=>x,__asyncDelegator:()=>b,__asyncValues:()=>w,__makeTemplateObject:()=>M,__importStar:()=>_,__importDefault:()=>k,__classPrivateFieldGet:()=>E,__classPrivateFieldSet:()=>C});var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return(o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function s(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a}function u(t,e){return function(r,n){e(r,n,t)}}function h(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))}function l(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var f=Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]};function d(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||f(e,t,r)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function y(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function x(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||s(t,e)}))})}function s(t,e){try{(r=i[t](e)).value instanceof m?Promise.resolve(r.value.v).then(u,h):c(o[0][2],r)}catch(t){c(o[0][3],t)}var r}function u(t){s("next",t)}function h(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:m(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}}function M(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var S=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&f(e,t,r);return S(e,t),e}function k(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function C(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},59407:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},2005:(t,e,r)=>{var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},i=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(s(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),u=n[r];r<o;u=n[++r])g(u)||!b(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(t,r){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var o,a={};function s(t,r){var n={seen:[],stylize:h};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&e._extend(n,r),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),c(n,t,n.depth)}function u(t,e){var r=s.styles[e];return r?"["+s.colors[r][0]+"m"+t+"["+s.colors[r][1]+"m":t}function h(t,e){return t}function c(t,r,n){if(t.customInspect&&r&&S(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return y(i)||(i=c(t,i,n)),i}var o=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(y(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(v(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,r);if(o)return o;var a=Object.keys(r),s=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(r)),M(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(r);if(0===a.length){if(S(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(x(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return t.stylize(Date.prototype.toString.call(r),"date");if(M(r))return l(r)}var h,b="",_=!1,k=["{","}"];(d(r)&&(_=!0,k=["[","]"]),S(r))&&(b=" [Function"+(r.name?": "+r.name:"")+"]");return x(r)&&(b=" "+RegExp.prototype.toString.call(r)),w(r)&&(b=" "+Date.prototype.toUTCString.call(r)),M(r)&&(b=" "+l(r)),0!==a.length||_&&0!=r.length?n<0?x(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),h=_?function(t,e,r,n,i){for(var o=[],a=0,s=e.length;a<s;++a)P(e,String(a))?o.push(f(t,e,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(t,e,r,n,i,!0))})),o}(t,r,n,s,a):a.map((function(e){return f(t,r,n,s,e,_)})),t.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(h,b,k)):k[0]+b+k[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),P(n,i)||(a="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=g(r)?c(t,u.value,null):c(t,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),m(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function g(t){return null===t}function v(t){return"number"==typeof t}function y(t){return"string"==typeof t}function m(t){return void 0===t}function x(t){return b(t)&&"[object RegExp]"===_(t)}function b(t){return"object"==typeof t&&null!==t}function w(t){return b(t)&&"[object Date]"===_(t)}function M(t){return b(t)&&("[object Error]"===_(t)||t instanceof Error)}function S(t){return"function"==typeof t}function _(t){return Object.prototype.toString.call(t)}function k(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(m(o)&&(o=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!a[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var r=process.pid;a[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else a[t]=function(){};return a[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=m,e.isRegExp=x,e.isObject=b,e.isDate=w,e.isError=M,e.isFunction=S,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(59407);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var t=new Date,e=[k(t.getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":");return[t.getDate(),E[t.getMonth()],e].join(" ")}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",C(),e.format.apply(e,arguments))},e.inherits=r(81104),e._extend=function(t,e){if(!e||!b(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(A&&t[A]){var e;if("function"!=typeof(e=t[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,i)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),A&&Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=A,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);var n=e.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return n.apply(i,arguments)};t.apply(this,e).then((function(t){process.nextTick(o,null,t)}),(function(t){process.nextTick(I,t,o)}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,n(t)),e}}},e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,r),i.loaded=!0,i.exports}return r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),r(9143)})().default}));